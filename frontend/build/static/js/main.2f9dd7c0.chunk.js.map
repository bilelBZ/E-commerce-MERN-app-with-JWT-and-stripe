{"version":3,"sources":["constants/userConstants.js","constants/orderConstants.js","actions/userActions.js","components/SearchBox.js","components/Header.js","components/Footer.js","components/Rating.js","components/Product.js","components/Paginate.js","components/Message.js","constants/productConstants.js","actions/productActions.js","components/BasicSkeleton.js","components/SkeletonShimmer.js","components/CarouselSkeleton.js","components/ProductCarousel.js","components/Meta.js","components/ProductSkeleton.js","pages/HomePage.js","components/ImageMagnifier.js","components/Loader.js","actions/orderActions.js","utils/getDateString.js","pages/ProductPage.js","constants/cartConstants.js","actions/cartActions.js","pages/CartPage.js","components/FormContainer.js","assets/googleLogo.png","assets/twitterLogo.png","pages/LoginPage.js","pages/RegisterPage.js","pages/ProfilePage.js","pages/ConfirmPage.js","components/CheckoutStatus.js","pages/ShippingPage.js","pages/PaymentPage.js","pages/PlaceOrderPage.js","components/CheckoutForm.js","pages/OrderPage.js","pages/PasswordResetPage.js","pages/UserListPage.js","pages/UserEditPage.js","pages/ProductListPage.js","pages/ProductEditPage.js","pages/OrderListPage.js","assets/404Error.png","pages/ErrorPage.js","serviceWorkerRegistration.js","ServiceWorkerWrapper.js","App.js","reducers/productReducers.js","store.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducers.js","index.js"],"names":["USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAILURE","USER_LOGIN_REFRESH_REQUEST","USER_LOGIN_REFRESH_SUCCESS","USER_LOGIN_REFRESH_FAILURE","USER_LOGOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAILURE","USER_RESET_PASSWORD_REQUEST","USER_RESET_PASSWORD_SUCCESS","USER_RESET_PASSWORD_FAILURE","USER_EMAIL_VERIFICATION_REQUEST","USER_EMAIL_VERIFICATION_SUCCESS","USER_EMAIL_VERIFICATION_FAILURE","USER_CONFIRM_REQUEST","USER_CONFIRM_SUCCESS","USER_CONFIRM_FAILURE","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAILURE","USER_DETAILS_RESET","USER_PROFILE_UPDATE_REQUEST","USER_PROFILE_UPDATE_SUCCESS","USER_PROFILE_UPDATE_FAILURE","USER_PROFILE_UPDATE_RESET","USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAILURE","USER_DELETE_REQUEST","USER_DELETE_SUCCESS","USER_DELETE_FAILURE","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAILURE","USER_UPDATE_RESET","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAILURE","ORDER_CREATE_RESET","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAILURE","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAILURE","ORDER_PAY_RESET","ORDER_DELIVER_REQUEST","ORDER_DELIVER_SUCCESS","ORDER_DELIVER_FAILURE","ORDER_DELIVER_RESET","ORDER_USER_LIST_REQUEST","ORDER_USER_LIST_SUCCESS","ORDER_USER_LIST_FAILURE","ORDER_USER_LIST_RESET","ORDER_ALL_LIST_REQUEST","ORDER_ALL_LIST_SUCCESS","ORDER_ALL_LIST_FAILURE","refreshLogin","email","async","dispatch","getState","type","userLogin","userInfo","isSocialLogin","payload","config","headers","data","axios","post","token","refreshToken","success","updatedUser","accessToken","localStorage","setItem","JSON","stringify","removeItem","error","response","message","getUserDetails","id","Authorization","concat","get","updateUserProfile","user","isSocial","put","SearchBox","_ref","history","keyword","setKeyword","useState","_jsx","Form","onSubmit","e","preventDefault","trim","push","className","children","_jsxs","InputGroup","Control","style","border","borderRight","name","onChange","target","value","placeholder","Text","background","borderLeft","margin","outline","padding","color","Header","useDispatch","useSelector","state","cart","cartItems","show1","setShow1","show2","setShow2","count","setCount","useEffect","reduce","acc","item","qty","handleLogout","window","location","href","display","innerHeight","minWidth","height","zIndex","position","onClick","Navbar","bg","variant","expand","Container","LinkContainer","to","Brand","Route","render","Nav","justifyContent","isAdmin","_Fragment","Link","fontSize","innerWidth","NavDropdown","title","show","Item","src","avatar","alt","Footer","rel","Rating","text","map","ele","idx","defaultProps","Product","product","Card","_id","Img","loading","image","Body","textDecoration","Title","as","rating","numReviews","price","toLocaleString","maximumFractionDigits","currency","Paginate","pages","page","forOrders","forUsers","Pagination","Array","keys","active","Number","Message","duration","dismissible","visible","setVisible","setTimeout","Alert","onClose","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAILURE","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAILURE","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAILURE","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAILURE","PRODUCT_CREATE_RESET","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAILURE","PRODUCT_UPDATE_RESET","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_REVIEW_FAILURE","PRODUCT_CREATE_REVIEW_RESET","PRODUCT_TOP_RATED_REQUEST","PRODUCT_TOP_RATED_SUCCESS","PRODUCT_TOP_RATED_FAILURE","listProducts","arguments","length","undefined","pageNumber","pageSize","listProductDetails","BasicSkeleton","classes","SkeletonShimmer","CarouselSkeleton","overflow","ProductCarousel","productTopRated","products","Carousel","marginTop","pause","indicators","interval","CarouselItem","Image","fluid","Caption","Meta","description","keywords","Helmet","content","ProductSkeleton","HomePage","match","params","promptVerfication","setPromptVerification","setProducts","productAvailable","setProductAvailable","productList","userDetails","userInfoError","parse","getItem","Row","Col","sm","md","lg","xl","ImageMagnifier","width","magnifierHeight","magnifieWidth","zoomLevel","x","y","setXY","imgWidth","imgHeight","setSize","showMagnifier","setShowMagnifier","onMouseEnter","elem","currentTarget","getBoundingClientRect","onMouseMove","top","left","pageX","pageXOffset","pageY","pageYOffset","onMouseLeave","pointerEvents","opacity","backgroundColor","backgroundImage","backgroundRepeat","borderRadius","backgroundSize","backgroundPositionX","backgroundPositionY","Loader","Spinner","animation","role","payOrder","orderID","paymentResult","listMyOrders","getDateString","date","showTime","timeStr","Date","toLocaleTimeString","timeStyle","hour12","timeZone","result","toLocaleDateString","year","month","day","ProductPage","quantity","setQuantity","setRating","review","setReview","allReviews","setAllReviews","hasOrderedItem","setHasOrderedItem","showReviewForm","setShowReviewForm","productDetails","userLoginError","productCreateReview","loadingCreateReview","successCreateReview","errorCreateReview","orderListUser","orders","alert","reviews","flag","obj","orderItems","toString","sortedArr","sort","a","b","createdAt","ListGroup","countInStock","Button","disabled","createProductReview","productID","Group","controlId","default","FloatingLabel","label","row","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_RESET","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","addItem","console","savePaymentMethod","log","CartPage","totalItems","setTotalItems","search","split","handleRemoveFromCart","alignItems","rounded","ButtonGroup","gap","marginBottom","size","FormContainer","xs","LoginPage","authFailedMsg","setAuthFailedMsg","showRedirectMsg","setShowRedirectMsg","forgotPassword","setForgotPassword","showLoading","setShowLoading","emailSent","setEmailSent","setType","setEmail","password","setPassword","redirect","storedInfo","includes","queries","isSuccess","then","_ref2","isConfirmed","userData","showHide","stopPropagation","handleSubmit","loginUser","handleEmailSubmit","boxShadow","WebkitBoxShadow","MozBoxShadow","cursor","required","marginLeft","RegisterPage","typePassword","setTypePassword","typeConfirmPassword","setTypeConfirmPassword","setName","confirmPassword","setConfirmPassword","setMessage","userRegister","registerUser","ProfilePage","inputFile","useRef","showSubmitButton","setShowSubmitButton","setAvatar","allOrders","setAllOrders","uploading","setUploading","errorImageUpload","setErrorImageUpload","userProfileUpdate","loadingOrdersList","errorOrdersList","userSendEmailVerfication","hasError","fontWeight","focus","sendVerficationEmail","flexFlow","alignSelf","handleImageClick","current","click","accept","ref","file","files","formData","FormData","append","Table","striped","bordered","responsive","order","textAlign","totalPrice","isPaid","paidAt","isDelivered","deliveredAt","ConfirmPage","userConfirm","isLoggedIn","setIsLoggedIn","emailToken","alreadyLoggedIn","confirmUser","CheckoutStatus","step1","step2","step3","step4","ShippingPage","shippingAddress","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","PaymentPage","paymentMethod","setPaymentMethod","Check","inline","checked","PlaceOrderPage","orderCreate","itemsPrice","shippingPrice","taxPrice","createOrder","CheckoutForm","setError","clientSecret","setClientSecret","stripe","useStripe","elements","useElements","getClientSecret","confirmBancontactPayment","payment_method","billing_details","return_url","paymentIntent","paymentMode","reload","CardElement","options","base","invalid","OrderPage","stripePromise","loadStripe","process","SDKReady","setSDKReady","orderDetails","orderPay","loadingPay","successPay","orderDeliver","loadingDeliver","successDeliver","getOrderDetails","clientID","script","document","createElement","onload","body","appendChild","addScript","PayPalButton","shape","layout","amount","toFixed","onSuccess","Elements","successDeliveryHandler","deliverOrder","PasswordResetPage","userResetPassword","resetPassword","nameFromLocalStorage","resetUserPassword","passwordToken","paddingLeft","UserListPage","userList","users","total","userDelete","successDelete","listAllUsers","handleDelete","confirm","delete","deleteUser","UserEditPage","userId","setIsAdmin","userUpdate","loadingUpdate","errorUpdate","successUpdate","newUserInfo","updateUser","Label","ProductListPage","productDelete","loadingDelete","errorDelete","productCreate","loadingCreate","successCreate","errorCreate","createdProduct","deleteProduct","handleCreateProduct","category","brand","ProductEditPage","productId","setBrand","setCategory","setDescription","setImage","setPrice","setCountInStock","productUpdate","updateProduct","min","max","step","orderListAll","listAllOrders","ErrorPage","errorImg","isLocalhost","Boolean","hostname","register","navigator","URL","origin","addEventListener","swUrl","fetch","contentType","status","indexOf","serviceWorker","ready","registration","unregister","registerValidSW","catch","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","ServiceWorkerWrapper","showReload","setShowReload","waitingWorker","setWaitingWorker","onSWUpdate","waiting","serviceWorkerRegistration","reloadPage","postMessage","ToastContainer","Toast","App","Router","Switch","path","component","exact","OrderListPage","reducer","combineReducers","action","existingItem","find","filter","userLoginRefresh","tokenInfo","isLoading","cartItemsFromLocalStorage","userInfoFromLocalStorage","initialState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","Provider","React","StrictMode","HelmetProvider","getElementById"],"mappings":"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","file":"static/js/main.2f9dd7c0.chunk.js","sourcesContent":["export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST';\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS';\nexport const USER_LOGIN_FAILURE = 'USER_LOGIN_FAILURE';\nexport const USER_LOGIN_REFRESH_REQUEST = 'USER_LOGIN_REFRESH_REQUEST';\nexport const USER_LOGIN_REFRESH_SUCCESS = 'USER_LOGIN_REFRESH_SUCCESS';\nexport const USER_LOGIN_REFRESH_FAILURE = 'USER_LOGIN_REFRESH_FAILURE';\nexport const USER_LOGOUT = 'USER_LOGOUT';\n\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\nexport const USER_REGISTER_FAILURE = 'USER_REGISTER_FAILURE';\n\nexport const USER_RESET_PASSWORD_REQUEST = 'USER_RESET_PASSWORD_REQUEST';\nexport const USER_RESET_PASSWORD_SUCCESS = 'USER_RESET_PASSWORD_SUCCESS';\nexport const USER_RESET_PASSWORD_FAILURE = 'USER_RESET_PASSWORD_FAILURE';\n\n// To send the email verification link\nexport const USER_EMAIL_VERIFICATION_REQUEST =\n\t'USER_EMAIL_VERIFICATION_REQUEST';\nexport const USER_EMAIL_VERIFICATION_SUCCESS =\n\t'USER_EMAIL_VERIFICATION_SUCCESS';\nexport const USER_EMAIL_VERIFICATION_FAILURE =\n\t'USER_EMAIL_VERIFICATION_FAILURE';\n\n// To actually verify the email token and confirm the user email\nexport const USER_CONFIRM_REQUEST = 'USER_CONFIRM_REQUEST';\nexport const USER_CONFIRM_SUCCESS = 'USER_CONFIRM_SUCCESS';\nexport const USER_CONFIRM_FAILURE = 'USER_CONFIRM_FAILURE';\n\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST';\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS';\nexport const USER_DETAILS_FAILURE = 'USER_DETAILS_FAILURE';\nexport const USER_DETAILS_RESET = 'USER_DETAILS_RESET';\n\nexport const USER_PROFILE_UPDATE_REQUEST = 'USER_PROFILE_UPDATE_REQUEST';\nexport const USER_PROFILE_UPDATE_SUCCESS = 'USER_PROFILE_UPDATE_SUCCESS';\nexport const USER_PROFILE_UPDATE_FAILURE = 'USER_PROFILE_UPDATE_FAILURE';\nexport const USER_PROFILE_UPDATE_RESET = 'USER_PROFILE_UPDATE_RESET';\n\nexport const USER_LIST_REQUEST = 'USER_LIST_REQUEST';\nexport const USER_LIST_SUCCESS = 'USER_LIST_SUCCESS';\nexport const USER_LIST_FAILURE = 'USER_LIST_FAILURE';\nexport const USER_LIST_RESET = 'USER_LIST_RESET';\n\nexport const USER_DELETE_REQUEST = 'USER_DELETE_REQUEST';\nexport const USER_DELETE_SUCCESS = 'USER_DELETE_SUCCESS';\nexport const USER_DELETE_FAILURE = 'USER_DELETE_FAILURE';\n\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST';\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS';\nexport const USER_UPDATE_FAILURE = 'USER_UPDATE_FAILURE';\nexport const USER_UPDATE_RESET = 'USER_UPDATE_RESET';\n","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\nexport const ORDER_CREATE_FAILURE = 'ORDER_CREATE_FAILURE';\nexport const ORDER_CREATE_RESET = 'ORDER_CREATE_RESET';\n\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\nexport const ORDER_DETAILS_FAILURE = 'ORDER_DETAILS_FAILURE';\n\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\nexport const ORDER_PAY_FAILURE = 'ORDER_PAY_FAILURE';\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET';\n\nexport const ORDER_DELIVER_REQUEST = 'ORDER_DELIVER_REQUEST';\nexport const ORDER_DELIVER_SUCCESS = 'ORDER_DELIVER_SUCCESS';\nexport const ORDER_DELIVER_FAILURE = 'ORDER_DELIVER_FAILURE';\nexport const ORDER_DELIVER_RESET = 'ORDER_DELIVER_RESET';\n\nexport const ORDER_USER_LIST_REQUEST = 'ORDER_USER_LIST_REQUEST';\nexport const ORDER_USER_LIST_SUCCESS = 'ORDER_USER_LIST_SUCCESS';\nexport const ORDER_USER_LIST_FAILURE = 'ORDER_USER_LIST_FAILURE';\nexport const ORDER_USER_LIST_RESET = 'ORDER_USER_LIST_RESET';\n\nexport const ORDER_ALL_LIST_REQUEST = 'ORDER_ALL_LIST_REQUEST';\nexport const ORDER_ALL_LIST_SUCCESS = 'ORDER_ALL_LIST_SUCCESS';\nexport const ORDER_ALL_LIST_FAILURE = 'ORDER_ALL_LIST_FAILURE';\n","import {\n\tUSER_LOGIN_REQUEST,\n\tUSER_LOGIN_SUCCESS,\n\tUSER_LOGIN_FAILURE,\n\tUSER_LOGIN_REFRESH_REQUEST,\n\tUSER_LOGIN_REFRESH_SUCCESS,\n\tUSER_LOGIN_REFRESH_FAILURE,\n\tUSER_LOGOUT,\n\tUSER_REGISTER_REQUEST,\n\tUSER_REGISTER_SUCCESS,\n\tUSER_REGISTER_FAILURE,\n\tUSER_RESET_PASSWORD_REQUEST,\n\tUSER_RESET_PASSWORD_SUCCESS,\n\tUSER_RESET_PASSWORD_FAILURE,\n\tUSER_EMAIL_VERIFICATION_REQUEST,\n\tUSER_EMAIL_VERIFICATION_SUCCESS,\n\tUSER_EMAIL_VERIFICATION_FAILURE,\n\tUSER_CONFIRM_REQUEST,\n\tUSER_CONFIRM_SUCCESS,\n\tUSER_CONFIRM_FAILURE,\n\tUSER_DETAILS_REQUEST,\n\tUSER_DETAILS_SUCCESS,\n\tUSER_DETAILS_FAILURE,\n\tUSER_DETAILS_RESET,\n\tUSER_PROFILE_UPDATE_REQUEST,\n\tUSER_PROFILE_UPDATE_SUCCESS,\n\tUSER_PROFILE_UPDATE_FAILURE,\n\tUSER_LIST_REQUEST,\n\tUSER_LIST_SUCCESS,\n\tUSER_LIST_FAILURE,\n\tUSER_DELETE_REQUEST,\n\tUSER_DELETE_SUCCESS,\n\tUSER_DELETE_FAILURE,\n\tUSER_UPDATE_REQUEST,\n\tUSER_UPDATE_SUCCESS,\n\tUSER_UPDATE_FAILURE,\n} from '../constants/userConstants';\nimport {\n\tORDER_CREATE_RESET,\n\tORDER_USER_LIST_RESET,\n} from '../constants/orderConstants';\nimport axios from 'axios';\n\n// login an user, can be a social login or a normal email verified login\nexport const loginUser = (email, password) => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: USER_LOGIN_REQUEST });\n\n\t\tconst config = {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t};\n\n\t\tconst { data } = await axios.post(\n\t\t\t'/api/users/login',\n\t\t\t{ email, password },\n\t\t\tconfig\n\t\t);\n\n\t\tdispatch({\n\t\t\ttype: USER_LOGIN_SUCCESS,\n\t\t\tpayload: { ...data, isSocialLogin: false },\n\t\t});\n\t\tdispatch({\n\t\t\ttype: USER_LOGIN_REFRESH_SUCCESS,\n\t\t\tpayload: data.refreshToken,\n\t\t});\n\t\t// store the refresh token and the rest of the user info in the local storage\n\t\tlocalStorage.setItem('refreshToken', data.refreshToken);\n\t\tlocalStorage.setItem(\n\t\t\t'userInfo',\n\t\t\tJSON.stringify({ ...data, isSocialLogin: false })\n\t\t);\n\t\t// remove the variable that helps prompt the user that email is not verified, each time they login\n\t\tlocalStorage.removeItem('promptEmailVerfication');\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: USER_LOGIN_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n\n// used for refreshing the access tokens when the user logs in using email and password\nexport const refreshLogin = (email) => async (dispatch, getState) => {\n\ttry {\n\t\tdispatch({ type: USER_LOGIN_REFRESH_REQUEST });\n\t\tconst {\n\t\t\tuserLogin: { userInfo },\n\t\t} = getState();\n\n\t\t// avoid this if social login\n\t\tif (userInfo.isSocialLogin) {\n\t\t\tdispatch({ type: USER_LOGIN_REFRESH_SUCCESS, payload: null });\n\t\t} else {\n\t\t\tconst config = {\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst { data } = await axios.post(\n\t\t\t\t'/api/users/refresh',\n\t\t\t\t{\n\t\t\t\t\temail,\n\t\t\t\t\ttoken: userInfo.refreshToken,\n\t\t\t\t},\n\t\t\t\tconfig\n\t\t\t);\n\n\t\t\tif (data.success) {\n\t\t\t\tdispatch({ type: USER_LOGIN_REFRESH_SUCCESS, payload: data });\n\t\t\t\tconst updatedUser = {\n\t\t\t\t\t...userInfo,\n\t\t\t\t\taccessToken: data.accessToken,\n\t\t\t\t\trefreshToken: userInfo.refreshToken,\n\t\t\t\t};\n\t\t\t\t// update the local storage\n\t\t\t\tlocalStorage.setItem('userInfo', JSON.stringify(updatedUser));\n\t\t\t\tdispatch({ type: USER_LOGIN_SUCCESS, payload: updatedUser });\n\t\t\t} else if (!data.success) {\n\t\t\t\t// set a variable in local storage which redirects to login page, if this refresh thing fails\n\t\t\t\tlocalStorage.removeItem('userInfo');\n\t\t\t\tlocalStorage.setItem('redirectLogin', 'true'); // after refresh token also expires, redirect to login page after loggin out the user\n\t\t\t\tdispatch({ type: USER_LOGOUT });\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: USER_LOGIN_REFRESH_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n\n// logout by removing all local storage info\nexport const logoutUser = () => (dispatch) => {\n\tlocalStorage.removeItem('userInfo');\n\tlocalStorage.removeItem('redirectLogin');\n\tlocalStorage.removeItem('cartItems');\n\tdispatch({ type: USER_LOGOUT });\n\tdispatch({ type: USER_DETAILS_RESET });\n\tdispatch({ type: ORDER_CREATE_RESET });\n\tdispatch({ type: ORDER_USER_LIST_RESET });\n};\n\n// register a new user with the form for name, email, password\nexport const registerUser = (name, email, password) => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: USER_REGISTER_REQUEST });\n\t\tconst config = {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t};\n\n\t\tconst { data } = await axios.post(\n\t\t\t'/api/users/',\n\t\t\t{ name, email, password },\n\t\t\tconfig\n\t\t);\n\n\t\tdispatch({ type: USER_REGISTER_SUCCESS, payload: data });\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: USER_REGISTER_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n\n// send an email for verification of the newly registered account\nexport const sendVerficationEmail = (email) => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: USER_EMAIL_VERIFICATION_REQUEST });\n\t\tconst config = {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t};\n\n\t\tconst { data } = await axios.post(\n\t\t\t'/api/users/confirm',\n\t\t\t{ email },\n\t\t\tconfig\n\t\t);\n\t\tdispatch({ type: USER_EMAIL_VERIFICATION_SUCCESS, payload: data });\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: USER_EMAIL_VERIFICATION_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n\n// take the email token sent from the mail, and confirm the account once the link is clicked\nexport const confirmUser =\n\t(emailToken, alreadyLoggedIn = false) =>\n\tasync (dispatch, getState) => {\n\t\ttry {\n\t\t\tdispatch({ type: USER_CONFIRM_REQUEST });\n\t\t\tconst { data } = await axios.get(\n\t\t\t\t`/api/users/confirm/${emailToken}`\n\t\t\t);\n\n\t\t\t// remove variable meant to prompt the user for email verification\n\t\t\tlocalStorage.removeItem('promptEmailVerfication');\n\t\t\tdispatch({ type: USER_CONFIRM_SUCCESS, payload: true });\n\n\t\t\tif (alreadyLoggedIn) {\n\t\t\t\tdispatch({ type: USER_LOGIN_SUCCESS, payload: data });\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: USER_LOGIN_REFRESH_SUCCESS,\n\t\t\t\t\tpayload: data.refreshToken,\n\t\t\t\t});\n\t\t\t\tlocalStorage.setItem('refreshToken', data.refreshToken);\n\t\t\t\tlocalStorage.setItem('userInfo', JSON.stringify(data));\n\t\t\t}\n\n\t\t\tlocalStorage.removeItem('promptEmailVerfication');\n\t\t} catch (error) {\n\t\t\tdispatch({\n\t\t\t\ttype: USER_CONFIRM_FAILURE,\n\t\t\t\tpayload:\n\t\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t\t: error.message,\n\t\t\t});\n\t\t}\n\t};\n\n// reset the user password and send one more verification email from the server\nexport const resetUserPassword =\n\t(passwordToken, password) => async (dispatch) => {\n\t\ttry {\n\t\t\tdispatch({ type: USER_RESET_PASSWORD_REQUEST });\n\n\t\t\t// make the api call to reset the password\n\t\t\tconst config = {\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst { data } = await axios.put(\n\t\t\t\t'/api/users/reset',\n\t\t\t\t{ passwordToken, password },\n\t\t\t\tconfig\n\t\t\t);\n\n\t\t\tdispatch({ type: USER_RESET_PASSWORD_SUCCESS, payload: data });\n\t\t} catch (error) {\n\t\t\tdispatch({\n\t\t\t\ttype: USER_RESET_PASSWORD_FAILURE,\n\t\t\t\tpayload:\n\t\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t\t: error.message,\n\t\t\t});\n\t\t}\n\t};\n\n// get user details for profile page\nexport const getUserDetails = (id) => async (dispatch, getState) => {\n\ttry {\n\t\tdispatch({ type: USER_DETAILS_REQUEST });\n\n\t\tconst {\n\t\t\tuserLogin: { userInfo },\n\t\t} = getState();\n\n\t\tif (userInfo.isSocialLogin) {\n\t\t\tconst config = {\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tlet { data } = await axios.post(\n\t\t\t\t'/api/users/passport/data/',\n\t\t\t\t{ id },\n\t\t\t\tconfig\n\t\t\t);\n\t\t\tdispatch({\n\t\t\t\ttype: USER_DETAILS_SUCCESS,\n\t\t\t\tpayload: { ...data, isSocialLogin: true },\n\t\t\t});\n\t\t} else {\n\t\t\tconst config = {\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst { data } = await axios.get(`/api/users/${id}`, config);\n\t\t\tdispatch({\n\t\t\t\ttype: USER_DETAILS_SUCCESS,\n\t\t\t\tpayload: { ...data, isSocialLogin: false },\n\t\t\t});\n\t\t}\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: USER_DETAILS_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n\n// update details in the user profile page\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\n\ttry {\n\t\tdispatch({ type: USER_PROFILE_UPDATE_REQUEST });\n\n\t\tconst {\n\t\t\tuserLogin: { userInfo },\n\t\t} = getState();\n\n\t\t// different headers are used when it is a social login, and when it is a std email login\n\t\tconst config = userInfo.isSocialLogin\n\t\t\t? {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\n\t\t\t\t\t},\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\n\t\t\t\t\t},\n\t\t\t  };\n\n\t\tconst isSocial = userInfo.isSocialLogin;\n\t\tconst { data } = await axios.put('/api/users/profile', user, config);\n\n\t\tdispatch({\n\t\t\ttype: USER_PROFILE_UPDATE_SUCCESS,\n\t\t\tpayload: { ...data, isSocialLogin: isSocial },\n\t\t});\n\n\t\t// login the user after updating the information\n\t\tdispatch({\n\t\t\ttype: USER_LOGIN_SUCCESS,\n\t\t\tpayload: { ...data, isSocialLogin: isSocial },\n\t\t});\n\n\t\tlocalStorage.setItem(\n\t\t\t'userInfo',\n\t\t\tJSON.stringify({ ...data, isSocialLogin: isSocial })\n\t\t);\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: USER_PROFILE_UPDATE_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n\n// fetch a list of all users, for the admin panel view\nexport const listAllUsers =\n\t(pageNumber = '') =>\n\tasync (dispatch, getState) => {\n\t\ttry {\n\t\t\tdispatch({ type: USER_LIST_REQUEST });\n\n\t\t\tconst {\n\t\t\t\tuserLogin: { userInfo },\n\t\t\t} = getState();\n\n\t\t\t// different headers are used when it is a social login, and when it is a std email login\n\t\t\tconst config = userInfo.isSocialLogin\n\t\t\t\t? {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\n\t\t\t\t\t\t},\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\n\t\t\t\t\t\t},\n\t\t\t\t  };\n\n\t\t\tconst { data } = await axios.get(\n\t\t\t\t`/api/users?pageNumber=${pageNumber}`,\n\t\t\t\tconfig\n\t\t\t);\n\n\t\t\tdispatch({ type: USER_LIST_SUCCESS, payload: data });\n\t\t} catch (error) {\n\t\t\tdispatch({\n\t\t\t\ttype: USER_LIST_FAILURE,\n\t\t\t\tpayload:\n\t\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t\t: error.message,\n\t\t\t});\n\t\t}\n\t};\n\n// delete the user from the admin panel view\nexport const deleteUser = (id) => async (dispatch, getState) => {\n\ttry {\n\t\tdispatch({ type: USER_DELETE_REQUEST });\n\n\t\tconst {\n\t\t\tuserLogin: { userInfo },\n\t\t} = getState();\n\n\t\t// different headers are used when it is a social login, and when it is a std email login\n\t\tconst config = userInfo.isSocialLogin\n\t\t\t? {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\n\t\t\t\t\t},\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\n\t\t\t\t\t},\n\t\t\t  };\n\n\t\tawait axios.delete(`/api/users/${id}`, config);\n\n\t\tdispatch({ type: USER_DELETE_SUCCESS });\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: USER_DELETE_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n\n// update the user details\nexport const updateUser = (user) => async (dispatch, getState) => {\n\ttry {\n\t\tdispatch({ type: USER_UPDATE_REQUEST });\n\n\t\tconst {\n\t\t\tuserLogin: { userInfo },\n\t\t} = getState();\n\n\t\tconst config = userInfo.isSocialLogin\n\t\t\t? {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\n\t\t\t\t\t},\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\n\t\t\t\t\t},\n\t\t\t  };\n\n\t\tconst isSocial = userInfo.isSocialLogin;\n\t\tconst { data } = await axios.put(\n\t\t\t`/api/users/${user._id}`,\n\t\t\tuser,\n\t\t\tconfig\n\t\t);\n\n\t\tdispatch({ type: USER_UPDATE_SUCCESS });\n\t\tdispatch({\n\t\t\ttype: USER_DETAILS_SUCCESS,\n\t\t\tpayload: { ...data, isSocialLogin: isSocial },\n\t\t});\n\n\t\tif (data.id === userInfo.id) {\n\t\t\t// // login the user after updating the information\n\t\t\tconst newUserInfo = {\n\t\t\t\t...userInfo,\n\t\t\t\t...userInfo,\n\t\t\t\tid: data.id,\n\t\t\t\tname: data.name,\n\t\t\t\temail: data.email,\n\t\t\t\tisAdmin: data.isAdmin,\n\t\t\t\tisConfirmed: data.isConfirmed,\n\t\t\t};\n\t\t\tdispatch({\n\t\t\t\ttype: USER_LOGIN_SUCCESS,\n\t\t\t\tpayload: newUserInfo,\n\t\t\t});\n\n\t\t\tlocalStorage.setItem('userInfo', JSON.stringify(newUserInfo));\n\t\t}\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: USER_UPDATE_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n","import React, { useState } from 'react';\nimport { Form, InputGroup } from 'react-bootstrap';\n\nconst SearchBox = ({ history }) => {\n\tconst [keyword, setKeyword] = useState('');\n\n\t// search for the keyword by redirecting to homepage with param\n\tconst handleSearch = (e) => {\n\t\te.preventDefault();\n\t\tif (keyword.trim()) {\n\t\t\thistory.push(`/search/${keyword}`);\n\t\t} else {\n\t\t\thistory.push('/');\n\t\t}\n\t};\n\n\treturn (\n\t\t<Form onSubmit={handleSearch} className='d-flex'>\n\t\t\t{/* display searchbar inside navbar in large screens only */}\n\t\t\t<InputGroup className='mt-2'>\n\t\t\t\t<Form.Control\n\t\t\t\t\ttype='text'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tborder: '1px solid #2c3e50',\n\t\t\t\t\t\tborderRight: 'none',\n\t\t\t\t\t}}\n\t\t\t\t\tname='keyword'\n\t\t\t\t\tclassName='mr-sm-2 ml-sm-4'\n\t\t\t\t\tonChange={(e) => setKeyword(e.target.value)}\n\t\t\t\t\tplaceholder='Search Products...'\n\t\t\t\t\tvalue={keyword}\n\t\t\t\t/>\n\t\t\t\t<InputGroup.Text\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackground: 'white',\n\t\t\t\t\t\tborder: '1px solid #2c3e50',\n\t\t\t\t\t\tborderLeft: 'none',\n\t\t\t\t\t}}>\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label='search'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmargin: '0',\n\t\t\t\t\t\t\tborder: '0',\n\t\t\t\t\t\t\toutline: '0',\n\t\t\t\t\t\t\tbackground: 'transparent',\n\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype='submit'>\n\t\t\t\t\t\t<i\n\t\t\t\t\t\t\tstyle={{ color: '#95a5a6' }}\n\t\t\t\t\t\t\tclassName='fas fa-search'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</button>\n\t\t\t\t</InputGroup.Text>\n\t\t\t</InputGroup>\n\t\t</Form>\n\t);\n};\n\nexport default SearchBox;\n","import React, { useState, useEffect } from \"react\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Navbar, Nav, Container, NavDropdown } from \"react-bootstrap\";\nimport { logoutUser } from \"../actions/userActions\";\nimport { Route } from \"react-router-dom\";\nimport SearchBox from \"./SearchBox\";\nimport \"../styles/header.css\";\n\nconst Header = () => {\n  const dispatch = useDispatch();\n  const userLogin = useSelector((state) => state.userLogin);\n  const cart = useSelector((state) => state.cart);\n  const { userInfo } = userLogin;\n  const { cartItems } = cart;\n\n  const [show1, setShow1] = useState(false); // to close dropdown when clicking anywhere outside\n  const [show2, setShow2] = useState(false); // to close dropdown when clicking anywhere outside\n  const [count, setCount] = useState(0);\n\n  // update count when new cart changes\n  useEffect(() => {\n    setCount(cartItems.reduce((acc, item) => acc + item.qty, 0));\n  }, [cartItems]);\n\n  // close the second dropdown when it is open and user clicks anywhere else\n  const handleDropdown2 = (e) => {\n    if (show2) {\n      setShow2(false);\n    } else {\n      setShow2(true);\n      setShow1(false);\n    }\n  };\n\n  // close the first dropdown when it is open and user clicks anywhere else\n  const handleDropdown1 = (e) => {\n    if (show1) {\n      setShow1(false);\n    } else {\n      setShow1(true);\n      setShow2(false);\n    }\n  };\n\n  // dispatch action to logout user\n  const handleLogout = () => {\n    dispatch(logoutUser());\n    window.location.href = \"/\";\n  };\n\n  // render different navbars for large and small screens without navbar toggle\n  return (\n    <header>\n      {/* this section covers entire screen except the dropdown, to handle onclicks */}\n      <section\n        className=\"navbar-dropdown-cover\"\n        style={{\n          display:\n            window.innerHeight > 430 && (show1 || show2) ? \"block\" : \"none\",\n          minWidth: \"100%\",\n          height: \"100%\",\n          zIndex: \"100\",\n          position: \"absolute\",\n        }}\n        onClick={() => {\n          setShow1(false);\n          setShow2(false);\n        }}\n      />\n\n      {/* conditionally render different navbars for the mobile sreens */}\n      <Navbar bg=\"primary\" variant=\"dark\" expand=\"lg\">\n        <Container>\n          <LinkContainer to=\"/\">\n            <Navbar.Brand>SHOPYAS</Navbar.Brand>\n          </LinkContainer>\n\n          {/* history is available only inside Route, so this is used */}\n          {/* display searchbar inside navbar in large screens only */}\n          <Route\n            render={({ history }) => (\n              <div className=\"d-none d-md-block\">\n                <SearchBox history={history} />\n              </div>\n            )}\n          />\n\n          <Nav\n            className=\"ms-auto nav-mobile\"\n            style={\n              userInfo\n                ? {\n                    justifyContent: \"space-between\",\n                  }\n                : {\n                    justifyContent: \"space-evenly\",\n                  }\n            }\n          >\n            {userInfo && userInfo.isAdmin && (\n              <>\n                {/* display this only on mobile screens */}\n                <LinkContainer\n                  className=\"d-block d-md-none\"\n                  to=\"/admin/userlist\"\n                >\n                  <Nav.Link>\n                    <i className=\"fas fa-users\" />\n                  </Nav.Link>\n                </LinkContainer>\n                <LinkContainer\n                  className=\"d-block d-md-none\"\n                  to=\"/admin/orderlist\"\n                >\n                  <Nav.Link>\n                    <i className=\"fas fa-user-shield\" />\n                  </Nav.Link>\n                </LinkContainer>\n                <LinkContainer\n                  className=\"d-block d-md-none\"\n                  to=\"/admin/productlist\"\n                >\n                  <Nav.Link>\n                    <i className=\"fas fa-shopping-bag\" />\n                  </Nav.Link>\n                </LinkContainer>\n              </>\n            )}\n            <LinkContainer to=\"/cart\">\n              <Nav.Link>\n                {/* indicate cart size */}\n                {count ? (\n                  <div className=\"nav-cart-size\">\n                    <span\n                      style={\n                        count > 10\n                          ? { fontSize: \"0.6em\" }\n                          : { fontSize: \"0.7em\" }\n                      }\n                    >\n                      {count}\n                    </span>\n                  </div>\n                ) : (\n                  \"\"\n                )}\n                <i className=\"fas fa-shopping-cart navbar-icons\" />{\" \"}\n                {!(userInfo && userInfo.isAdmin) || window.innerWidth >= 430\n                  ? \"Cart\"\n                  : \"\"}\n              </Nav.Link>\n            </LinkContainer>\n            {userInfo && userInfo.isAdmin && (\n              // show this only on md screens and above\n              <NavDropdown\n                className=\"d-none d-md-block\"\n                title=\"Admin\"\n                id=\"adminMenu\"\n                show={show2}\n                onClick={handleDropdown2}\n              >\n                <LinkContainer to=\"/admin/userlist\">\n                  <NavDropdown.Item>Users</NavDropdown.Item>\n                </LinkContainer>\n                <LinkContainer to=\"/admin/productlist\">\n                  <NavDropdown.Item>Products</NavDropdown.Item>\n                </LinkContainer>\n                <LinkContainer to=\"/admin/orderlist\">\n                  <NavDropdown.Item>Orders</NavDropdown.Item>\n                </LinkContainer>\n              </NavDropdown>\n            )}\n\n            {userInfo && (\n              // show this only on mobile screens\n              <Nav.Link className=\"d-block d-md-none\" onClick={handleLogout}>\n                <i className=\"fas fa-sign-out-alt navbar-icons\" />{\" \"}\n                {!(userInfo && userInfo.isAdmin) && \"Logout\"}\n              </Nav.Link>\n            )}\n\n            {userInfo ? (\n              <div className=\"nav-avatar-container\">\n                {/* show this container only on mobile screens */}\n                <LinkContainer to=\"/profile\" className=\"d-block d-md-none\">\n                  <Nav.Link>\n                    <img\n                      src={userInfo.avatar}\n                      className=\"nav-avatar\"\n                      alt={userInfo.name}\n                    />\n                  </Nav.Link>\n                </LinkContainer>\n                <img\n                  src={userInfo.avatar}\n                  className=\"nav-avatar d-none d-md-block\"\n                  alt={userInfo.name}\n                />\n\n                {/* show this dropdown only on large screens */}\n                <NavDropdown\n                  className=\"d-none d-md-block\"\n                  title={userInfo.name}\n                  id={userInfo.id}\n                  show={show1}\n                  onClick={handleDropdown1}\n                >\n                  <LinkContainer to=\"/profile\">\n                    <NavDropdown.Item>Profile</NavDropdown.Item>\n                  </LinkContainer>\n                  <NavDropdown.Item onClick={handleLogout}>\n                    Logout\n                  </NavDropdown.Item>\n                </NavDropdown>\n              </div>\n            ) : (\n              <LinkContainer to=\"/login\" variant=\"primary\">\n                <Nav.Link>\n                  <i className=\"fas fa-user navbar-icons\" /> Sign In\n                </Nav.Link>\n              </LinkContainer>\n            )}\n          </Nav>\n        </Container>\n      </Navbar>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport \"../styles/footer.css\";\n\nconst Footer = () => {\n  return (\n    <Container>\n      <footer className=\"footer-container\">\n        <div className=\"footer-icons\">\n          <a\n            href=\"https://github.com\"\n            aria-label=\"github account\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <i className=\"fab fa-github footer-icon\" />\n          </a>\n          <a\n            href=\"https://www.linkedin.com\"\n            aria-label=\"linkedin account\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <i className=\"fab fa-linkedin-in footer-icon\" />\n          </a>\n          <a\n            href=\"https://twitter.com\"\n            aria-label=\"twitter account\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <i className=\"fab fa-twitter footer-icon\" />\n          </a>\n          <a\n            href=\" \"\n            aria-label=\"developer portfolio\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <i className=\"fas fa-globe-asia footer-icon\" />\n          </a>\n        </div>\n        <div className=\"footer-copyright\">&copy;2022 SHOPYAS</div>\n      </footer>\n    </Container>\n  );\n};\n\nexport default Footer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Rating = ({ value, text, color }) => {\n\treturn (\n\t\t// show full/half star icon depending on rating value\n\t\t<div className='rating'>\n\t\t\t{[1, 2, 3, 4, 5].map((ele, idx) => (\n\t\t\t\t<span key={idx}>\n\t\t\t\t\t<i\n\t\t\t\t\t\tstyle={{ color: color, fontSize: '0.9em' }}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\tvalue >= ele\n\t\t\t\t\t\t\t\t? 'fas fa-star'\n\t\t\t\t\t\t\t\t: value >= ele - 0.5\n\t\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\n\t\t\t\t\t\t\t\t: 'far fa-star'\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttitle={`${value} Stars`}\n\t\t\t\t\t/>\n\t\t\t\t</span>\n\t\t\t))}\n\t\t\t<span style={{ fontSize: '0.9em' }}>{text && text}</span>\n\t\t</div>\n\t);\n};\n\nRating.defaultProps = {\n\tcolor: '#f8e825',\n};\n\nRating.propTypes = {\n\tvalue: PropTypes.number.isRequired,\n\ttext: PropTypes.string,\n\tcolor: PropTypes.string,\n};\n\nexport default Rating;\n","import React from 'react';\nimport Rating from './Rating';\nimport { Link } from 'react-router-dom';\nimport { Card } from 'react-bootstrap';\nimport '../styles/product.css';\n\nconst Product = ({ product }) => {\n\treturn (\n\t\t<Card className='mt-3 p-0'>\n\t\t\t<Link to={`/product/${product._id}`}>\n\t\t\t\t<Card.Img\n\t\t\t\t\tloading='lazy'\n\t\t\t\t\tclassName='product-image'\n\t\t\t\t\tsrc={product.image}\n\t\t\t\t\tvariant='top'\n\t\t\t\t\talt={product.name}\n\t\t\t\t/>\n\t\t\t</Link>\n\n\t\t\t<Card.Body>\n\t\t\t\t<Link\n\t\t\t\t\tto={`/product/${product._id}`}\n\t\t\t\t\tstyle={{ color: 'dimgray', textDecoration: 'none' }}>\n\t\t\t\t\t<Card.Title className='product-title' as='p'>\n\t\t\t\t\t\t<strong>{product.name}</strong>\n\t\t\t\t\t</Card.Title>\n\t\t\t\t</Link>\n\n\t\t\t\t<Card.Text as='div'>\n\t\t\t\t\t{product && product.rating && (\n\t\t\t\t\t\t<Rating\n\t\t\t\t\t\t\tvalue={product.rating}\n\t\t\t\t\t\t\ttext={`${product.numReviews} Review${\n\t\t\t\t\t\t\t\tproduct.numReviews > 1 ? 's' : ''\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Card.Text>\n\n\t\t\t\t<Card.Text as='h4'>\n\t\t\t\t\t{product.price &&\n\t\t\t\t\t\tproduct.price.toLocaleString('en-IN', {\n\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\tstyle: 'currency',\n\t\t\t\t\t\t\tcurrency: 'INR',\n\t\t\t\t\t\t})}\n\t\t\t\t</Card.Text>\n\t\t\t</Card.Body>\n\t\t</Card>\n\t);\n};\n\nexport default Product;\n","import React from 'react';\nimport { Pagination } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\n\n// different paginate components for products, and for admin panel view\nconst Paginate = ({\n\tpages,\n\tpage,\n\tisAdmin = false,\n\tkeyword = '',\n\tforOrders = false,\n\tforUsers = false,\n}) => {\n\treturn (\n\t\tpages > 1 && (\n\t\t\t<Pagination>\n\t\t\t\t{[...Array(pages).keys()].map((ele) => (\n\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\tkey={ele + 1}\n\t\t\t\t\t\tto={\n\t\t\t\t\t\t\tisAdmin\n\t\t\t\t\t\t\t\t? forOrders\n\t\t\t\t\t\t\t\t\t? `/admin/orderlist/${ele + 1}`\n\t\t\t\t\t\t\t\t\t: forUsers\n\t\t\t\t\t\t\t\t\t? `/admin/userlist/${ele + 1}`\n\t\t\t\t\t\t\t\t\t: `/admin/productlist/${ele + 1}`\n\t\t\t\t\t\t\t\t: keyword\n\t\t\t\t\t\t\t\t? `/search/${keyword}/page/${ele + 1}`\n\t\t\t\t\t\t\t\t: `/page/${ele + 1}`\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t<Pagination.Item active={ele + 1 === Number(page)}>\n\t\t\t\t\t\t\t{ele + 1}\n\t\t\t\t\t\t</Pagination.Item>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t))}\n\t\t\t</Pagination>\n\t\t)\n\t);\n};\n\nexport default Paginate;\n","import React, { useState, useEffect } from 'react';\nimport { Alert } from 'react-bootstrap';\n\nconst Message = ({ variant, duration, children, dismissible }) => {\n\tconst [visible, setVisible] = useState(true);\n\n\tuseEffect(() => {\n\t\tsetVisible(true);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (duration) {\n\t\t\tsetTimeout(() => setVisible(false), duration * 1000);\n\t\t}\n\t}, [duration]);\n\n\treturn (\n\t\t<Alert\n\t\t\tonClose={() => setVisible(false)}\n\t\t\tdismissible={dismissible}\n\t\t\tclassName='alert-custom'\n\t\t\tstyle={visible ? { display: 'block' } : { display: 'none' }}\n\t\t\tvariant={variant}>\n\t\t\t{children}\n\t\t</Alert>\n\t);\n};\n\nMessage.defaultProps = {\n\tvariant: 'info',\n\tdismissible: false,\n};\n\nexport default Message;\n","export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\nexport const PRODUCT_LIST_FAILURE = 'PRODUCT_LIST_FAILURE';\n\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\nexport const PRODUCT_DETAILS_FAILURE = 'PRODUCT_DETAILS_FAILURE';\n\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST';\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS';\nexport const PRODUCT_DELETE_FAILURE = 'PRODUCT_DELETE_FAILURE';\n\nexport const PRODUCT_CREATE_REQUEST = 'PRODUCT_CREATE_REQUEST';\nexport const PRODUCT_CREATE_SUCCESS = 'PRODUCT_CREATE_SUCCESS';\nexport const PRODUCT_CREATE_FAILURE = 'PRODUCT_CREATE_FAILURE';\nexport const PRODUCT_CREATE_RESET = 'PRODUCT_CREATE_RESET';\n\nexport const PRODUCT_UPDATE_REQUEST = 'PRODUCT_UPDATE_REQUEST';\nexport const PRODUCT_UPDATE_SUCCESS = 'PRODUCT_UPDATE_SUCCESS';\nexport const PRODUCT_UPDATE_FAILURE = 'PRODUCT_UPDATE_FAILURE';\nexport const PRODUCT_UPDATE_RESET = 'PRODUCT_UPDATE_RESET';\n\nexport const PRODUCT_CREATE_REVIEW_REQUEST = 'PRODUCT_CREATE_REVIEW_REQUEST';\nexport const PRODUCT_CREATE_REVIEW_SUCCESS = 'PRODUCT_CREATE_REVIEW_SUCCESS';\nexport const PRODUCT_CREATE_REVIEW_FAILURE = 'PRODUCT_CREATE_REVIEW_FAILURE';\nexport const PRODUCT_CREATE_REVIEW_RESET = 'PRODUCT_CREATE_REVIEW_RESET';\n\nexport const PRODUCT_TOP_RATED_REQUEST = 'PRODUCT_TOP_RATED_REQUEST';\nexport const PRODUCT_TOP_RATED_SUCCESS = 'PRODUCT_TOP_RATED_SUCCESS';\nexport const PRODUCT_TOP_RATED_FAILURE = 'PRODUCT_TOP_RATED_FAILURE';\n","import {\n\tPRODUCT_DETAILS_FAILURE,\n\tPRODUCT_DETAILS_REQUEST,\n\tPRODUCT_DETAILS_SUCCESS,\n\tPRODUCT_LIST_FAILURE,\n\tPRODUCT_LIST_REQUEST,\n\tPRODUCT_LIST_SUCCESS,\n\tPRODUCT_DELETE_FAILURE,\n\tPRODUCT_DELETE_REQUEST,\n\tPRODUCT_DELETE_SUCCESS,\n\tPRODUCT_CREATE_REQUEST,\n\tPRODUCT_CREATE_SUCCESS,\n\tPRODUCT_CREATE_FAILURE,\n\tPRODUCT_UPDATE_REQUEST,\n\tPRODUCT_UPDATE_SUCCESS,\n\tPRODUCT_UPDATE_FAILURE,\n\tPRODUCT_CREATE_REVIEW_REQUEST,\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\n\tPRODUCT_CREATE_REVIEW_FAILURE,\n\tPRODUCT_TOP_RATED_REQUEST,\n\tPRODUCT_TOP_RATED_SUCCESS,\n\tPRODUCT_TOP_RATED_FAILURE,\n} from '../constants/productConstants';\nimport axios from 'axios';\n\n// list orders based on keyword and page number when paginated\nexport const listProducts =\n\t(keyword = '', pageNumber = '', pageSize = '') =>\n\tasync (dispatch) => {\n\t\ttry {\n\t\t\tdispatch({ type: PRODUCT_LIST_REQUEST });\n\n\t\t\tconst { data } = await axios.get(\n\t\t\t\t`/api/products?keyword=${keyword}&pageNumber=${pageNumber}&pageSize=${pageSize}`\n\t\t\t);\n\n\t\t\tdispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\n\t\t} catch (error) {\n\t\t\tdispatch({\n\t\t\t\ttype: PRODUCT_LIST_FAILURE,\n\t\t\t\tpayload:\n\t\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t\t: error.message,\n\t\t\t});\n\t\t}\n\t};\n\n// fetch details of a particular product\nexport const listProductDetails = (id) => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: PRODUCT_DETAILS_REQUEST });\n\n\t\tconst { data } = await axios.get(`/api/products/${id}`);\n\n\t\tdispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: PRODUCT_DETAILS_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n\n// delete a particular product by taking an id\nexport const deleteProduct = (id) => async (dispatch, getState) => {\n\ttry {\n\t\tdispatch({ type: PRODUCT_DELETE_REQUEST });\n\n\t\tconst {\n\t\t\tuserLogin: { userInfo },\n\t\t} = getState();\n\n\t\t// different headers are used when it is a social login, and when it is a std email login\n\t\tconst config = userInfo.isSocialLogin\n\t\t\t? {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\n\t\t\t\t\t},\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\n\t\t\t\t\t},\n\t\t\t  };\n\n\t\tconst { data } = await axios.delete(`/api/products/${id}`, config);\n\n\t\tdata && dispatch({ type: PRODUCT_DELETE_SUCCESS });\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: PRODUCT_DELETE_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n\n// create a product, when the user is an admin\nexport const createProduct = () => async (dispatch, getState) => {\n\ttry {\n\t\tdispatch({ type: PRODUCT_CREATE_REQUEST });\n\n\t\tconst {\n\t\t\tuserLogin: { userInfo },\n\t\t} = getState();\n\n\t\t// different headers are used when it is a social login, and when it is a std email login\n\t\tconst config = userInfo.isSocialLogin\n\t\t\t? {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\n\t\t\t\t\t},\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\n\t\t\t\t\t},\n\t\t\t  };\n\n\t\tconst { data } = await axios.post(`/api/products/`, {}, config);\n\n\t\tdispatch({ type: PRODUCT_CREATE_SUCCESS, payload: data });\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: PRODUCT_CREATE_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n\n// update the product details from the admin panel view\nexport const updateProduct = (product) => async (dispatch, getState) => {\n\ttry {\n\t\tdispatch({ type: PRODUCT_UPDATE_REQUEST });\n\n\t\tconst {\n\t\t\tuserLogin: { userInfo },\n\t\t} = getState();\n\n\t\t// different headers are used when it is a social login, and when it is a std email login\n\t\tconst config = userInfo.isSocialLogin\n\t\t\t? {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\n\t\t\t\t\t},\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\n\t\t\t\t\t},\n\t\t\t  };\n\n\t\tconst { data } = await axios.put(\n\t\t\t`/api/products/${product._id}`,\n\t\t\tproduct,\n\t\t\tconfig\n\t\t);\n\n\t\tdispatch({ type: PRODUCT_UPDATE_SUCCESS, payload: data });\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: PRODUCT_UPDATE_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n\n// create a new product review for particular product\nexport const createProductReview =\n\t(productID, review) => async (dispatch, getState) => {\n\t\ttry {\n\t\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_REQUEST });\n\n\t\t\tconst {\n\t\t\t\tuserLogin: { userInfo },\n\t\t\t} = getState();\n\n\t\t\t// different headers are used when it is a social login, and when it is a std email login\n\t\t\tconst config = userInfo.isSocialLogin\n\t\t\t\t? {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\n\t\t\t\t\t\t},\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\n\t\t\t\t\t\t},\n\t\t\t\t  };\n\n\t\t\tawait axios.post(\n\t\t\t\t`/api/products/${productID}/reviews`,\n\t\t\t\treview,\n\t\t\t\tconfig\n\t\t\t);\n\n\t\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_SUCCESS });\n\t\t} catch (error) {\n\t\t\tdispatch({\n\t\t\t\ttype: PRODUCT_CREATE_REVIEW_FAILURE,\n\t\t\t\tpayload:\n\t\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t\t: error.message,\n\t\t\t});\n\t\t}\n\t};\n\n// fetch the top rated products for the carousel\nexport const getTopRatedProducts = () => async (dispatch) => {\n\ttry {\n\t\tdispatch({ type: PRODUCT_TOP_RATED_REQUEST });\n\n\t\tconst { data } = await axios.get('/api/products/top');\n\n\t\tdispatch({ type: PRODUCT_TOP_RATED_SUCCESS, payload: data });\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: PRODUCT_TOP_RATED_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n","import React from 'react';\nimport '../styles/skeleton.css';\n\nconst BasicSkeleton = ({ type }) => {\n\tconst classes = `skeleton ${type}`;\n\n\treturn <div className={classes} />;\n};\n\nexport default BasicSkeleton;\n","import React from 'react';\n\nconst SkeletonShimmer = () => {\n\treturn (\n\t\t<div className='shimmer-wrapper'>\n\t\t\t<div className='shimmer' />\n\t\t</div>\n\t);\n};\n\nexport default SkeletonShimmer;\n","import React from 'react';\nimport BasicSkeleton from './BasicSkeleton';\nimport SkeletonShimmer from './SkeletonShimmer';\n\nconst CarouselSkeleton = () => {\n\treturn (\n\t\t<div style={{ position: 'relative', overflow: 'hidden' }}>\n\t\t\t<BasicSkeleton type='box' />\n\t\t\t<SkeletonShimmer />\n\t\t</div>\n\t);\n};\n\nexport default CarouselSkeleton;\n","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Carousel, CarouselItem, Image } from 'react-bootstrap';\nimport Message from './Message';\nimport { getTopRatedProducts } from '../actions/productActions';\nimport '../styles/product-carousel.css';\nimport CarouselSkeleton from '../components/CarouselSkeleton';\n\nconst ProductCarousel = () => {\n\tconst dispatch = useDispatch();\n\n\tconst productTopRated = useSelector((state) => state.productTopRated);\n\tconst { error, loading, products } = productTopRated;\n\n\tuseEffect(() => {\n\t\tdispatch(getTopRatedProducts());\n\t}, [dispatch]);\n\treturn (\n\t\t<>\n\t\t\t{loading && <CarouselSkeleton />}\n\t\t\t{error && (\n\t\t\t\t<Message dismissible variant='danger'>\n\t\t\t\t\t{error}\n\t\t\t\t</Message>\n\t\t\t)}\n\t\t\t{/* render carousel only on large screens */}\n\t\t\t<Carousel\n\t\t\t\tstyle={{ marginTop: '0.5em' }}\n\t\t\t\tpause='hover'\n\t\t\t\tclassName='bg-primary'\n\t\t\t\tindicators={false}\n\t\t\t\tinterval={10000}>\n\t\t\t\t{products &&\n\t\t\t\t\tproducts.map((product) => (\n\t\t\t\t\t\t<CarouselItem key={product._id}>\n\t\t\t\t\t\t\t<Link to={`/product/${product._id}`}>\n\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\tsrc={product.image}\n\t\t\t\t\t\t\t\t\talt={product.name}\n\t\t\t\t\t\t\t\t\tfluid\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Carousel.Caption className='carousel-caption'>\n\t\t\t\t\t\t\t\t\t{product.name} (\n\t\t\t\t\t\t\t\t\t{product.price.toLocaleString('en-IN', {\n\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\n\t\t\t\t\t\t\t\t\t\tcurrency: 'INR',\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t</Carousel.Caption>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</CarouselItem>\n\t\t\t\t\t))}\n\t\t\t</Carousel>\n\t\t</>\n\t);\n};\n\nexport default ProductCarousel;\n","import React from 'react';\nimport { Helmet } from 'react-helmet-async';\n\nconst Meta = ({ title, description, keywords }) => {\n\treturn (\n\t\t<Helmet>\n\t\t\t<title>{title}</title>\n\t\t\t<meta name='description' content={description} />\n\t\t\t<meta name='keywords' content={keywords} />\n\t\t</Helmet>\n\t);\n};\n\nMeta.defaultProps = {\n\ttitle: 'Welcome to Kosells',\n\tkeywords: 'Electronics, Kosells, Ecommerce, Rajat',\n\tdescription: 'Buy the best products at the lowest prices',\n};\nexport default Meta;\n","import React from 'react';\nimport BasicSkeleton from './BasicSkeleton';\nimport SkeletonShimmer from './SkeletonShimmer';\n\nconst ProductSkeleton = () => {\n\treturn (\n\t\t<div className='skeleton-product-wrapper'>\n\t\t\t<BasicSkeleton type='box' />\n\t\t\t<BasicSkeleton type='text' />\n\t\t\t<BasicSkeleton type='text' />\n\t\t\t<SkeletonShimmer />\n\t\t</div>\n\t);\n};\n\nexport default ProductSkeleton;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Product from '../components/Product';\nimport Paginate from '../components/Paginate';\nimport { Row, Col } from 'react-bootstrap';\nimport ProductCarousel from '../components/ProductCarousel';\nimport Meta from '../components/Meta';\nimport { listProducts } from '../actions/productActions';\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\nimport Message from '../components/Message';\nimport SearchBox from '../components/SearchBox';\nimport ProductSkeleton from '../components/ProductSkeleton';\n\nconst HomePage = ({ match, history }) => {\n\tconst keyword = match.params.keyword; // to search for products\n\tconst pageNumber = Number(match.params.pageNumber) || 1; // current page number in the paginated display\n\tconst [promptVerfication, setPromptVerification] = useState(false); // prompt user to verify email if not yet confirmed\n\tconst [products, setProducts] = useState(null);\n\tconst [productAvailable, setProductAvailable] = useState(false);\n\tconst dispatch = useDispatch();\n\n\t// get the products list, userinfo and user details form the redix store\n\tconst productList = useSelector((state) => state.productList);\n\tlet { loading, error, pages } = productList;\n\n\tconst userLogin = useSelector((state) => state.userLogin);\n\tconst { userInfo } = userLogin;\n\n\tconst userDetails = useSelector((state) => state.userDetails);\n\tconst { error: userInfoError } = userDetails;\n\n\t// fetch the user details\n\tuseEffect(() => {\n\t\tuserInfo\n\t\t\t? userInfo.isSocialLogin\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\n\t\t\t\t: dispatch(getUserDetails('profile'))\n\t\t\t: dispatch(getUserDetails('profile'));\n\t}, [userInfo, dispatch]);\n\n\t// refresh token to get new access token if error in user details\n\tuseEffect(() => {\n\t\tif (userInfoError && userInfo && !userInfo.isSocialLogin) {\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\n\t\t\tdispatch(refreshLogin(user?.email));\n\t\t}\n\t}, [userInfoError, dispatch, userInfo]);\n\n\t// set a state variable to true or false depending on if products is avialable in the state\n\tuseEffect(() => {\n\t\tif (products) {\n\t\t\tproducts.length\n\t\t\t\t? setProductAvailable(true)\n\t\t\t\t: setProductAvailable(false);\n\t\t}\n\t}, [products]);\n\n\t// fetch products from redux store into local state\n\tuseEffect(() => {\n\t\tif (productList) {\n\t\t\tif (productList.products) setProducts([...productList.products]);\n\t\t}\n\t}, [productList]);\n\n\t// list products based on keyword and pagenumber\n\tuseEffect(() => {\n\t\tdispatch(listProducts(keyword, pageNumber));\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [dispatch, keyword, pageNumber]);\n\n\t// check if user needs to be promted about email verification on page load\n\tuseEffect(() => {\n\t\tsetPromptVerification(\n\t\t\tlocalStorage.getItem('promptEmailVerfication') === 'true'\n\t\t\t\t? true\n\t\t\t\t: false\n\t\t);\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<Meta />\n\t\t\t{/* display carousel only on larger screens */}\n\t\t\t{!keyword ? (\n\t\t\t\twindow.innerWidth > 430 && <ProductCarousel />\n\t\t\t) : (\n\t\t\t\t<Link\n\t\t\t\t\tclassName='btn btn-outline btn-outline-primary my-2'\n\t\t\t\t\tto='/'>\n\t\t\t\t\tGo Back\n\t\t\t\t</Link>\n\t\t\t)}\n\t\t\t{/* display this search bar on home page on mobile screens */}\n\t\t\t<div className='d-block d-md-none'>\n\t\t\t\t<SearchBox history={history} />\n\t\t\t</div>\n\n\t\t\t{/* if the user needs to be prompted about email verification, show this message */}\n\t\t\t{promptVerfication ? (\n\t\t\t\t<Message dismissible variant='info' duration={10}>\n\t\t\t\t\tAccount Created! Please check your email to verify your\n\t\t\t\t\taccount and start shopping.\n\t\t\t\t</Message>\n\t\t\t) : null}\n\n\t\t\t{error ? (\n\t\t\t\t<Message dismissible variant='danger' duration={10}>\n\t\t\t\t\t{error}\n\t\t\t\t</Message>\n\t\t\t) : !loading && products ? (\n\t\t\t\t<>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t{products.length\n\t\t\t\t\t\t\t? products.map((product) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Col\n\t\t\t\t\t\t\t\t\t\t\tsm={12}\n\t\t\t\t\t\t\t\t\t\t\tmd={6}\n\t\t\t\t\t\t\t\t\t\t\tlg={4}\n\t\t\t\t\t\t\t\t\t\t\txl={3}\n\t\t\t\t\t\t\t\t\t\t\tkey={product._id}>\n\t\t\t\t\t\t\t\t\t\t\t<Product product={product} />\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t: keyword &&\n\t\t\t\t\t\t\t  !productAvailable && (\n\t\t\t\t\t\t\t\t\t//   show this only if user has searched for some item and it is not available\n\t\t\t\t\t\t\t\t\t<Col className='text-center'>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-frown' /> No\n\t\t\t\t\t\t\t\t\t\t\titems found for this search query\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\tGo Back to the{' '}\n\t\t\t\t\t\t\t\t\t\t<Link to='/'>Home Page</Link>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t  )}\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Paginate\n\t\t\t\t\t\tclassName='mt-auto text-center'\n\t\t\t\t\t\tpage={pageNumber}\n\t\t\t\t\t\tkeyword={keyword ? keyword : ''}\n\t\t\t\t\t\tpages={pages}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\tloading &&\n\t\t\t\tproducts &&\n\t\t\t\tproducts.length === 0 && (\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t{[1, 2, 3, 4].map((ele) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Col sm={12} md={6} lg={4} xl={3} key={ele}>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<ProductSkeleton />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Row>\n\t\t\t\t)\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default HomePage;\n","import React, { useState } from 'react';\nimport { Image } from 'react-bootstrap';\n\nconst ImageMagnifier = ({\n\tsrc,\n\talt,\n\ttitle,\n\twidth,\n\theight,\n\tmagnifierHeight = 200,\n\tmagnifieWidth = 200,\n\tzoomLevel = 1.5,\n}) => {\n\tconst [[x, y], setXY] = useState([0, 0]);\n\tconst [[imgWidth, imgHeight], setSize] = useState([0, 0]);\n\tconst [showMagnifier, setShowMagnifier] = useState(false);\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tposition: 'relative',\n\t\t\t\theight: height,\n\t\t\t\twidth: width,\n\t\t\t}}>\n\t\t\t<Image\n\t\t\t\tclassName='product-image'\n\t\t\t\tsrc={src}\n\t\t\t\tstyle={{ height: height, width: width }}\n\t\t\t\tfluid\n\t\t\t\ttitle={title}\n\t\t\t\tonMouseEnter={(e) => {\n\t\t\t\t\t// update image size and turn-on magnifier\n\t\t\t\t\tconst elem = e.currentTarget;\n\t\t\t\t\tconst { width, height } = elem.getBoundingClientRect();\n\t\t\t\t\tsetSize([width, height]);\n\t\t\t\t\tsetShowMagnifier(true);\n\t\t\t\t}}\n\t\t\t\tonMouseMove={(e) => {\n\t\t\t\t\t// update cursor position\n\t\t\t\t\tconst elem = e.currentTarget;\n\t\t\t\t\tconst { top, left } = elem.getBoundingClientRect();\n\n\t\t\t\t\t// calculate cursor position on the image\n\t\t\t\t\tconst x = e.pageX - left - window.pageXOffset;\n\t\t\t\t\tconst y = e.pageY - top - window.pageYOffset;\n\t\t\t\t\tsetXY([x, y]);\n\t\t\t\t}}\n\t\t\t\tonMouseLeave={() => {\n\t\t\t\t\t// close magnifier\n\t\t\t\t\tsetShowMagnifier(false);\n\t\t\t\t}}\n\t\t\t\talt={alt}\n\t\t\t/>\n\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: showMagnifier ? '' : 'none',\n\t\t\t\t\t// display: window.innerWidth <= 468 ? 'none' : '',\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t// prevent maginier blocks the mousemove event of img\n\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\theight: `${magnifierHeight}px`,\n\t\t\t\t\twidth: `${magnifieWidth}px`,\n\t\t\t\t\t// move element center to cursor pos\n\t\t\t\t\ttop: `${y - magnifierHeight / 2.5}px`,\n\t\t\t\t\tleft: `${x - magnifieWidth / 2.5}px`,\n\t\t\t\t\topacity: '1', // reduce opacity so you can verify position\n\t\t\t\t\tborder: '1px solid lightgray',\n\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\tbackgroundImage: `url('${src}')`,\n\t\t\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\t\t\tborderRadius: '50%',\n\n\t\t\t\t\t//calculate zoomed image size\n\t\t\t\t\tbackgroundSize: `${imgWidth * zoomLevel}px ${\n\t\t\t\t\t\timgHeight * zoomLevel\n\t\t\t\t\t}px`,\n\n\t\t\t\t\t//calculete position of zoomed image.\n\t\t\t\t\tbackgroundPositionX: `${\n\t\t\t\t\t\t-x * zoomLevel + magnifieWidth / 2\n\t\t\t\t\t}px`,\n\t\t\t\t\tbackgroundPositionY: `${\n\t\t\t\t\t\t-y * zoomLevel + magnifierHeight / 2\n\t\t\t\t\t}px`,\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default ImageMagnifier;\n","import React from 'react';\nimport { Spinner } from 'react-bootstrap';\nimport '../styles/loader.css';\n\nconst Loader = () => {\n\treturn (\n\t\t<Spinner\n\t\t\tanimation='border'\n\t\t\trole='status'\n\t\t\tvariant='primary'\n\t\t\tclassName='loader'\n\t\t/>\n\t);\n};\n\nexport default Loader;\n","import {\n\tORDER_CREATE_REQUEST,\n\tORDER_CREATE_SUCCESS,\n\tORDER_CREATE_FAILURE,\n\tORDER_DETAILS_REQUEST,\n\tORDER_DETAILS_SUCCESS,\n\tORDER_DETAILS_FAILURE,\n\tORDER_PAY_REQUEST,\n\tORDER_PAY_SUCCESS,\n\tORDER_PAY_FAILURE,\n\tORDER_DELIVER_REQUEST,\n\tORDER_DELIVER_SUCCESS,\n\tORDER_DELIVER_FAILURE,\n\tORDER_USER_LIST_REQUEST,\n\tORDER_USER_LIST_SUCCESS,\n\tORDER_USER_LIST_FAILURE,\n\tORDER_ALL_LIST_REQUEST,\n\tORDER_ALL_LIST_SUCCESS,\n\tORDER_ALL_LIST_FAILURE,\n} from '../constants/orderConstants';\n\nimport axios from 'axios';\n\n// get all the details about the order and dispatch only of currently logged in\nexport const createOrder = (order) => async (dispatch, getState) => {\n\ttry {\n\t\tdispatch({ type: ORDER_CREATE_REQUEST });\n\n\t\tconst {\n\t\t\tuserLogin: { userInfo },\n\t\t} = getState();\n\n\t\t// different headers are used when it is a social login, and when it is a std email login\n\t\tconst config = userInfo.isSocialLogin\n\t\t\t? {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\n\t\t\t\t\t},\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\n\t\t\t\t\t},\n\t\t\t  };\n\n\t\tconst { data } = await axios.post('/api/orders/', order, config);\n\n\t\tdispatch({ type: ORDER_CREATE_SUCCESS, payload: data });\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: ORDER_CREATE_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n\n// get details about a particular order\nexport const getOrderDetails = (orderID) => async (dispatch, getState) => {\n\ttry {\n\t\tdispatch({ type: ORDER_DETAILS_REQUEST });\n\n\t\tconst {\n\t\t\tuserLogin: { userInfo },\n\t\t} = getState();\n\n\t\t// different headers are used when it is a social login, and when it is a std email login\n\t\tconst config = userInfo.isSocialLogin\n\t\t\t? {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\n\t\t\t\t\t},\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\n\t\t\t\t\t},\n\t\t\t  };\n\n\t\tconst { data } = await axios.get(`/api/orders/${orderID}`, config);\n\n\t\tdispatch({ type: ORDER_DETAILS_SUCCESS, payload: data });\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: ORDER_DETAILS_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n\n// update the current order to that of a paid one, and store the correct payment result\nexport const payOrder =\n\t(orderID, paymentResult) => async (dispatch, getState) => {\n\t\ttry {\n\t\t\tdispatch({ type: ORDER_PAY_REQUEST });\n\n\t\t\tconst {\n\t\t\t\tuserLogin: { userInfo },\n\t\t\t} = getState();\n\n\t\t\t// different headers are used when it is a social login, and when it is a std email login\n\t\t\tconst config = userInfo.isSocialLogin\n\t\t\t\t? {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\n\t\t\t\t\t\t},\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\n\t\t\t\t\t\t},\n\t\t\t\t  };\n\n\t\t\tconst { data } = await axios.put(\n\t\t\t\t`/api/orders/${orderID}/pay`,\n\t\t\t\tpaymentResult,\n\t\t\t\tconfig\n\t\t\t);\n\n\t\t\tdispatch({ type: ORDER_PAY_SUCCESS, payload: data });\n\t\t} catch (error) {\n\t\t\tdispatch({\n\t\t\t\ttype: ORDER_PAY_FAILURE,\n\t\t\t\tpayload:\n\t\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t\t: error.message,\n\t\t\t});\n\t\t}\n\t};\n\n// Set the current order as delivered, only when logged in user is an admin\nexport const deliverOrder = (orderID) => async (dispatch, getState) => {\n\ttry {\n\t\tdispatch({ type: ORDER_DELIVER_REQUEST });\n\n\t\tconst {\n\t\t\tuserLogin: { userInfo },\n\t\t} = getState();\n\n\t\tconst config = userInfo.isSocialLogin\n\t\t\t? {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\n\t\t\t\t\t},\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\n\t\t\t\t\t},\n\t\t\t  };\n\n\t\tconst { data } = await axios.put(\n\t\t\t`/api/orders/${orderID}/deliver`,\n\t\t\t{},\n\t\t\tconfig\n\t\t);\n\n\t\tdispatch({ type: ORDER_DELIVER_SUCCESS, payload: data });\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: ORDER_DELIVER_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n\n// list all the orders of a particular user\nexport const listMyOrders = () => async (dispatch, getState) => {\n\ttry {\n\t\tdispatch({ type: ORDER_USER_LIST_REQUEST });\n\n\t\tconst {\n\t\t\tuserLogin: { userInfo },\n\t\t} = getState();\n\n\t\t// different headers are used when it is a social login, and when it is a std email login\n\t\tconst config = userInfo.isSocialLogin\n\t\t\t? {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\n\t\t\t\t\t},\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\n\t\t\t\t\t},\n\t\t\t  };\n\n\t\tconst { data } = await axios.get(`/api/orders/myorders`, config);\n\n\t\tdispatch({ type: ORDER_USER_LIST_SUCCESS, payload: data });\n\t} catch (error) {\n\t\tdispatch({\n\t\t\ttype: ORDER_USER_LIST_FAILURE,\n\t\t\tpayload:\n\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t: error.message,\n\t\t});\n\t}\n};\n\n// list all orders for the admin panel view, include the pagenumber being fetched\nexport const listAllOrders =\n\t(pageNumber = '') =>\n\tasync (dispatch, getState) => {\n\t\ttry {\n\t\t\tdispatch({ type: ORDER_ALL_LIST_REQUEST });\n\n\t\t\tconst {\n\t\t\t\tuserLogin: { userInfo },\n\t\t\t} = getState();\n\n\t\t\t// different headers are used when it is a social login, and when it is a std email login\n\t\t\tconst config = userInfo.isSocialLogin\n\t\t\t\t? {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\n\t\t\t\t\t\t},\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\n\t\t\t\t\t\t},\n\t\t\t\t  };\n\n\t\t\tconst { data } = await axios.get(\n\t\t\t\t`/api/orders?pageNumber=${pageNumber}`,\n\t\t\t\tconfig\n\t\t\t);\n\n\t\t\tdispatch({ type: ORDER_ALL_LIST_SUCCESS, payload: data });\n\t\t} catch (error) {\n\t\t\tdispatch({\n\t\t\t\ttype: ORDER_ALL_LIST_FAILURE,\n\t\t\t\tpayload:\n\t\t\t\t\terror.response && error.response.data.message\n\t\t\t\t\t\t? error.response.data.message\n\t\t\t\t\t\t: error.message,\n\t\t\t});\n\t\t}\n\t};\n","// there is a need to convert mongodb dates to readable date formats in various pages\n// this util function does that, and has a second argument to decide whether the time has to be included\nconst getDateString = (date, showTime = true) => {\n\tconst options = {\n\t\tyear: 'numeric',\n\t\tmonth: 'short',\n\t\tday: 'numeric',\n\t};\n\tconst timeStr = new Date(date).toLocaleTimeString('en', {\n\t\ttimeStyle: 'short',\n\t\thour12: true,\n\t\ttimeZone: 'IST',\n\t});\n\n\tlet result = '';\n\tif (showTime) result += `${timeStr} `;\n\treturn result + new Date(date).toLocaleDateString('en', options);\n};\n\nexport default getDateString;\n","/* eslint-disable array-callback-return */\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport {\n\tRow,\n\tCol,\n\tCard,\n\tButton,\n\tListGroup,\n\tForm,\n\tFloatingLabel,\n} from 'react-bootstrap';\nimport ImageMagnifier from '../components/ImageMagnifier'; // to magnify image on hover\nimport Rating from '../components/Rating';\nimport Meta from '../components/Meta';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport {\n\tlistProductDetails,\n\tcreateProductReview,\n} from '../actions/productActions';\nimport { listMyOrders } from '../actions/orderActions';\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants';\nimport getDateString from '../utils/getDateString';\nimport '../styles/product-page.css';\n\nconst ProductPage = ({ history, match }) => {\n\tconst [quantity, setQuantity] = useState(1);\n\tconst [rating, setRating] = useState(0);\n\tconst [review, setReview] = useState('');\n\tconst [allReviews, setAllReviews] = useState([]);\n\tconst [hasOrderedItem, setHasOrderedItem] = useState(false); // bool to check if the user has ordered this product\n\tconst [showReviewForm, setShowReviewForm] = useState(false); // bool to decide whether to show the review form or not\n\tconst dispatch = useDispatch();\n\n\tconst userLogin = useSelector((state) => state.userLogin);\n\tconst { userInfo } = userLogin;\n\n\tconst productDetails = useSelector((state) => state.productDetails);\n\tconst { loading, product, error } = productDetails;\n\n\tconst userDetails = useSelector((state) => state.userDetails);\n\tconst { error: userLoginError } = userDetails;\n\n\tconst productCreateReview = useSelector(\n\t\t(state) => state.productCreateReview\n\t);\n\tconst {\n\t\tloading: loadingCreateReview,\n\t\tsuccess: successCreateReview,\n\t\terror: errorCreateReview,\n\t} = productCreateReview;\n\n\tconst orderListUser = useSelector((state) => state.orderListUser);\n\tconst { orders } = orderListUser;\n\n\t// fetch user login info\n\tuseEffect(() => {\n\t\tuserInfo\n\t\t\t? userInfo.isSocialLogin\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\n\t\t\t\t: dispatch(getUserDetails('profile'))\n\t\t\t: dispatch(getUserDetails('profile'));\n\t}, [userInfo, dispatch]);\n\n\t// refresh the access tokens for accessing user details\n\tuseEffect(() => {\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\n\t\t\tuser && dispatch(refreshLogin(user.email));\n\t\t}\n\t}, [userLoginError, dispatch, userInfo]);\n\n\tuseEffect(() => {\n\t\tdispatch(listMyOrders());\n\t}, [dispatch]);\n\n\t// add a new review, and reset the stored product review in the redux store\n\tuseEffect(() => {\n\t\tif (successCreateReview) {\n\t\t\twindow.alert('Review Submitted!!');\n\t\t\tsetRating(0);\n\t\t\tsetReview('');\n\t\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_RESET });\n\t\t}\n\t\tdispatch(listProductDetails(match.params.id));\n\t}, [match, dispatch, successCreateReview]);\n\n\tuseEffect(() => {\n\t\tif (product && product.reviews && userInfo) {\n\t\t\tlet flag = 0; // to check if this user has already reviewed this product\n\t\t\tfor (let review of product.reviews) {\n\t\t\t\tif (review.user === userInfo.id) {\n\t\t\t\t\tflag = 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tflag ? setShowReviewForm(false) : setShowReviewForm(true);\n\t\t} else {\n\t\t\tsetShowReviewForm(true);\n\t\t}\n\t}, [product, userInfo]);\n\n\tuseEffect(() => {\n\t\tif (orders && orders.length) {\n\t\t\tlet flag = 0; // to check is this user has ordered this item\n\t\t\tfor (let obj of orders) {\n\t\t\t\tfor (let ele of obj.orderItems) {\n\t\t\t\t\tif (ele.product.toString() === match.params.id) {\n\t\t\t\t\t\tflag = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tflag ? setHasOrderedItem(true) : setHasOrderedItem(false);\n\t\t} else {\n\t\t\tsetHasOrderedItem(false);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [orders]);\n\n\t// arrange all reviews in reverse chronological order\n\tuseEffect(() => {\n\t\tif (product && product.reviews) {\n\t\t\tconst sortedArr = product.reviews.sort(\n\t\t\t\t(a, b) => new Date(b.createdAt) - new Date(a.createdAt)\n\t\t\t);\n\t\t\tsetAllReviews(sortedArr);\n\t\t}\n\t}, [product]);\n\n\tconst handleAddToCart = (e) => {\n\t\thistory.push(`/cart/${match.params.id}?qty=${quantity}`);\n\t};\n\n\tconst handleReviewSubmit = (e) => {\n\t\tdispatch(\n\t\t\tcreateProductReview(match.params.id, {\n\t\t\t\trating,\n\t\t\t\treview,\n\t\t\t})\n\t\t);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Link className='btn btn-outline-primary my-2' to='/'>\n\t\t\t\tGo Back\n\t\t\t</Link>\n\t\t\t{product && (!product._id || product._id !== match.params.id) ? (\n\t\t\t\t<Loader />\n\t\t\t) : error ? (\n\t\t\t\t<Message dismissible variant='danger' duration={10}>\n\t\t\t\t\t{error}\n\t\t\t\t</Message>\n\t\t\t) : product ? (\n\t\t\t\t<>\n\t\t\t\t\t<Meta title={`${product.name}`} />\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col md={6}>\n\t\t\t\t\t\t\t<ImageMagnifier\n\t\t\t\t\t\t\t\tsrc={product.image}\n\t\t\t\t\t\t\t\talt={product.name}\n\t\t\t\t\t\t\t\ttitle={product.name}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col md={3}>\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\n\t\t\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t\t\t<h3>{product.name}</h3>\n\t\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t\t\t{product && product.rating && (\n\t\t\t\t\t\t\t\t\t\t<Rating\n\t\t\t\t\t\t\t\t\t\t\tvalue={product.rating}\n\t\t\t\t\t\t\t\t\t\t\ttext={`${\n\t\t\t\t\t\t\t\t\t\t\t\tproduct.numReviews\n\t\t\t\t\t\t\t\t\t\t\t} Review${\n\t\t\t\t\t\t\t\t\t\t\t\tproduct.numReviews > 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 's'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t\t\t<strong>Price: </strong>\n\t\t\t\t\t\t\t\t\t{product.price &&\n\t\t\t\t\t\t\t\t\t\tproduct.price.toLocaleString('en-IN', {\n\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\n\t\t\t\t\t\t\t\t\t\t\tcurrency: 'INR',\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t\t\t<strong>Description:</strong>{' '}\n\t\t\t\t\t\t\t\t\t{product.description}\n\t\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col md={3}>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Price: </strong>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t{product.price &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.price.toLocaleString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'en-IN',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'INR',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Status: </strong>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t{product.countInStock > 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'In Stock'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'Out of Stock'}\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t\t\t{product.countInStock > 0 && (\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>Qty:</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas='select'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={quantity}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetQuantity(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* create as many options as the countInStock */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...Array(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.countInStock\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).keys(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t].map((ele) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ele + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ele + 1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ele + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleAddToCart}\n\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-block btn-lg'\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.countInStock <= 0\n\t\t\t\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t\t\t\tAdd To Cart\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col md={6}>\n\t\t\t\t\t\t\t<h2 className='mt-3'>Reviews</h2>\n\t\t\t\t\t\t\t{(!product.reviews || !product.reviews.length) && (\n\t\t\t\t\t\t\t\t<Message variant='secondary'>\n\t\t\t\t\t\t\t\t\tNo Reviews Yet\n\t\t\t\t\t\t\t\t</Message>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\n\t\t\t\t\t\t\t\t{/* {console.log(\n\t\t\t\t\t\t\t\t\tproduct.reviews.\n\t\t\t\t\t\t\t\t)} */}\n\t\t\t\t\t\t\t\t{allReviews.map((item) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={item._id}>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.avatar}\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='review-avatar'\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{item.name}</strong>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<Rating value={item.rating} />\n\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin: '0',\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1.1em',\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t{item.review}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<small\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.9em',\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t{getDateString(\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.createdAt,\n\t\t\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t{hasOrderedItem && !showReviewForm && (\n\t\t\t\t\t\t\t\t\t<Message dismissible>\n\t\t\t\t\t\t\t\t\t\tYou have already reviewed this product\n\t\t\t\t\t\t\t\t\t</Message>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{hasOrderedItem && showReviewForm && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<h2>Write a Customer Review</h2>\n\t\t\t\t\t\t\t\t\t\t{errorCreateReview && (\n\t\t\t\t\t\t\t\t\t\t\t<Message\n\t\t\t\t\t\t\t\t\t\t\t\tdismissible\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='info'\n\t\t\t\t\t\t\t\t\t\t\t\tduration={10}>\n\t\t\t\t\t\t\t\t\t\t\t\t{errorCreateReview}\n\t\t\t\t\t\t\t\t\t\t\t</Message>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{loadingCreateReview && <Loader />}\n\t\t\t\t\t\t\t\t\t\t<Form onSubmit={handleReviewSubmit}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId='rating'>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\tas='select'\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rating}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetRating(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option default>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tChoose Rating\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='1'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 - Bad\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='2'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t2 - Poor\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='3'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t3 - Fair\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='4'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4 - Good\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='5'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t5 - Excellent\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId='comment'>\n\t\t\t\t\t\t\t\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontrolId='commenttext'\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel='Comment'\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='my-3'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas='textarea'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Leave a comment here'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trow='3'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetReview(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={review}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</FloatingLabel>\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t<div className='d-grid'>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button type='submit'>\n\t\t\t\t\t\t\t\t\t\t\t\t\tSubmit Review\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default ProductPage;\n","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\nexport const CART_RESET = 'CART_RESET';\nexport const CART_SAVE_SHIPPING_ADDRESS = 'CART_SAVE_SHIPPING_ADDRESS';\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD';\n","import axios from 'axios';\nimport {\n\tCART_ADD_ITEM,\n\tCART_REMOVE_ITEM,\n\tCART_SAVE_SHIPPING_ADDRESS,\n\tCART_SAVE_PAYMENT_METHOD,\n} from '../constants/cartConstants';\n\n// get the product id and the quantity of the item to add to the cart\nexport const addItem = (id, qty) => async (dispatch, getState) => {\n\ttry {\n\t\tconst { data } = await axios.get(`/api/products/${id}`);\n\t\tdispatch({\n\t\t\ttype: CART_ADD_ITEM,\n\t\t\tpayload: {\n\t\t\t\tproduct: data._id,\n\t\t\t\tname: data.name,\n\t\t\t\timage: data.image,\n\t\t\t\tprice: data.price,\n\t\t\t\tcountInStock: data.countInStock,\n\t\t\t\tqty,\n\t\t\t},\n\t\t});\n\n\t\t// update the local storage with the new cart\n\t\tlocalStorage.setItem(\n\t\t\t'cartItems',\n\t\t\tJSON.stringify(getState().cart.cartItems)\n\t\t);\n\t} catch (error) {\n\t\tconsole.error(error);\n\t}\n};\n\n// get the product id to be removed from the cart\nexport const removeItem = (id) => async (dispatch, getState) => {\n\ttry {\n\t\tdispatch({\n\t\t\ttype: CART_REMOVE_ITEM,\n\t\t\tpayload: id,\n\t\t});\n\t\t// update the local storage with the updated cart\n\t\tlocalStorage.setItem(\n\t\t\t'cartItems',\n\t\t\tJSON.stringify(getState().cart.cartItems)\n\t\t);\n\t} catch (error) {\n\t\tconsole.log(error);\n\t}\n};\n\n// get the shipping address data and dispatch corresponding action\nexport const saveShippingAddress = (data) => async (dispatch) => {\n\ttry {\n\t\tdispatch({\n\t\t\ttype: CART_SAVE_SHIPPING_ADDRESS,\n\t\t\tpayload: data,\n\t\t});\n\t\tlocalStorage.setItem('shippingAddress', JSON.stringify(data));\n\t} catch (error) {\n\t\tconsole.log(error);\n\t}\n};\n\n// get the option for payment and update the local storage as well\nexport const savePaymentMethod = (data) => async (dispatch) => {\n\ttry {\n\t\tdispatch({\n\t\t\ttype: CART_SAVE_PAYMENT_METHOD,\n\t\t\tpayload: data,\n\t\t});\n\t\tlocalStorage.setItem('paymentMethod', JSON.stringify(data));\n\t} catch (error) {\n\t\tconsole.log(error);\n\t}\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Row,\n  Col,\n  Image,\n  ButtonGroup,\n  ListGroup,\n  Button,\n  Card,\n} from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Meta from \"../components/Meta\";\nimport Message from \"../components/Message\";\nimport { refreshLogin, getUserDetails } from \"../actions/userActions\";\nimport { addItem, removeItem } from \"../actions/cartActions\";\n\nconst CartPage = ({ match, location, history }) => {\n  const [totalItems, setTotalItems] = useState(0);\n  const productID = match.params.id;\n  const qty = location.search ? Number(location.search.split(\"=\")[1]) : 1; // fetch from the query string\n  const dispatch = useDispatch();\n\n  // get cart, userInfo and userdetails from redux store\n  const cart = useSelector((state) => state.cart);\n  const { cartItems } = cart;\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const userDetails = useSelector((state) => state.userDetails);\n  const { error } = userDetails;\n\n  // get user details depending on what type of login it is, dispatch with correspnding argument\n  useEffect(() => {\n    userInfo\n      ? userInfo.isSocialLogin\n        ? dispatch(getUserDetails(userInfo.id))\n        : dispatch(getUserDetails(\"profile\"))\n      : dispatch(getUserDetails(\"profile\"));\n  }, [userInfo, dispatch]);\n\n  // store total items to local state\n  useEffect(() => {\n    if (cartItems) {\n      setTotalItems(cartItems.reduce((acc, item) => acc + item.qty, 0));\n    }\n  }, [cartItems]);\n\n  // if userdetails shows error, then use refresh token to get new access tokens\n  useEffect(() => {\n    if (error && userInfo && !userInfo.isSocialLogin) {\n      const user = JSON.parse(localStorage.getItem(\"userInfo\"));\n      user && dispatch(refreshLogin(user.email));\n    }\n  }, [error, dispatch, userInfo]);\n\n  // add item to cart\n  useEffect(() => {\n    if (productID) {\n      dispatch(addItem(productID, qty));\n    }\n  }, [dispatch, productID, qty]);\n\n  // remove item from cart\n  const handleRemoveFromCart = (id) => {\n    dispatch(removeItem(id));\n  };\n\n  // proceed to shipping address page, which is the next step in placing an order\n  const handleCheckout = (e) => {\n    history.push(\"/login?redirect=shipping\");\n  };\n\n  return (\n    <Row>\n      <Meta title=\"My Cart | Kosells\" />\n      <Col md={8}>\n        <h1>Shopping Cart.</h1>\n        {!cartItems.length ? (\n          <Message>\n            Your Cart is empty. <Link to=\"/\">Go Back.</Link>{\" \"}\n          </Message>\n        ) : (\n          <ListGroup variant=\"flush\">\n            {cartItems.map((item) => (\n              <ListGroup.Item key={item.product}>\n                <Row\n                  style={{\n                    display: \"flex\",\n                    alignItems: \"center\",\n                  }}\n                >\n                  <Col md={2}>\n                    <Image\n                      className=\"product-image\"\n                      src={item.image}\n                      alt={item.name}\n                      fluid\n                      rounded\n                    />\n                  </Col>\n                  <Col md={4}>\n                    <Link to={`/product/${item.product}`}>{item.name}</Link>\n                  </Col>\n                  <Col\n                    md={3}\n                    className=\"d-none d-md-flex\"\n                    style={{\n                      alignItems: \"center\",\n                      justifyContent: \"space-evenly\",\n                    }}\n                  >\n                    {item.price.toLocaleString(\"en-IN\", {\n                      maximumFractionDigits: 2,\n                      style: \"currency\",\n                      currency: \"eur\",\n                    })}\n\n                    <div>\n                      <i\n                        style={{ fontSize: \"0.7em\" }}\n                        className=\"fas fa-times\"\n                      />{\" \"}\n                      {item.qty}\n                    </div>\n                  </Col>\n                  {/* display this col only for larger screens */}\n                  <Col\n                    md={3}\n                    className=\"d-none d-md-flex\"\n                    style={{\n                      alignItems: \"center\",\n                      justifyContent: \"space-between\",\n                    }}\n                  >\n                    <ButtonGroup aria-label=\"Addtocart\">\n                      <Button\n                        style={{\n                          outline: \"none\",\n                          borderRight: \"1px solid white\",\n                        }}\n                        disabled={item.qty >= item.countInStock}\n                        onClick={() => {\n                          dispatch(addItem(item.product, Number(item.qty + 1)));\n                        }}\n                        variant=\"primary\"\n                      >\n                        <i className=\"fas fa-plus\" />\n                      </Button>\n                      <Button\n                        style={{\n                          outline: \"none\",\n                          borderLeft: \"1px solid white\",\n                        }}\n                        variant=\"primary\"\n                        disabled={item.qty === 1}\n                        onClick={() => {\n                          dispatch(addItem(item.product, Number(item.qty - 1)));\n                        }}\n                      >\n                        <i className=\"fas fa-minus\" />\n                      </Button>\n                    </ButtonGroup>\n\n                    <Button\n                      type=\"button\"\n                      onClick={() => handleRemoveFromCart(item.product)}\n                    >\n                      <i className=\"fas fa-trash\" />\n                    </Button>\n                  </Col>\n                  {/* display this col only on mobile screens */}\n                  <Col\n                    className=\"d-flex d-md-none mt-2\"\n                    style={{\n                      alignItems: \"center\",\n                      justifyContent: \"space-between\",\n                    }}\n                  >\n                    <div\n                      className=\"d-flex\"\n                      style={{\n                        fontSize: \"1.2em\",\n                        width: \"50%\",\n                      }}\n                    >\n                      {item.price.toLocaleString(\"en-IN\", {\n                        maximumFractionDigits: 2,\n                        style: \"currency\",\n                        currency: \"eur\",\n                      })}\n\n                      <div className=\"ms-1\">\n                        <i\n                          style={{\n                            fontSize: \"0.7em\",\n                          }}\n                          className=\"fas fa-times\"\n                        />{\" \"}\n                        {item.qty}\n                      </div>\n                    </div>\n\n                    <div\n                      className=\"d-flex\"\n                      style={{\n                        alignItems: \"center\",\n                        justifyContent: \"space-between\",\n                        width: \"50%\",\n                      }}\n                    >\n                      <Button\n                        type=\"button\"\n                        onClick={() => handleRemoveFromCart(item.product)}\n                      >\n                        <i className=\"fas fa-trash\" />\n                      </Button>\n                      <Button\n                        style={{\n                          outline: \"none\",\n                          borderRight: \"1px solid white\",\n                        }}\n                        disabled={item.qty >= item.countInStock}\n                        onClick={() => {\n                          dispatch(addItem(item.product, Number(item.qty + 1)));\n                        }}\n                        variant=\"primary\"\n                      >\n                        <i className=\"fas fa-plus\" />\n                      </Button>\n                      <Button\n                        style={{\n                          outline: \"none\",\n                          borderLeft: \"1px solid white\",\n                        }}\n                        variant=\"primary\"\n                        disabled={item.qty === 1}\n                        onClick={() => {\n                          dispatch(addItem(item.product, Number(item.qty - 1)));\n                        }}\n                      >\n                        <i className=\"fas fa-minus\" />\n                      </Button>\n                    </div>\n                  </Col>\n                </Row>\n                <Row>\n                  <div\n                    style={{\n                      display: \"flex\",\n                      justifyContent: \"center\",\n                      alignItems: \"center\",\n                      gap: \"10px\",\n                      marginBottom: \"20px\",\n                    }}\n                  >\n                    <Button\n                      onClick={() => {\n                        dispatch(addItem(item.product, Number(item.qty * 2.5)));\n                      }}\n                    >\n                      3 month{\" \"}\n                    </Button>\n                    <Button\n                      onClick={() => {\n                        dispatch(addItem(item.product, Number(item.qty * 5)));\n                      }}\n                    >\n                      6 month{\" \"}\n                    </Button>\n                    <Button\n                      onClick={() => {\n                        dispatch(addItem(item.product, Number(item.qty * 7)));\n                      }}\n                    >\n                      9 month{\" \"}\n                    </Button>\n                  </div>\n                </Row>\n              </ListGroup.Item>\n            ))}\n          </ListGroup>\n        )}\n      </Col>\n      <Col md={4} className=\"mt-3\">\n        <ListGroup>\n          <Card variant=\"flush\">\n            <ListGroup.Item>\n              <h2 className=\"text-center\">\n                Subtotal ({totalItems}) Item\n                {totalItems > 1 && \"s\"}\n              </h2>\n              <strong>\n                {cartItems\n                  .reduce((acc, item) => acc + item.qty * item.price, 0)\n                  .toLocaleString(\"en-IN\", {\n                    maximumFractionDigits: 2,\n                    style: \"currency\",\n                    currency: \"eur\",\n                  })}\n              </strong>\n            </ListGroup.Item>\n            <ListGroup.Item>\n              <div className=\"d-grid\">\n                <Button\n                  type=\"button\"\n                  size=\"lg\"\n                  disabled={!cartItems.length}\n                  onClick={handleCheckout}\n                >\n                  Proceed to checkout\n                </Button>\n              </div>\n            </ListGroup.Item>\n          </Card>\n        </ListGroup>\n      </Col>\n    </Row>\n  );\n};\n\nexport default CartPage;\n","import React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nconst FormContainer = ({ children }) => {\n\treturn (\n\t\t<Container>\n\t\t\t<Row className='justify-content-md-center'>\n\t\t\t\t<Col xs={12} md={6}>\n\t\t\t\t\t{children}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t);\n};\n\nexport default FormContainer;\n","export default __webpack_public_path__ + \"static/media/googleLogo.0590aaf0.png\";","export default __webpack_public_path__ + \"static/media/twitterLogo.f963dcac.png\";","import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  Form,\n  Button,\n  InputGroup,\n  Col,\n  Card,\n  FloatingLabel,\n} from \"react-bootstrap\";\nimport { loginUser } from \"../actions/userActions\";\nimport { USER_LOGIN_SUCCESS } from \"../constants/userConstants\";\nimport axios from \"axios\";\nimport Loader from \"../components/Loader\";\nimport Message from \"../components/Message\";\nimport FormContainer from \"../components/FormContainer\";\nimport SocialLoginOptions from \"../components/SocialLoginOptions\";\nimport \"../styles/login-register.css\";\n\nconst LoginPage = ({ location, history }) => {\n  const [authFailedMsg, setAuthFailedMsg] = useState(\"\"); // if user tried to login with different social account after registering with some other social account\n  const [showRedirectMsg, setShowRedirectMsg] = useState(false);\n  const [forgotPassword, setForgotPassword] = useState(false);\n  const [showLoading, setShowLoading] = useState(false); // to display loader after user submits the email to reset password\n  const [emailSent, setEmailSent] = useState(false); //to display a message that email is sent to reset password\n\n  const [type, setType] = useState(\"password\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const dispatch = useDispatch();\n  const redirect = location.search ? location.search.split(\"=\")[1] : \"\";\n  const userLogin = useSelector((state) => state.userLogin);\n  const { loading, userInfo, error } = userLogin;\n  const storedInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n\n  useEffect(() => {\n    if (!location.search.includes(\"success\") && userInfo)\n      history.push(redirect);\n  }, [history, redirect, location, userInfo]);\n\n  useEffect(() => {\n    if (location.search.includes(\"login=failed\")) {\n      const errorCodeQuery = location.search.split(\"&\")[1];\n      const errorCode = errorCodeQuery.split(\"=\")[1];\n      switch (errorCode) {\n        case \"0\":\n          setAuthFailedMsg(\n            \"It looks like you had registered using a Google Account\"\n          );\n          break;\n        case \"1\":\n          setAuthFailedMsg(\n            \"It looks like you had registered using a Github Account\"\n          );\n          break;\n        case \"2\":\n          setAuthFailedMsg(\n            \"It looks like you had registered using a Twitter Account\"\n          );\n          break;\n        case \"3\":\n          setAuthFailedMsg(\n            \"It looks like you had registered using a LinkedIn Account\"\n          );\n          break;\n        default:\n          return;\n      }\n    }\n  }, [location.search]);\n\n  // if redirected to login page after refresh token expired, show a message\n  useEffect(() => {\n    const flag = localStorage.getItem(\"redirectLogin\");\n    if (flag && flag === \"true\") {\n      setShowRedirectMsg(true);\n    } else {\n      setShowRedirectMsg(false);\n    }\n  }, []);\n\n  // if the passport social login is successful, get the user's data and store in redux store\n  useEffect(() => {\n    // check for url params\n    if (window.location.search.includes(\"success\")) {\n      const queries = window.location.search.split(\"&\");\n      const isSuccess = queries[0].split(\"=\")[1] === \"success\";\n      const id = queries[1].split(\"=\")[1];\n\n      // if successful login\n      if (isSuccess) {\n        // get user data and dispatch login success\n        axios\n          .post(\"/api/users/passport/data\", {\n            id,\n          })\n          .then(({ data }) => {\n            const { id, email, name, isAdmin, isConfirmed, avatar } = data;\n            const userData = {\n              id,\n              email,\n              name,\n              isAdmin,\n              isConfirmed,\n              avatar,\n              isSocialLogin: true,\n            };\n\n            // login user in frontend\n            dispatch({\n              type: USER_LOGIN_SUCCESS,\n              payload: userData,\n            });\n            // update the local storage\n            localStorage.setItem(\"userInfo\", JSON.stringify(userData));\n\n            // remove variable that was meant to promt email verification if it is a social login\n            localStorage.removeItem(\"promptEmailVerfication\");\n            history.push(\"/shipping\"); // move to shipping page by default\n          });\n      }\n    }\n  }, [dispatch, history, redirect]);\n\n  useEffect(() => {\n    // if redirected from confirmation page, fill email and let user fill the password field\n    if (\n      storedInfo &&\n      storedInfo.email &&\n      localStorage.getItem(\"fillEmailOnLoginPage\") === \"true\"\n    ) {\n      localStorage.removeItem(\"fillEmailOnLoginPage\");\n      setEmail(storedInfo.email);\n    }\n  }, [storedInfo]);\n\n  // to show/hide the password field content\n  const showHide = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setType(type === \"password\" ? \"text\" : \"password\");\n  };\n\n  // login user from email and password\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(loginUser(email, password));\n  };\n\n  // to send a mail for resetting password if forgotted\n  const handleEmailSubmit = async (e) => {\n    e.preventDefault();\n    setShowLoading(true);\n\n    // send the mail to the registered user\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n\n    const { data } = await axios.post(\"/api/users/reset\", { email }, config);\n\n    if (data) {\n      setShowLoading(false);\n      setEmailSent(true);\n      // store the name in localstorage\n      localStorage.setItem(\"EcommerceUserName\", data.name); // store the user name, so that we can use it in the profile page to ask them to confirm email\n    }\n  };\n\n  // there are 2 sorts of forms to be shown, one when resetting password, and other when normal login\n  if (!forgotPassword) {\n    return (\n      <>\n        <FormContainer>\n          {/* if passport login has failed because user logged in with differrent social account, shoe the error msg */}\n          {authFailedMsg && (\n            <Message variant=\"danger\" dismissible>\n              {authFailedMsg}\n            </Message>\n          )}\n          <div className=\"form-inner-container\">\n            <div className=\"form-heading\">\n              <h1\n                style={{\n                  background: \"ghostwhite\",\n                  boxShadow: \"0px 0px 9px 0px rgba(0, 0, 0, 0.2)\",\n                  WebkitBoxShadow: \"0px 0px 9px 0px rgba(0, 0, 0, 0.2)\",\n                  MozBoxShadow: \"0px 0px 9px 0px rgba(0, 0, 0, 0.2)\",\n                }}\n              >\n                Sign In\n              </h1>\n              <h1 onClick={() => history.push(\"/register\")}>Sign Up</h1>\n            </div>\n\n            {error && (\n              <Message dismissible variant=\"danger\" duration={10}>\n                {error}\n              </Message>\n            )}\n            {/* the message when refresh token has expired */}\n            {showRedirectMsg && (\n              <Message dismissible variant=\"info\" duration={10}>\n                Your session has expired. Please login again.\n              </Message>\n            )}\n            {loading ? (\n              <Loader />\n            ) : (\n              <>\n                <Form onSubmit={handleSubmit}>\n                  <Form.Group controlId=\"email\">\n                    <FloatingLabel\n                      controlId=\"emailinput\"\n                      label=\"Email address\"\n                      className=\"mb-3\"\n                    >\n                      <Form.Control\n                        required\n                        size=\"lg\"\n                        placeholder=\"Enter Email Address\"\n                        type=\"email\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                      />\n                    </FloatingLabel>\n                  </Form.Group>\n                  <Form.Group>\n                    <InputGroup>\n                      <FloatingLabel\n                        controlId=\"passwordinput\"\n                        label=\"Password\"\n                        style={{\n                          display: \"flex\",\n                          width: \"100%\",\n                        }}\n                        className=\"mb-3\"\n                      >\n                        <Form.Control\n                          required\n                          size=\"lg\"\n                          type={type}\n                          placeholder=\"Enter your password\"\n                          value={password}\n                          style={{\n                            borderRight: \"none\",\n                          }}\n                          onChange={(e) => setPassword(e.target.value)}\n                        />\n                        <div className=\"input-group-append\">\n                          <InputGroup.Text\n                            onClick={showHide}\n                            style={{\n                              fontSize: \"1rem\",\n                              height: \"100%\",\n                              marginLeft: \"-0.5em\",\n                              background: \"transparent\",\n                              borderLeft: \"none\",\n                            }}\n                          >\n                            {type === \"text\" ? (\n                              <i className=\"far fa-eye-slash\" />\n                            ) : (\n                              <i className=\"far fa-eye\" />\n                            )}\n                          </InputGroup.Text>\n                        </div>\n                      </FloatingLabel>\n                    </InputGroup>\n                  </Form.Group>\n                  <Col\n                    style={{\n                      display: \"flex\",\n                    }}\n                  >\n                    <Button\n                      type=\"button\"\n                      variant=\"link\"\n                      style={{\n                        marginTop: \"-1em\",\n                        padding: \"0\",\n                      }}\n                      onClick={() => setForgotPassword(true)}\n                    >\n                      Forgot Password?\n                    </Button>\n                    <Button\n                      type=\"submit\"\n                      className=\"ms-auto\"\n                      style={{\n                        padding: \"0.5em 1em\",\n                        width: \"8rem\",\n                      }}\n                    >\n                      Login\n                    </Button>\n                  </Col>\n                </Form>\n              </>\n            )}\n          </div>\n        </FormContainer>\n      </>\n    );\n  } else {\n    return (\n      <>\n        <FormContainer>\n          <div className=\"form-inner-container\">\n            <div className=\"form-heading\">\n              <h1\n                style={{\n                  background: \"ghostwhite\",\n                  boxShadow: \"0px -1px 5px 0px rgba(0, 0, 0, 0.2)\",\n                  WebkitBoxShadow: \"0px -1px 5px 0px rgba(0, 0, 0, 0.2)\",\n                  MozBoxShadow: \"0px -1px 5px 0px rgba(0, 0, 0, 0.2)\",\n                  cursor: \"default\",\n                }}\n              >\n                Reset Password\n              </h1>\n            </div>\n\n            {showLoading ? (\n              <Loader />\n            ) : emailSent ? (\n              <Card>\n                <Card.Body className=\"pl-0\">\n                  <Card.Title>Email Sent</Card.Title>\n                  <Card.Text>\n                    Please use the link sent to your email and reset your\n                    password right away!\n                  </Card.Text>\n                </Card.Body>\n              </Card>\n            ) : (\n              <Form onSubmit={handleEmailSubmit}>\n                <Form.Group controlId=\"email\">\n                  <FloatingLabel\n                    controlId=\"emailinput\"\n                    label=\"Email address\"\n                    className=\"mb-3\"\n                  >\n                    <Form.Control\n                      size=\"lg\"\n                      placeholder=\"Enter Email Address\"\n                      type=\"email\"\n                      value={email}\n                      onChange={(e) => setEmail(e.target.value)}\n                    />\n                  </FloatingLabel>\n                </Form.Group>\n                <Col\n                  style={{\n                    display: \"flex\",\n                  }}\n                >\n                  <Button\n                    type=\"button\"\n                    variant=\"link\"\n                    className=\"remember-password\"\n                    style={{\n                      marginTop: \"-1em\",\n                      padding: \"0\",\n                    }}\n                    onClick={() => setForgotPassword(false)}\n                  >\n                    I remember my password\n                  </Button>\n                  <Button\n                    type=\"submit\"\n                    className=\"ms-auto\"\n                    style={{\n                      padding: \"0.5em 1em\",\n                      width: \"8rem\",\n                    }}\n                  >\n                    Submit\n                  </Button>\n                </Col>\n              </Form>\n            )}\n          </div>\n        </FormContainer>\n      </>\n    );\n  }\n};\n\nexport default LoginPage;\n","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n\tForm,\n\tButton,\n\tInputGroup,\n\tFloatingLabel,\n\tRow,\n\tCol,\n} from 'react-bootstrap';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport FormContainer from '../components/FormContainer';\nimport { registerUser } from '../actions/userActions';\nimport '../styles/login-register.css';\n\nconst RegisterPage = ({ location, history }) => {\n\tconst [typePassword, setTypePassword] = useState('password');\n\tconst [typeConfirmPassword, setTypeConfirmPassword] = useState('password');\n\n\tconst [name, setName] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [confirmPassword, setConfirmPassword] = useState('');\n\tconst [message, setMessage] = useState(null);\n\tconst dispatch = useDispatch();\n\n\tconst redirect = location.search ? location.search.split('=')[1] : '';\n\tconst userRegister = useSelector((state) => state.userRegister);\n\tconst { loading, userInfo, error } = userRegister;\n\n\tuseEffect(() => {\n\t\tif (userInfo) {\n\t\t\tlocalStorage.setItem('promptEmailVerfication', 'true');\n\t\t\thistory.push(redirect);\n\t\t}\n\t}, [history, redirect, userInfo]);\n\n\tconst showHidePassword = (e) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tsetTypePassword(typePassword === 'password' ? 'text' : 'password');\n\t};\n\tconst showHideConfirmPassword = (e) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tsetTypeConfirmPassword(\n\t\t\ttypeConfirmPassword === 'password' ? 'text' : 'password'\n\t\t);\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tif (password !== confirmPassword) {\n\t\t\tsetMessage('Passwords do not match. Please retry.');\n\t\t} else {\n\t\t\tdispatch(registerUser(name, email, password));\n\t\t}\n\t};\n\n\treturn (\n\t\t<FormContainer>\n\t\t\t<div className='form-inner-container'>\n\t\t\t\t<div className='form-heading'>\n\t\t\t\t\t<h1 onClick={() => history.push('/login')}>Sign In</h1>\n\t\t\t\t\t<h1\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackground: 'ghostwhite',\n\t\t\t\t\t\t\tboxShadow: '0px 0px 9px 0px rgba(0, 0, 0, 0.2)',\n\t\t\t\t\t\t\tWebkitBoxShadow:\n\t\t\t\t\t\t\t\t'0px 0px 9px 0px rgba(0, 0, 0, 0.2)',\n\t\t\t\t\t\t\tMozBoxShadow: '0px 0px 9px 0px rgba(0, 0, 0, 0.2)',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={() => history.push('/register')}>\n\t\t\t\t\t\tSign Up\n\t\t\t\t\t</h1>\n\t\t\t\t</div>\n\t\t\t\t{message && (\n\t\t\t\t\t<Message dismissible variant='warning' duration={5}>\n\t\t\t\t\t\t{message}\n\t\t\t\t\t</Message>\n\t\t\t\t)}\n\t\t\t\t{/* {error && (\n\t\t\t\t\t<Message dismissible variant='danger' duration={10}>\n\t\t\t\t\t\t\n\t\t\t\t\t</Message>\n\t\t\t\t)} */}\n\t\t\t\t{loading ? (\n\t\t\t\t\t<Loader />\n\t\t\t\t) : (\n\t\t\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<Form.Group controlId='name' className='mb-2'>\n\t\t\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\t\t\tcontrolId='nameinput'\n\t\t\t\t\t\t\t\tlabel='Name'\n\t\t\t\t\t\t\t\tclassName='mb-3'>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\tplaceholder='Enter Name'\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FloatingLabel>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group controlId='email' className='my-2'>\n\t\t\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\t\t\tcontrolId='emailinput'\n\t\t\t\t\t\t\t\tlabel='Email Address'\n\t\t\t\t\t\t\t\tclassName='mb-3'>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\tplaceholder='Enter Email Address'\n\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FloatingLabel>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<InputGroup>\n\t\t\t\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\t\t\t\tcontrolId='passwordinput'\n\t\t\t\t\t\t\t\t\tlabel='Password'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName='mb-3'>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\t\ttype={typePassword}\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter your password'\n\t\t\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\tsetPassword(e.target.value)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className='input-group-append'>\n\t\t\t\t\t\t\t\t\t\t<InputGroup.Text\n\t\t\t\t\t\t\t\t\t\t\tonClick={showHidePassword}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\n\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: '-0.5em',\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: 'transparent',\n\t\t\t\t\t\t\t\t\t\t\t\tborderLeft: 'none',\n\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t{typePassword === 'text' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash' />\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye' />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</InputGroup.Text>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</FloatingLabel>\n\t\t\t\t\t\t\t</InputGroup>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<InputGroup>\n\t\t\t\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\t\t\t\tcontrolId='confirmpasswordinput'\n\t\t\t\t\t\t\t\t\tlabel='Confirm password'\n\t\t\t\t\t\t\t\t\tstyle={{ display: 'flex', width: '100%' }}\n\t\t\t\t\t\t\t\t\tclassName='mb-3'>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\t\ttype={typeConfirmPassword}\n\t\t\t\t\t\t\t\t\t\tplaceholder='Confirm your password'\n\t\t\t\t\t\t\t\t\t\tvalue={confirmPassword}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\tsetConfirmPassword(e.target.value)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className='input-group-append'>\n\t\t\t\t\t\t\t\t\t\t<InputGroup.Text\n\t\t\t\t\t\t\t\t\t\t\tonClick={showHideConfirmPassword}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\n\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: '-0.5em',\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: 'transparent',\n\t\t\t\t\t\t\t\t\t\t\t\tborderLeft: 'none',\n\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t{typeConfirmPassword === 'text' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash' />\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye' />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</InputGroup.Text>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</FloatingLabel>\n\t\t\t\t\t\t\t</InputGroup>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\tclassName='ms-auto'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5em 1em',\n\t\t\t\t\t\t\t\t\t\twidth: '8rem',\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tRegister\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</FormContainer>\n\t);\n};\n\nexport default RegisterPage;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport {\n\tForm,\n\tButton,\n\tRow,\n\tInputGroup,\n\tCol,\n\tCard,\n\tTable,\n\tImage,\n\tFloatingLabel,\n} from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport {\n\tsendVerficationEmail,\n\tgetUserDetails,\n\tupdateUserProfile,\n\trefreshLogin,\n} from '../actions/userActions';\nimport { listMyOrders } from '../actions/orderActions';\nimport { USER_PROFILE_UPDATE_RESET } from '../constants/userConstants';\nimport Meta from '../components/Meta';\nimport axios from 'axios';\nimport getDateString from '../utils/getDateString';\nimport '../styles/profile-page.css';\n\nconst ProfilePage = ({ history }) => {\n\tconst inputFile = useRef(null);\n\tconst [showSubmitButton, setShowSubmitButton] = useState(false); // sisable the submit button unless some user detail is changed by user\n\tconst [typePassword, setTypePassword] = useState('password');\n\tconst [typeConfirmPassword, setTypeConfirmPassword] = useState('password');\n\n\tconst [name, setName] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [avatar, setAvatar] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [confirmPassword, setConfirmPassword] = useState('');\n\tconst [message, setMessage] = useState(null);\n\tconst [allOrders, setAllOrders] = useState([]);\n\n\tconst [uploading, setUploading] = useState(false);\n\tconst [errorImageUpload, setErrorImageUpload] = useState('');\n\tconst dispatch = useDispatch();\n\n\tconst userDetails = useSelector((state) => state.userDetails);\n\tconst { loading, user, error } = userDetails;\n\n\tconst userLogin = useSelector((state) => state.userLogin);\n\tconst { userInfo } = userLogin;\n\n\tconst userProfileUpdate = useSelector((state) => state.userProfileUpdate);\n\tconst { success } = userProfileUpdate;\n\n\tconst orderListUser = useSelector((state) => state.orderListUser);\n\tconst {\n\t\tloading: loadingOrdersList,\n\t\torders,\n\t\terror: errorOrdersList,\n\t} = orderListUser;\n\n\t// check whether verification email has to be sent\n\tconst userSendEmailVerfication = useSelector(\n\t\t(state) => state.userSendEmailVerfication\n\t);\n\tconst { emailSent, hasError } = userSendEmailVerfication;\n\n\t// refresh access token for user details error\n\tuseEffect(() => {\n\t\tif (error && userInfo && !userInfo.isSocialLogin) {\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\n\t\t\tuser && dispatch(refreshLogin(user.email));\n\t\t}\n\t}, [error, dispatch, userInfo]);\n\n\t// set orders to local state\n\tuseEffect(() => {\n\t\tif (orders && orders.length) {\n\t\t\tsetAllOrders([...orders]);\n\t\t}\n\t}, [orders]);\n\n\t// check if any of the input fields value is changed, only then show the submit button\n\tuseEffect(() => {\n\t\tif (userInfo) {\n\t\t\tif (name && userInfo.name !== name) setShowSubmitButton(true);\n\t\t\telse if (email && userInfo.email !== email)\n\t\t\t\tsetShowSubmitButton(true);\n\t\t\telse if (password || confirmPassword) setShowSubmitButton(true);\n\t\t\telse setShowSubmitButton(false);\n\t\t}\n\t}, [name, email, password, confirmPassword, userInfo]);\n\n\tuseEffect(() => {\n\t\tdispatch(listMyOrders());\n\t}, [dispatch]);\n\n\tuseEffect(() => {\n\t\tif (!userInfo) {\n\t\t\thistory.push('/login');\n\t\t} else {\n\t\t\t// if user is null, first fetch it and then set its details to the local state\n\t\t\tif (!user || !user.name || success) {\n\t\t\t\tdispatch(listMyOrders());\n\t\t\t\tdispatch({ type: USER_PROFILE_UPDATE_RESET });\n\t\t\t\tuserInfo\n\t\t\t\t\t? userInfo.isSocialLogin\n\t\t\t\t\t\t? dispatch(getUserDetails(userInfo.id))\n\t\t\t\t\t\t: dispatch(getUserDetails('profile'))\n\t\t\t\t\t: dispatch(getUserDetails('profile'));\n\t\t\t\tif (success) {\n\t\t\t\t\tuserInfo.isSocialLogin\n\t\t\t\t\t\t? dispatch(getUserDetails(userInfo.id))\n\t\t\t\t\t\t: dispatch(getUserDetails('profile'));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetName(user.name);\n\t\t\t\tsetEmail(user.email);\n\t\t\t\tsetAvatar(user.avatar);\n\t\t\t}\n\t\t}\n\t}, [history, userInfo, user, dispatch, success, loadingOrdersList]);\n\n\tconst showHidePassword = (e) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tsetTypePassword(typePassword === 'password' ? 'text' : 'password');\n\t};\n\n\tconst showHideConfirmPassword = (e) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tsetTypeConfirmPassword(\n\t\t\ttypeConfirmPassword === 'password' ? 'text' : 'password'\n\t\t);\n\t};\n\n\t// handle file upload to aws bucket\n\tconst handleImageUpload = async (e) => {\n\t\tconst file = e.target.files[0];\n\t\tconst formData = new FormData();\n\t\tformData.append('image', file);\n\t\tsetUploading(true);\n\t\ttry {\n\t\t\tconst config = {\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst { data } = await axios.post('/api/upload', formData, config);\n\t\t\tsetAvatar(data);\n\t\t\tdispatch(\n\t\t\t\tupdateUserProfile({\n\t\t\t\t\tid: user.id,\n\t\t\t\t\tavatar: data,\n\t\t\t\t})\n\t\t\t);\n\t\t\tsetUploading(false);\n\t\t} catch (error) {\n\t\t\tsetErrorImageUpload('Please choose a valid image');\n\t\t\tsetUploading(false);\n\t\t}\n\t};\n\n\t// handle image overlay div's click to upload new file\n\tconst handleImageClick = () => {\n\t\tinputFile.current.click();\n\t};\n\n\t// update user details\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tif (password !== confirmPassword) {\n\t\t\tsetMessage('Passwords do not match. Please retry.');\n\t\t} else {\n\t\t\tdispatch(\n\t\t\t\tupdateUserProfile({\n\t\t\t\t\tid: user.id,\n\t\t\t\t\tname,\n\t\t\t\t\temail,\n\t\t\t\t\tavatar,\n\t\t\t\t\tpassword,\n\t\t\t\t\tconfirmPassword,\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Row className='mt-2'>\n\t\t\t<Meta title='My Profile | Kosells' />\n\t\t\t{userInfo && !userInfo.isConfirmed ? (\n\t\t\t\t<>\n\t\t\t\t\t{emailSent && (\n\t\t\t\t\t\t<Message variant='success' dismissible>\n\t\t\t\t\t\t\tA verification link has been sent your mail!\n\t\t\t\t\t\t</Message>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasError && (\n\t\t\t\t\t\t<Message dismissible variant='danger'>\n\t\t\t\t\t\t\t{hasError}\n\t\t\t\t\t\t</Message>\n\t\t\t\t\t)}\n\t\t\t\t\t<Card style={{ margin: '0' }} className='mb-3'>\n\t\t\t\t\t\t<Card.Body className='ps-0 '>\n\t\t\t\t\t\t\t<Card.Title style={{ fontWeight: 'bold' }}>\n\t\t\t\t\t\t\t\tAccount Not Verified\n\t\t\t\t\t\t\t</Card.Title>\n\t\t\t\t\t\t\t<Card.Text>\n\t\t\t\t\t\t\t\t{`${userInfo.name}, `} your account is not yet\n\t\t\t\t\t\t\t\tverfied. Please{' '}\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant='link'\n\t\t\t\t\t\t\t\t\tclassName='p-0'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tfontSize: '0.9em',\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 0.1em 0',\n\t\t\t\t\t\t\t\t\t\tfocus: 'none',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tdispatch(\n\t\t\t\t\t\t\t\t\t\t\tsendVerficationEmail(userInfo.email)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\tclick here\n\t\t\t\t\t\t\t\t</Button>{' '}\n\t\t\t\t\t\t\t\tto send a verfication email.\n\t\t\t\t\t\t\t</Card.Text>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t\t<Col\n\t\t\t\tmd={3}\n\t\t\t\tstyle={\n\t\t\t\t\tuserInfo && !userInfo.isConfirmed\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\topacity: '0.5',\n\t\t\t\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\topacity: '1',\n\t\t\t\t\t\t\t\tpointerEvents: '',\n\t\t\t\t\t\t  }\n\t\t\t\t}>\n\t\t\t\t<h2 className='text-center'>My Profile</h2>\n\t\t\t\t{message && (\n\t\t\t\t\t<Message dismissible variant='warning' duration={8}>\n\t\t\t\t\t\t{message}\n\t\t\t\t\t</Message>\n\t\t\t\t)}\n\t\t\t\t{error && error !== 'Not authorised. Token failed' && (\n\t\t\t\t\t<Message dismissible variant='danger' duration={10}>\n\t\t\t\t\t\t{error}\n\t\t\t\t\t</Message>\n\t\t\t\t)}\n\t\t\t\t{success && (\n\t\t\t\t\t<Message dismissible variant='success' duration={8}>\n\t\t\t\t\t\tProfile Updated!\n\t\t\t\t\t</Message>\n\t\t\t\t)}\n\t\t\t\t{loading ? (\n\t\t\t\t\t<Loader />\n\t\t\t\t) : (\n\t\t\t\t\t<div style={{ display: 'flex', flexFlow: 'column nowrap' }}>\n\t\t\t\t\t\t{errorImageUpload && (\n\t\t\t\t\t\t\t<Message dismissible variant='danger' duration={10}>\n\t\t\t\t\t\t\t\t{errorImageUpload}\n\t\t\t\t\t\t\t</Message>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{uploading ? (\n\t\t\t\t\t\t\t<Loader />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName='profile-page-image'\n\t\t\t\t\t\t\t\tstyle={{ alignSelf: 'center' }}>\n\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\tsrc={avatar}\n\t\t\t\t\t\t\t\t\talt={name}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\theight: '5em',\n\t\t\t\t\t\t\t\t\t\twidth: '5em',\n\t\t\t\t\t\t\t\t\t\tmarginBottom: '1em',\n\t\t\t\t\t\t\t\t\t\tborder: '1px solid #ced4da',\n\t\t\t\t\t\t\t\t\t\tborderRadius: '50%',\n\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName='image-overlay'\n\t\t\t\t\t\t\t\t\tonClick={handleImageClick}>\n\t\t\t\t\t\t\t\t\tClick to upload image\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{/* for image upload */}\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\tid='file'\n\t\t\t\t\t\t\tref={inputFile}\n\t\t\t\t\t\t\tonChange={handleImageUpload}\n\t\t\t\t\t\t\tstyle={{ display: 'none' }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t<Form.Group controlId='name'>\n\t\t\t\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\t\t\t\tcontrolId='nameinput'\n\t\t\t\t\t\t\t\t\tlabel='Name'\n\t\t\t\t\t\t\t\t\tclassName='mb-3'>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Name'\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\tsetName(e.target.value)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FloatingLabel>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\tcontrolId='email'\n\t\t\t\t\t\t\t\tclassName='my-2'\n\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\tuserInfo && userInfo.isSocialLogin\n\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\topacity: '0.8',\n\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\t\t\t\tcontrolId='emailinput'\n\t\t\t\t\t\t\t\t\tlabel='Email'\n\t\t\t\t\t\t\t\t\tclassName='mb-3'>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Email Address'\n\t\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\tsetEmail(e.target.value)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FloatingLabel>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t{userInfo && !userInfo.isSocialLogin && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t<InputGroup className='d-block'>\n\t\t\t\t\t\t\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\t\t\t\t\t\t\tcontrolId='passwordinput'\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Password'\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ display: 'flex' }}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype={typePassword}\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter your password'\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetPassword(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='input-group-append'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup.Text\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowHidePassword\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'-0.5em',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'transparent',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderLeft: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{typePassword ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup.Text>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</FloatingLabel>\n\t\t\t\t\t\t\t\t\t\t</InputGroup>\n\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t<InputGroup className='d-block'>\n\t\t\t\t\t\t\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\t\t\t\t\t\t\tcontrolId='confirmpasswordinput'\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Confirm Password'\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ display: 'flex' }}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype={typeConfirmPassword}\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Confirm password'\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={confirmPassword}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetConfirmPassword(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='input-group-append'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup.Text\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowHideConfirmPassword\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'-0.5em',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'transparent',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderLeft: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{typeConfirmPassword ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup.Text>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</FloatingLabel>\n\t\t\t\t\t\t\t\t\t\t</InputGroup>\n\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div className='d-grid mb-3'>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\tdisabled={!showSubmitButton}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5em 1em',\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tUpdate Profile\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Col>\n\t\t\t{/* display orders */}\n\t\t\t<Col\n\t\t\t\tmd={9}\n\t\t\t\tstyle={\n\t\t\t\t\tuserInfo && !userInfo.isConfirmed\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\topacity: '0.5',\n\t\t\t\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\topacity: '1',\n\t\t\t\t\t\t\t\tpointerEvents: '',\n\t\t\t\t\t\t  }\n\t\t\t\t}>\n\t\t\t\t{allOrders.length ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<h2 className='text-center'>My Orders</h2>\n\t\t\t\t\t\t{loadingOrdersList ? (\n\t\t\t\t\t\t\t<Loader />\n\t\t\t\t\t\t) : errorOrdersList ? (\n\t\t\t\t\t\t\t<Message dismissible variant='danger' duration={10}>\n\t\t\t\t\t\t\t\t{errorOrdersList}\n\t\t\t\t\t\t\t</Message>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\t\tstriped\n\t\t\t\t\t\t\t\tbordered\n\t\t\t\t\t\t\t\tresponsive\n\t\t\t\t\t\t\t\tclassName='table-sm text-center'>\n\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th>DATE</th>\n\t\t\t\t\t\t\t\t\t\t<th>TOTAL</th>\n\t\t\t\t\t\t\t\t\t\t<th>PAID</th>\n\t\t\t\t\t\t\t\t\t\t<th>DELIVERED</th>\n\t\t\t\t\t\t\t\t\t\t<th>ACTION</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{orders.map((order, idx) => (\n\t\t\t\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{getDateString(order.createdAt)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{order.totalPrice.toLocaleString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'en-IN',\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'INR',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{order.isPaid ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetDateString(order.paidAt)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'red',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetDateString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\torder.deliveredAt\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'red',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/order/${order._id}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='link'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '0' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tDetails\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<Card style={{ border: 'none', margin: '0 auto' }}>\n\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t<Card.Title>No Orders Yet!</Card.Title>\n\t\t\t\t\t\t\t<Card.Text>\n\t\t\t\t\t\t\t\tDetails about all your orders will show up here.{' '}\n\t\t\t\t\t\t\t\t<Link to='/'>Continue Shopping</Link>\n\t\t\t\t\t\t\t</Card.Text>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t)}\n\t\t\t</Col>\n\t\t</Row>\n\t);\n};\n\nexport default ProfilePage;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Card } from 'react-bootstrap';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport { confirmUser } from '../actions/userActions';\nimport Meta from '../components/Meta';\n\nconst ConfirmPage = ({ match, history }) => {\n\tconst dispatch = useDispatch();\n\tconst userConfirm = useSelector((state) => state.userConfirm); // get the userInfo to check if user is confirmed or not\n\tconst { loading, error, isConfirmed } = userConfirm;\n\n\tconst userLogin = useSelector((state) => state.userLogin);\n\tconst { userInfo } = userLogin;\n\tconst [isLoggedIn, setIsLoggedIn] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (userInfo) {\n\t\t\tsetIsLoggedIn(true);\n\t\t} else {\n\t\t\tsetIsLoggedIn(false);\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\t// confirm user once the email token is available\n\t\tdispatch(confirmUser(match.params.token, isLoggedIn));\n\t}, [dispatch, match, isLoggedIn]);\n\n\tif (loading || (!isConfirmed && !error)) {\n\t\treturn <Loader />;\n\t} else if (error) {\n\t\t// redirect to login page after a 10 seconds\n\t\tsetTimeout(() => {\n\t\t\thistory.push('/login');\n\t\t}, 10000);\n\t\treturn (\n\t\t\t<Message dismissible variant='danger' duration={10}>\n\t\t\t\tVerfication Failed. Please try to login again.\n\t\t\t</Message>\n\t\t);\n\t} else if (isConfirmed) {\n\t\t// set a variable in local storage to fill email aftrer redirecting to login page after email confirmation\n\t\tlocalStorage.setItem('fillEmailOnLoginPage', 'true');\n\t\treturn (\n\t\t\t<Card style={{ border: 'none', margin: '0 auto' }}>\n\t\t\t\t<Meta title='Confirm Password | Kosells' />\n\t\t\t\t<Card.Body>\n\t\t\t\t\t<Card.Title>Account Confirmed</Card.Title>\n\t\t\t\t\t<Card.Text>\n\t\t\t\t\t\t{setIsLoggedIn\n\t\t\t\t\t\t\t? 'Your account has been successfully verified! Go on and shop for the best deals of the day!'\n\t\t\t\t\t\t\t: `Your account has been successfully verified! Please\n\t\t\t\t\t\tlogin and start exploring the best deals on all your\n\t\t\t\t\t\tfavorite products.`}\n\t\t\t\t\t</Card.Text>\n\t\t\t\t\t{!setIsLoggedIn ? <Link to='/login'>Login</Link> : null}\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t);\n\t}\n};\n\nexport default ConfirmPage;\n","import React from 'react';\nimport { Nav } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport '../styles/check-status.css';\n\n// there are 4 steps in the checkout process\n// step 1 is logging in\n// step 2 is shipping address input\n// step 3 is selecting payment option\n// step 4 is placing the order and seeing payment button\nconst CheckoutStatus = ({ step1, step2, step3, step4 }) => {\n\treturn (\n\t\t<Nav className='status-bar'>\n\t\t\t<div className='status-checkpoint'>\n\t\t\t\t<div\n\t\t\t\t\tclassName='circle'\n\t\t\t\t\tstyle={\n\t\t\t\t\t\tstep1 ? { background: '#2c3e50' } : { background: '' }\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{step1 ? (\n\t\t\t\t\t<LinkContainer to='/login'>\n\t\t\t\t\t\t<Nav.Link>Sign In</Nav.Link>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t) : (\n\t\t\t\t\t<Nav.Link disabled>Sign In</Nav.Link>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className='connection' />\n\t\t\t<div className='status-checkpoint'>\n\t\t\t\t<div\n\t\t\t\t\tclassName='circle'\n\t\t\t\t\tstyle={\n\t\t\t\t\t\tstep1 && step2\n\t\t\t\t\t\t\t? { background: '#2c3e50' }\n\t\t\t\t\t\t\t: { background: '' }\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{step2 ? (\n\t\t\t\t\t<LinkContainer to='/shipping'>\n\t\t\t\t\t\t<Nav.Link>Shipping</Nav.Link>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t) : (\n\t\t\t\t\t<Nav.Link disabled>Shipping</Nav.Link>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className='connection' />\n\n\t\t\t<div className='status-checkpoint'>\n\t\t\t\t<div\n\t\t\t\t\tclassName='circle'\n\t\t\t\t\tstyle={\n\t\t\t\t\t\tstep1 && step2 && step3\n\t\t\t\t\t\t\t? { background: '#2c3e50' }\n\t\t\t\t\t\t\t: { background: '' }\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{step3 ? (\n\t\t\t\t\t<LinkContainer to='/payment'>\n\t\t\t\t\t\t<Nav.Link>Payment</Nav.Link>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t) : (\n\t\t\t\t\t<Nav.Link disabled>Payment</Nav.Link>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className='connection' />\n\n\t\t\t<div className='status-checkpoint'>\n\t\t\t\t<div\n\t\t\t\t\tclassName='circle'\n\t\t\t\t\tstyle={\n\t\t\t\t\t\tstep1 && step2 && step3 && step4\n\t\t\t\t\t\t\t? { background: '#2c3e50' }\n\t\t\t\t\t\t\t: { background: '' }\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{step4 ? (\n\t\t\t\t\t<LinkContainer to='/placeorder'>\n\t\t\t\t\t\t<Nav.Link>Place Order</Nav.Link>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t) : (\n\t\t\t\t\t<Nav.Link disabled>Place Order</Nav.Link>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Nav>\n\t);\n};\n\nexport default CheckoutStatus;\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Form, Button, FloatingLabel } from 'react-bootstrap';\nimport FormContainer from '../components/FormContainer';\nimport CheckoutStatus from '../components/CheckoutStatus';\nimport { saveShippingAddress } from '../actions/cartActions';\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\n\nconst ShippingPage = ({ history }) => {\n\tconst dispatch = useDispatch();\n\n\tconst cart = useSelector((state) => state.cart);\n\tconst { cartItems, shippingAddress } = cart;\n\n\tconst userLogin = useSelector((state) => state.userLogin);\n\tconst { userInfo } = userLogin;\n\n\tconst userDetails = useSelector((state) => state.userDetails);\n\tconst { error } = userDetails;\n\n\tconst [address, setAddress] = useState(shippingAddress.address);\n\tconst [city, setCity] = useState(shippingAddress.city);\n\tconst [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\n\tconst [country, setCountry] = useState(shippingAddress.country);\n\n\t// fetch user details from the redux store\n\tuseEffect(() => {\n\t\tuserInfo\n\t\t\t? userInfo.isSocialLogin\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\n\t\t\t\t: dispatch(getUserDetails('profile'))\n\t\t\t: dispatch(getUserDetails('profile'));\n\t}, [userInfo, dispatch]);\n\n\t// update access token to a new ine using the refresh tokens\n\tuseEffect(() => {\n\t\tif (error && userInfo && !userInfo.isSocialLogin) {\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\n\t\t\tuser && dispatch(refreshLogin(user.email));\n\t\t}\n\t}, [error, dispatch, userInfo]);\n\n\tuseEffect(() => {\n\t\tif (!(cartItems.length && userInfo)) {\n\t\t\thistory.push('/');\n\t\t}\n\t}, [cartItems, history, userInfo]);\n\n\t// save shipping address and move to payment screen\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tdispatch(\n\t\t\tsaveShippingAddress({\n\t\t\t\taddress,\n\t\t\t\tcity,\n\t\t\t\tpostalCode,\n\t\t\t\tcountry,\n\t\t\t})\n\t\t);\n\t\thistory.push('/payment');\n\t};\n\n\treturn (\n\t\t<FormContainer>\n\t\t\t<CheckoutStatus step1 step2 />\n\t\t\t<h1>Shipping Address</h1>\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId='address'>\n\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\tcontrolId='addressinput'\n\t\t\t\t\t\tlabel='Address'\n\t\t\t\t\t\tclassName='mb-3'>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\tplaceholder='Enter address'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvalue={address}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={(e) => setAddress(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FloatingLabel>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId='city'>\n\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\tcontrolId='cityinput'\n\t\t\t\t\t\tlabel='City'\n\t\t\t\t\t\tclassName='mb-3'>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\tplaceholder='Enter City'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvalue={city}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={(e) => setCity(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FloatingLabel>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId='postalCode'>\n\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\tcontrolId='postalcodeinput'\n\t\t\t\t\t\tlabel='Postal Code'\n\t\t\t\t\t\tclassName='mb-3'>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\tplaceholder='Enter Postal Code'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvalue={postalCode}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={(e) => setPostalCode(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FloatingLabel>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId='country'>\n\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\tcontrolId='countryinput'\n\t\t\t\t\t\tlabel='Country'\n\t\t\t\t\t\tclassName='mb-3'>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\tplaceholder='Enter Country'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvalue={country}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={(e) => setCountry(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FloatingLabel>\n\t\t\t\t</Form.Group>\n\t\t\t\t<div className='d-flex'>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\tclassName='ms-auto'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tpadding: '0.5em 1em',\n\t\t\t\t\t\t\twidth: '8rem',\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tContinue\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</Form>\n\t\t</FormContainer>\n\t);\n};\n\nexport default ShippingPage;\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Form, Button, Col } from \"react-bootstrap\";\nimport FormContainer from \"../components/FormContainer\";\nimport CheckoutStatus from \"../components/CheckoutStatus\";\nimport { savePaymentMethod } from \"../actions/cartActions\";\nimport { refreshLogin, getUserDetails } from \"../actions/userActions\";\n\nconst PaymentPage = ({ history }) => {\n  const dispatch = useDispatch();\n  const cart = useSelector((state) => state.cart);\n  const { shippingAddress } = cart;\n\n  const [paymentMethod, setPaymentMethod] = useState(\"Credit/Debit Card\"); // default option is the stripe one, but users might not understand 'stripe'\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const userDetails = useSelector((state) => state.userDetails);\n  const { error } = userDetails;\n\n  // fetch user details\n  useEffect(() => {\n    userInfo\n      ? userInfo.isSocialLogin\n        ? dispatch(getUserDetails(userInfo.id))\n        : dispatch(getUserDetails(\"profile\"))\n      : dispatch(getUserDetails(\"profile\"));\n  }, [userInfo, dispatch]);\n\n  // refresh the access tokens when user details throws an error\n  useEffect(() => {\n    if (error && userInfo && !userInfo.isSocialLogin) {\n      const user = JSON.parse(localStorage.getItem(\"userInfo\"));\n      user && dispatch(refreshLogin(user.email));\n    }\n  }, [error, dispatch, userInfo]);\n\n  // if shipping address is empty, redirect\n  useEffect(() => {\n    if (!shippingAddress) {\n      history.push(\"/shipping\");\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleChange = (e) => {\n    setPaymentMethod(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(savePaymentMethod(paymentMethod));\n    history.push(\"/placeorder\");\n  };\n\n  return (\n    <FormContainer>\n      {/* three steps are done in the checkout process */}\n      <CheckoutStatus step1 step2 step3 />\n      <div\n        style={{\n          display: \"flex\",\n          flexFlow: \"column nowrap\",\n          alignItems: \"center\",\n        }}\n      >\n        <h1>Payment Method</h1>\n        <Form onSubmit={handleSubmit}>\n          <Form.Group>\n            <Col>\n              <Form.Check\n                inline\n                type=\"radio\"\n                label=\"Credit/Debit Card\"\n                id=\"Credit/Debit Card\"\n                name=\"paymentMethod\"\n                value=\"Credit/Debit Card\"\n                checked={paymentMethod === \"Credit/Debit Card\"}\n                onChange={handleChange}\n              />\n            </Col>\n          </Form.Group>\n          <div className=\"d-grid\">\n            <Button type=\"submit\" className=\"my-3\" size=\"lg\">\n              Continue\n            </Button>\n          </div>\n        </Form>\n      </div>\n    </FormContainer>\n  );\n};\n\nexport default PaymentPage;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Button, Row, Col, ListGroup, Image, Card } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport CheckoutStatus from \"../components/CheckoutStatus\";\nimport Message from \"../components/Message\";\nimport Loader from \"../components/Loader\";\nimport { createOrder } from \"../actions/orderActions\";\nimport { CART_RESET } from \"../constants/cartConstants\";\nimport { refreshLogin, getUserDetails } from \"../actions/userActions\";\n\nconst PlaceOrderPage = ({ history }) => {\n  const dispatch = useDispatch();\n\n  const cart = useSelector((state) => state.cart);\n  const { cartItems, shippingAddress, paymentMethod } = cart;\n\n  const orderCreate = useSelector((state) => state.orderCreate);\n  const { order, loading, success, error } = orderCreate;\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const userDetails = useSelector((state) => state.userDetails);\n  const { error: userLoginError } = userDetails;\n\n  // fetch the userinfo from reducx store\n  useEffect(() => {\n    userInfo\n      ? userInfo.isSocialLogin\n        ? dispatch(getUserDetails(userInfo.id))\n        : dispatch(getUserDetails(\"profile\"))\n      : dispatch(getUserDetails(\"profile\"));\n  }, [userInfo, dispatch]);\n\n  // refresh access token when user detail throws error\n  useEffect(() => {\n    if (userLoginError && userInfo && !userInfo.isSocialLogin) {\n      const user = JSON.parse(localStorage.getItem(\"userInfo\"));\n      user && dispatch(refreshLogin(user.email));\n    }\n  }, [userLoginError, dispatch, userInfo]);\n\n  useEffect(() => {\n    if (success) {\n      localStorage.removeItem(\"cartItems\");\n      dispatch({ type: CART_RESET, payload: shippingAddress }); // remove items from cart once paid, but keep the shipping address in store\n      history.push(`/order/${order._id}`);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [success, history]);\n\n  // All prices, tax is randomly  assigned\n  cart.itemsPrice = cartItems.reduce(\n    (acc, item) => acc + item.price * item.qty,\n    0\n  );\n\n  cart.shippingPrice = cart.itemsPrice > 8000 ? 2 : 1;\n  cart.taxPrice = 0.18 * cart.itemsPrice;\n  cart.totalPrice = cart.itemsPrice + cart.taxPrice + cart.shippingPrice;\n\n  const handleOrder = (e) => {\n    e.preventDefault();\n    dispatch(\n      createOrder({\n        orderItems: cartItems,\n        shippingAddress,\n        paymentMethod,\n        itemsPrice: cart.itemsPrice,\n        shippingPrice: cart.shippingPrice,\n        taxPrice: cart.taxPrice,\n        totalPrice: cart.totalPrice,\n      })\n    );\n  };\n\n  return (\n    <>\n      {/* last step in the ckecout process */}\n      <CheckoutStatus step1 step2 step3 step4 />\n      <Row>\n        {loading ? (\n          <Loader />\n        ) : (\n          <>\n            <Col md={8}>\n              <ListGroup variant=\"flush\">\n                <ListGroup.Item>\n                  <h2>Shipping</h2>\n                  <p>\n                    <strong>Address: </strong> {shippingAddress.address},{\" \"}\n                    {shippingAddress.city}-{shippingAddress.postalCode},{\" \"}\n                    {shippingAddress.country}\n                  </p>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <h2>Payment Method</h2>\n                  <p>\n                    <strong>Method: </strong> {paymentMethod}\n                  </p>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <h2>Cart Items</h2>\n                  {cartItems.length !== 0 ? (\n                    <ListGroup variant=\"flush\">\n                      {cartItems.map((item, idx) => (\n                        <ListGroup.Item key={idx}>\n                          <Row>\n                            <Col md={2}>\n                              <Image\n                                className=\"product-image\"\n                                src={item.image}\n                                alt={item.name}\n                                fluid\n                                rounded\n                              />\n                            </Col>\n                            <Col>\n                              <Link to={`/product/${item.product}`}>\n                                {item.name}\n                              </Link>\n                            </Col>\n                            <Col md={4}>\n                              {item.qty} x {item.price} ={\" \"}\n                              {(item.qty * item.price).toLocaleString(\"en-IN\", {\n                                maximumFractionDigits: 2,\n                                style: \"currency\",\n                                currency: \"eur\",\n                              })}\n                            </Col>\n                          </Row>\n                        </ListGroup.Item>\n                      ))}\n                    </ListGroup>\n                  ) : (\n                    <Message>Your cart is empty</Message>\n                  )}\n                </ListGroup.Item>\n              </ListGroup>\n            </Col>\n            <Col md={4}>\n              <Card>\n                <ListGroup variant=\"flush\">\n                  <ListGroup.Item className=\"text-center\">\n                    <h2 className=\"text-center\">Order Summary</h2>\n                  </ListGroup.Item>\n                  <ListGroup.Item>\n                    <Row>\n                      <Col>\n                        <strong>Subtotal</strong>\n                      </Col>\n                      <Col>\n                        {Number(cart.itemsPrice).toLocaleString(\"en-IN\", {\n                          maximumFractionDigits: 2,\n                          style: \"currency\",\n                          currency: \"eur\",\n                        })}\n                      </Col>\n                    </Row>\n                  </ListGroup.Item>\n                  <ListGroup.Item>\n                    {/* <Row>\n                      <Col>\n                        <strong>Shipping</strong>\n                      </Col>\n                      <Col>\n                        {Number(cart.shippingPrice).toLocaleString(\"en-IN\", {\n                          maximumFractionDigits: 2,\n                          style: \"currency\",\n                          currency: \"eur\",\n                        })}\n                      </Col>\n                    </Row> */}\n                  </ListGroup.Item>\n                  <ListGroup.Item>\n                    <Row>\n                      <Col>\n                        <strong>Tax</strong>\n                      </Col>\n                      <Col>\n                        {Number(cart.taxPrice).toLocaleString(\"en-IN\", {\n                          maximumFractionDigits: 2,\n                          style: \"currency\",\n                          currency: \"eur\",\n                        })}\n                      </Col>\n                    </Row>\n                  </ListGroup.Item>\n                  <ListGroup.Item>\n                    <Row>\n                      <Col>\n                        <strong>Total</strong>\n                      </Col>\n                      <Col>\n                        {Number(cart.totalPrice).toLocaleString(\"en-IN\", {\n                          maximumFractionDigits: 2,\n                          style: \"currency\",\n                          currency: \"eur\",\n                        })}\n                      </Col>\n                    </Row>\n                  </ListGroup.Item>\n                  {error && (\n                    <ListGroup.Item>\n                      <Message dismissible variant=\"danger\" duration={10}>\n                        {error}\n                      </Message>\n                    </ListGroup.Item>\n                  )}\n                  <ListGroup.Item className=\"d-grid gap-2\">\n                    <Button\n                      type=\"button\"\n                      size=\"lg\"\n                      disabled={!cartItems.length}\n                      onClick={handleOrder}\n                    >\n                      Place Order\n                    </Button>\n                  </ListGroup.Item>\n                </ListGroup>\n              </Card>\n            </Col>\n          </>\n        )}\n      </Row>\n    </>\n  );\n};\n\nexport default PlaceOrderPage;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { payOrder } from \"../actions/orderActions\";\nimport { savePaymentMethod } from \"../actions/cartActions\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\"; // for stripe CC component\nimport Message from \"../components/Message\";\n\nconst CheckoutForm = ({ price, orderID }) => {\n  const [error, setError] = useState(\"\"); // from the stripe component itself\n  const dispatch = useDispatch();\n  const [clientSecret, setClientSecret] = useState(\"\"); // from the payment intent sent from server\n  const stripe = useStripe();\n  const elements = useElements();\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  // STEP 1: create a payment intent and getting the secret\n  useEffect(() => {\n    const getClientSecret = async () => {\n      const { data } = await axios.post(\n        \"/api/orders/stripe-payment\",\n        { price, email: userInfo.email },\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      setClientSecret(data.clientSecret);\n    };\n\n    if (userInfo && price) getClientSecret();\n  }, [price, userInfo]);\n\n  // STEP 2: make the payment after filling the form properly\n  const makePayment = async (e) => {\n    e.preventDefault();\n    if (!stripe || !elements) {\n      // Stripe.js has not yet loaded.\n      // Make  sure to disable form submission until Stripe.js has loaded.\n      return;\n    }\n    if (clientSecret) {\n      const payload = await stripe.confirmBancontactPayment(clientSecret, {\n        payment_method: {\n          // card: elements.getElement(CardElement),\n          billing_details: {\n            name: userInfo.name,\n            email: userInfo.email,\n          },\n        },\n        return_url: \"https://bzshop.herokuapp.com/cart\",\n      });\n      console.log(payload.error);\n      if (!payload.error) {\n        dispatch(savePaymentMethod(\"Stripe\"));\n        dispatch(\n          payOrder(orderID, {\n            ...payload.paymentIntent,\n            paymentMode: \"stripe\",\n          })\n        );\n      } else {\n        setError(payload.error.message);\n      }\n    } else {\n      window.location.reload();\n    }\n  };\n\n  // render a checkout form for filling details about credit or debit cards\n  return (\n    <Form id=\"payment-form\" onSubmit={makePayment}>\n      {error && (\n        <Message dismissible variant=\"danger\">\n          {error}\n        </Message>\n      )}\n      <Form.Group\n        style={{\n          margin: \"1em 0\",\n          fontSize: \"1em\",\n        }}\n      >\n        <CardElement\n          options={{\n            style: {\n              base: {\n                fontSize: \"16px\",\n                color: \"#424770\",\n                \"::placeholder\": {\n                  color: \"#aab7c4\",\n                },\n              },\n              invalid: {\n                color: \"#9e2146\",\n              },\n            },\n          }}\n          id=\"card-element\"\n        />\n      </Form.Group>\n      <div className=\"d-grid\">\n        <Button disabled={!stripe} size=\"lg\" type=\"submit\">\n          Pay Now\n        </Button>\n      </div>\n    </Form>\n  );\n};\n\nexport default CheckoutForm;\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Row, Col, ListGroup, Image, Card, Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { PayPalButton } from \"react-paypal-button-v2\"; // for paypal payments\nimport axios from \"axios\";\nimport Message from \"../components/Message\";\nimport Loader from \"../components/Loader\";\nimport {\n  getOrderDetails,\n  payOrder,\n  deliverOrder,\n} from \"../actions/orderActions\";\nimport {\n  ORDER_PAY_RESET,\n  ORDER_DELIVER_RESET,\n} from \"../constants/orderConstants\";\nimport { savePaymentMethod } from \"../actions/cartActions\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { refreshLogin } from \"../actions/userActions\";\nimport CheckoutForm from \"../components/CheckoutForm\"; //stripe checkout form\nimport getDateString from \"../utils/getDateString\";\n\nconst OrderPage = ({ match, history }) => {\n  // load stripe\n  const stripePromise = loadStripe(\n    process.env.REACT_APP_STRIPE_PUBLISHABLE_KEY\n  );\n  // for paypal payment\n  const [SDKReady, setSDKReady] = useState(false);\n  const dispatch = useDispatch();\n  const orderID = match.params.id;\n\n  const orderDetails = useSelector((state) => state.orderDetails);\n  const { loading, order, error } = orderDetails;\n\n  const orderPay = useSelector((state) => state.orderPay);\n  const { loading: loadingPay, success: successPay } = orderPay;\n\n  const orderDeliver = useSelector((state) => state.orderDeliver);\n  const { loading: loadingDeliver, success: successDeliver } = orderDeliver;\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const userDetails = useSelector((state) => state.userDetails);\n  const { error: userLoginError } = userDetails;\n\n  // get new access tokens using the refresh token, is user details throws an error\n  useEffect(() => {\n    if (userLoginError && userInfo && !userInfo.isSocialLogin) {\n      const user = JSON.parse(localStorage.getItem(\"userInfo\"));\n      user && dispatch(refreshLogin(user.email));\n    }\n  }, [userLoginError, dispatch, userInfo]);\n\n  // set order to paid or delivered, and fetch updated orders\n  useEffect(() => {\n    if (!order || order._id !== orderID || successPay || successDeliver) {\n      if (successPay) dispatch({ type: ORDER_PAY_RESET });\n      if (successDeliver) dispatch({ type: ORDER_DELIVER_RESET });\n      dispatch(getOrderDetails(orderID));\n    }\n  }, [order, orderID, dispatch, successPay, successDeliver]);\n\n  // add the script required for paypal payments dynamically, to avoid possible attacks\n  useEffect(() => {\n    const addScript = async () => {\n      const config = userInfo.isSocialLogin\n        ? {\n            headers: {\n              Authorization: `SocialLogin ${userInfo.id}`,\n            },\n          }\n        : {\n            headers: {\n              Authorization: `Bearer ${userInfo.accessToken}`,\n            },\n          };\n      const { data: clientID } = await axios.get(\"/api/config/paypal\", config);\n      // add the script\n      const script = document.createElement(\"script\");\n      script.async = true;\n      script.type = \"text/javascript\";\n      script.src = `https://www.paypal.com/sdk/js?client-id=${clientID}&currency=USD&disable-funding=credit,card`;\n      script.onload = () => setSDKReady(true);\n      document.body.appendChild(script);\n    };\n    if (!userInfo) history.push(\"/login\"); // if not loggein in\n    if (!SDKReady) addScript();\n  }, [userInfo, SDKReady, history]);\n\n  // save the payment mthod as paypal\n  const successPaymentHandler = (paymentResult) => {\n    dispatch(savePaymentMethod(\"PayPal\"));\n    dispatch(payOrder(orderID, { ...paymentResult, paymentMode: \"paypal\" }));\n  };\n\n  // set order as delivered\n  const successDeliveryHandler = () => {\n    dispatch(deliverOrder(orderID));\n  };\n\n  return loading ? (\n    <Loader />\n  ) : error ? (\n    <Message dismissible variant=\"danger\" duration={10}>\n      {error}\n    </Message>\n  ) : (\n    <>\n      <h2>Order {orderID}</h2>\n      <Row>\n        {loading ? (\n          <Loader />\n        ) : (\n          <>\n            <Col md={8}>\n              <ListGroup variant=\"flush\">\n                {/* <ListGroup.Item>\n                  <h2>Shipping</h2>\n                  <p>\n                    <strong>Name: </strong>\n                    {order.user.name}\n                  </p>\n                  <p>\n                    <strong>Email: </strong>\n                    <a href={`mailto:${order.user.email}`}>\n                      {order.user.email}\n                    </a>\n                  </p>\n                  <p>\n                    <strong>Address: </strong> {order.shippingAddress.address},{\" \"}\n                    {order.shippingAddress.city}-\n                    {order.shippingAddress.postalCode},{\" \"}\n                    {order.shippingAddress.country}\n                  </p>\n                  <div>\n                    {order.isDelivered ? (\n                      <Message variant=\"success\">\n                        Delivered at: {getDateString(order.deliveredAt)}\n                      </Message>\n                    ) : (\n                      <Message variant=\"danger\">Not Delivered</Message>\n                    )}\n                  </div>\n                </ListGroup.Item> */}\n                <ListGroup.Item>\n                  <h2>Payment Method</h2>\n                  <p>\n                    <strong>Method: </strong> {order.paymentMethod}\n                  </p>\n                  <div>\n                    {order.isPaid ? (\n                      <Message variant=\"success\">\n                        Paid at: {getDateString(order.paidAt)}\n                      </Message>\n                    ) : (\n                      <Message variant=\"danger\">Not Paid</Message>\n                    )}\n                  </div>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <h2>Cart Items</h2>\n                  {order.orderItems.length !== 0 ? (\n                    <ListGroup variant=\"flush\">\n                      <div\n                        style={{\n                          background: \"red\",\n                        }}\n                      ></div>\n                      {order.orderItems.map((item, idx) => (\n                        <ListGroup.Item key={idx}>\n                          <Row>\n                            <Col md={2}>\n                              <Image\n                                className=\"product-image\"\n                                src={item.image}\n                                alt={item.name}\n                                fluid\n                                rounded\n                              />\n                            </Col>\n                            <Col>\n                              <Link to={`/product/${item.product}`}>\n                                {item.name}\n                              </Link>\n                            </Col>\n                            <Col md={4}>\n                              {item.qty} x {item.price} ={\" \"}\n                              {(item.qty * item.price).toLocaleString(\"en-IN\", {\n                                maximumFractionDigits: 2,\n                                style: \"currency\",\n                                currency: \"eur\",\n                              })}\n                            </Col>\n                          </Row>\n                        </ListGroup.Item>\n                      ))}\n                    </ListGroup>\n                  ) : (\n                    <Message>No order</Message>\n                  )}\n                </ListGroup.Item>\n              </ListGroup>\n            </Col>\n            <Col md={4}>\n              <Card>\n                <ListGroup variant=\"flush\">\n                  <ListGroup.Item>\n                    <h2 className=\"text-center\">Order Summary</h2>\n                  </ListGroup.Item>\n                  {error && (\n                    <ListGroup.Item>\n                      <Message dismissible variant=\"danger\" duration={10}>\n                        {error}\n                      </Message>\n                    </ListGroup.Item>\n                  )}\n                  <ListGroup.Item>\n                    <Row>\n                      <Col>\n                        <strong>Subtotal</strong>\n                      </Col>\n                      <Col>\n                        {order.itemsPrice.toLocaleString(\"en-IN\", {\n                          maximumFractionDigits: 2,\n                          style: \"currency\",\n                          currency: \"eur\",\n                        })}\n                      </Col>\n                    </Row>\n                  </ListGroup.Item>\n\n                  <ListGroup.Item>\n                    <Row>\n                      <Col>\n                        <strong>Tax</strong>\n                      </Col>\n                      <Col>\n                        {order.taxPrice.toLocaleString(\"en-IN\", {\n                          maximumFractionDigits: 2,\n                          style: \"currency\",\n                          currency: \"eur\",\n                        })}\n                      </Col>\n                    </Row>\n                  </ListGroup.Item>\n                  <ListGroup.Item>\n                    <Row>\n                      <Col>\n                        <strong>Total</strong>\n                      </Col>\n                      <Col>\n                        {order.totalPrice.toLocaleString(\"en-IN\", {\n                          maximumFractionDigits: 2,\n                          style: \"currency\",\n                          currency: \"eur\",\n                        })}\n                      </Col>\n                    </Row>\n                  </ListGroup.Item>\n                  {/* show paypal button or the stripe checkout form */}\n                  {!order.isPaid && (\n                    <>\n                      {order.paymentMethod === \"PayPal\" ? (\n                        <ListGroup.Item>\n                          {loadingPay && <Loader />}\n                          {!SDKReady ? (\n                            <Loader />\n                          ) : (\n                            <PayPalButton\n                              style={{\n                                shape: \"rect\",\n                                color: \"gold\",\n                                layout: \"vertical\",\n                                label: \"pay\",\n                              }}\n                              currency=\"USD\"\n                              // converting eur to USD, as paypal cannot support eur\n                              amount={Number(order.totalPrice / 72).toFixed(2)}\n                              onSuccess={successPaymentHandler}\n                            />\n                          )}\n                        </ListGroup.Item>\n                      ) : (\n                        <ListGroup.Item>\n                          {loadingPay && <Loader />}\n                          <Elements stripe={stripePromise}>\n                            {/* price in paisa */}\n                            <CheckoutForm\n                              price={order.totalPrice * 100}\n                              orderID={orderID}\n                            />\n                          </Elements>\n                        </ListGroup.Item>\n                      )}\n                    </>\n                  )}\n                  {/* show this only to admins, after payment is done */}\n                  {userInfo &&\n                    userInfo.isAdmin &&\n                    order.isPaid &&\n                    !order.isDelivered && (\n                      <ListGroup.Item>\n                        {loadingDeliver && <Loader />}\n                        <div className=\"d-grid\">\n                          <Button\n                            type=\"button\"\n                            variant=\"info\"\n                            size=\"lg\"\n                            onClick={successDeliveryHandler}\n                          >\n                            Mark as Delivered\n                          </Button>\n                        </div>\n                      </ListGroup.Item>\n                    )}\n                </ListGroup>\n              </Card>\n            </Col>\n          </>\n        )}\n      </Row>\n    </>\n  );\n};\n\nexport default OrderPage;\n","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Form, Button, InputGroup, FloatingLabel } from 'react-bootstrap';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport FormContainer from '../components/FormContainer';\nimport { resetUserPassword } from '../actions/userActions';\n\nconst PasswordResetPage = ({ match, history }) => {\n\tconst [name, setName] = useState('');\n\tconst [typePassword, setTypePassword] = useState('password');\n\tconst [typeConfirmPassword, setTypeConfirmPassword] = useState('password');\n\tconst [message, setMessage] = useState(null);\n\tconst [confirmPassword, setConfirmPassword] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst dispatch = useDispatch();\n\tconst userResetPassword = useSelector((state) => state.userResetPassword);\n\tconst { loading, resetPassword, error } = userResetPassword;\n\n\t// get the name stored in the local storage and ask that user to reset password\n\tuseEffect(() => {\n\t\tconst nameFromLocalStorage = localStorage.getItem('EcommerceUserName');\n\t\tif (nameFromLocalStorage) {\n\t\t\tsetName(nameFromLocalStorage);\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (resetPassword) {\n\t\t\tsetTimeout(() => {\n\t\t\t\thistory.push('/login');\n\t\t\t}, 10000);\n\t\t}\n\t}, [history, resetPassword]);\n\n\tconst showHidePassword = (e) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tsetTypePassword(typePassword === 'password' ? 'text' : 'password');\n\t};\n\tconst showHideConfirmPassword = (e) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tsetTypeConfirmPassword(\n\t\t\ttypeConfirmPassword === 'password' ? 'text' : 'password'\n\t\t);\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tif (password !== confirmPassword) {\n\t\t\tsetMessage('Passwords do not match. Please retry.');\n\t\t} else {\n\t\t\tdispatch(resetUserPassword(match.params.token, password));\n\t\t}\n\t};\n\n\treturn (\n\t\t<FormContainer>\n\t\t\t<h1>{name ? `${name}, reset password` : 'Reset Password'}</h1>\n\t\t\t{message && (\n\t\t\t\t<Message dismissible duration={8} variant='warning'>\n\t\t\t\t\t{message}\n\t\t\t\t</Message>\n\t\t\t)}\n\t\t\t{resetPassword && (\n\t\t\t\t<Message dismissible variant='success' duration={8}>\n\t\t\t\t\tPassword Changed Successfully.\n\t\t\t\t</Message>\n\t\t\t)}\n\t\t\t{error && (\n\t\t\t\t<Message dismissible variant='danger'>\n\t\t\t\t\t{error}\n\t\t\t\t</Message>\n\t\t\t)}\n\t\t\t{loading ? (\n\t\t\t\t<Loader />\n\t\t\t) : (\n\t\t\t\t<Form onSubmit={handleSubmit} style={{ width: '33em' }}>\n\t\t\t\t\t<Form.Group className='mb-2'>\n\t\t\t\t\t\t<InputGroup style={{ width: '100%' }}>\n\t\t\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\t\t\tcontrolId='passwordinput'\n\t\t\t\t\t\t\t\tlabel='Password'\n\t\t\t\t\t\t\t\tclassName='mb-3'>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\ttype={typePassword}\n\t\t\t\t\t\t\t\t\tplaceholder='Enter your password'\n\t\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\n\t\t\t\t\t\t\t\t\t\twidth: '205%',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetPassword(e.target.value)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FloatingLabel>\n\t\t\t\t\t\t\t<div className='input-group-append'>\n\t\t\t\t\t\t\t\t<InputGroup.Text\n\t\t\t\t\t\t\t\t\tonClick={showHidePassword}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tpaddingLeft: '1em',\n\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\n\t\t\t\t\t\t\t\t\t\twidth: '17.5%',\n\t\t\t\t\t\t\t\t\t\theight: '78%',\n\t\t\t\t\t\t\t\t\t\tmarginLeft: '15rem',\n\t\t\t\t\t\t\t\t\t\tbackground: 'transparent',\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t{typePassword === 'text' ? (\n\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash' />\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye' />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</InputGroup.Text>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</InputGroup>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group className='my-2'>\n\t\t\t\t\t\t<InputGroup style={{ width: '100%' }}>\n\t\t\t\t\t\t\t<FloatingLabel\n\t\t\t\t\t\t\t\tcontrolId='confirmpasswordinput'\n\t\t\t\t\t\t\t\tlabel='Confirm password'\n\t\t\t\t\t\t\t\tclassName='mb-3'>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\ttype={typeConfirmPassword}\n\t\t\t\t\t\t\t\t\tplaceholder='Confirm your password'\n\t\t\t\t\t\t\t\t\tvalue={confirmPassword}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\n\t\t\t\t\t\t\t\t\t\twidth: '205%',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetConfirmPassword(e.target.value)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FloatingLabel>\n\t\t\t\t\t\t\t<div className='input-group-append'>\n\t\t\t\t\t\t\t\t<InputGroup.Text\n\t\t\t\t\t\t\t\t\tonClick={showHideConfirmPassword}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tpaddingLeft: '1em',\n\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\n\t\t\t\t\t\t\t\t\t\twidth: '17.5%',\n\t\t\t\t\t\t\t\t\t\theight: '78%',\n\t\t\t\t\t\t\t\t\t\tmarginLeft: '15rem',\n\t\t\t\t\t\t\t\t\t\tbackground: 'transparent',\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t{typeConfirmPassword === 'text' ? (\n\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash' />\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye' />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</InputGroup.Text>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</InputGroup>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tpadding: '0.5em 1em',\n\t\t\t\t\t\t\twidth: '8rem',\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</Button>\n\t\t\t\t</Form>\n\t\t\t)}\n\t\t</FormContainer>\n\t);\n};\n\nexport default PasswordResetPage;\n","import React, { useEffect } from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Table, Button } from 'react-bootstrap';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport { listAllUsers, deleteUser, refreshLogin } from '../actions/userActions';\nimport Paginate from '../components/Paginate';\n\nconst UserListPage = ({ match, history }) => {\n\tconst pageNumber = match.params.pageNumber || 1; // to fetch various pages of orders\n\tconst dispatch = useDispatch();\n\tconst userList = useSelector((state) => state.userList);\n\tconst { loading, users, error, page, pages, total } = userList;\n\n\tconst userLogin = useSelector((state) => state.userLogin);\n\tconst { userInfo } = userLogin;\n\n\tconst userDelete = useSelector((state) => state.userDelete);\n\tconst { success: successDelete } = userDelete;\n\n\tconst userDetails = useSelector((state) => state.userDetails);\n\tconst { error: userLoginError } = userDetails;\n\n\tuseEffect(() => {\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\n\t\t\tuser && dispatch(refreshLogin(user.email));\n\t\t}\n\t}, [userLoginError, dispatch, userInfo]);\n\n\tuseEffect(() => {\n\t\tif (userInfo && userInfo.isAdmin) dispatch(listAllUsers(pageNumber));\n\t\telse history.push('/login');\n\t}, [dispatch, history, userInfo, successDelete, pageNumber]);\n\n\tconst handleDelete = (id) => {\n\t\tif (window.confirm('Are you sure you wanna delete user?'))\n\t\t\tdispatch(deleteUser(id));\n\t};\n\treturn (\n\t\t<>\n\t\t\t<h1>Users ({`${total || 0}`})</h1>\n\t\t\t{loading ? (\n\t\t\t\t<Loader />\n\t\t\t) : error ? (\n\t\t\t\t<Message dismissible variant='danger' duration={10}>\n\t\t\t\t\t{error}\n\t\t\t\t</Message>\n\t\t\t) : (\n\t\t\t\t<Table\n\t\t\t\t\tstriped\n\t\t\t\t\tbordered\n\t\t\t\t\tresponsive\n\t\t\t\t\tclassName='table-sm text-center'>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>ID</th>\n\t\t\t\t\t\t\t<th>NAME</th>\n\t\t\t\t\t\t\t<th>EMAIL</th>\n\t\t\t\t\t\t\t<th>CONFIRMED</th>\n\t\t\t\t\t\t\t<th>ADMIN</th>\n\t\t\t\t\t\t\t<th>ACTION</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{users &&\n\t\t\t\t\t\t\tusers.map((user) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<tr key={user._id}>\n\t\t\t\t\t\t\t\t\t\t<td>{user._id}</td>\n\t\t\t\t\t\t\t\t\t\t<td>{user.name}</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<a href={`mailto:${user.email}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t{user.email}\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{user.isConfirmed ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-check'\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'green' }}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'red' }}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{user.isAdmin ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-check'\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'green' }}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'red' }}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-around',\n\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/admin/user/${user._id}/edit`}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='link'\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit' />\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='danger'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleDelete(user._id)\n\t\t\t\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash' />\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t)}\n\t\t\t<Paginate\n\t\t\t\tpages={pages}\n\t\t\t\tpage={page}\n\t\t\t\tisAdmin={true}\n\t\t\t\tforUsers={true}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default UserListPage;\n","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Form, Button, InputGroup } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport Meta from '../components/Meta';\nimport FormContainer from '../components/FormContainer';\nimport {\n\tgetUserDetails,\n\tupdateUser,\n\trefreshLogin,\n} from '../actions/userActions';\nimport { USER_UPDATE_RESET } from '../constants/userConstants';\n\nconst UserEditPage = ({ match, history }) => {\n\tconst userId = match.params.id;\n\tconst [name, setName] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [isAdmin, setIsAdmin] = useState(false);\n\tconst dispatch = useDispatch();\n\n\tconst userDetails = useSelector((state) => state.userDetails);\n\tconst { loading, user, error } = userDetails;\n\n\tconst userUpdate = useSelector((state) => state.userUpdate);\n\tconst {\n\t\tloading: loadingUpdate,\n\t\terror: errorUpdate,\n\t\tsuccess: successUpdate,\n\t} = userUpdate;\n\n\tconst userLogin = useSelector((state) => state.userLogin);\n\tconst { userInfo } = userLogin;\n\n\t// get new access tokens\n\tuseEffect(() => {\n\t\tif (error && userInfo && !userInfo.isSocialLogin) {\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\n\t\t\tuser && dispatch(refreshLogin(user.email));\n\t\t}\n\t}, [error, dispatch, userInfo]);\n\n\t// update user details from the admin panel view\n\tuseEffect(() => {\n\t\tif (successUpdate) {\n\t\t\tdispatch({ type: USER_UPDATE_RESET });\n\t\t\thistory.push('/admin/userlist');\n\t\t} else {\n\t\t\tif (!user || !user.name || user._id !== userId) {\n\t\t\t\tdispatch(getUserDetails(userId));\n\t\t\t} else {\n\t\t\t\tsetName(user.name);\n\t\t\t\tsetEmail(user.email);\n\t\t\t\tsetIsAdmin(user.isAdmin);\n\t\t\t}\n\t\t}\n\t}, [user, dispatch, userId, successUpdate, history]);\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tdispatch(updateUser({ _id: userId, name, email, isAdmin }));\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Link to='/admin/userlist'>\n\t\t\t\t<Button variant='outline-primary' className='my-3'>\n\t\t\t\t\tGo Back\n\t\t\t\t</Button>\n\t\t\t</Link>\n\t\t\t<FormContainer>\n\t\t\t\t{user && <Meta title={`Edit ${user.name} | Kosells`} />}\n\t\t\t\t<h1>Edit User</h1>\n\t\t\t\t{loadingUpdate ? (\n\t\t\t\t\t<Loader />\n\t\t\t\t) : errorUpdate ? (\n\t\t\t\t\t<Message dismissible variant='danger' duration={10}>\n\t\t\t\t\t\t{errorUpdate}\n\t\t\t\t\t</Message>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t<Loader />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t\t{error && (\n\t\t\t\t\t\t\t\t\t<Message\n\t\t\t\t\t\t\t\t\t\tdismissible\n\t\t\t\t\t\t\t\t\t\tvariant='danger'\n\t\t\t\t\t\t\t\t\t\tduration={10}>\n\t\t\t\t\t\t\t\t\t\t{error}\n\t\t\t\t\t\t\t\t\t</Message>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<Form.Group controlId='name' className='mb-2'>\n\t\t\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Name'\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\tsetName(e.target.value)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Form.Group controlId='email' className='my-2'>\n\t\t\t\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Email Address'\n\t\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\tsetEmail(e.target.value)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Form.Group\n\t\t\t\t\t\t\t\t\tcontrolId='isAdmin'\n\t\t\t\t\t\t\t\t\tclassName='my-2'>\n\t\t\t\t\t\t\t\t\t<InputGroup>\n\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\t\t\t\t\t\tlabel='Is Admin'\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ borderRight: 'none' }}\n\t\t\t\t\t\t\t\t\t\t\tchecked={isAdmin}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\tsetIsAdmin(e.target.checked)\n\t\t\t\t\t\t\t\t\t\t\t}></Form.Check>\n\t\t\t\t\t\t\t\t\t</InputGroup>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\tvariant='dark'\n\t\t\t\t\t\t\t\t\tclassName='my-1'>\n\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</FormContainer>\n\t\t</>\n\t);\n};\n\nexport default UserEditPage;\n","import React, { useEffect } from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Table, Button, Row, Col } from 'react-bootstrap';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport {\n\tlistProducts,\n\tdeleteProduct,\n\tcreateProduct,\n} from '../actions/productActions';\nimport { PRODUCT_CREATE_RESET } from '../constants/productConstants';\nimport Paginate from '../components/Paginate';\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\n\nconst ProductListPage = ({ history, match }) => {\n\tconst pageNumber = match.params.pageNumber || 1;\n\tconst dispatch = useDispatch();\n\tconst productList = useSelector((state) => state.productList);\n\tconst { loading, products, error, pages, page } = productList;\n\n\tconst productDelete = useSelector((state) => state.productDelete);\n\tconst {\n\t\tloading: loadingDelete,\n\t\tsuccess: successDelete,\n\t\terror: errorDelete,\n\t} = productDelete;\n\n\tconst productCreate = useSelector((state) => state.productCreate);\n\tconst {\n\t\tloading: loadingCreate,\n\t\tsuccess: successCreate,\n\t\terror: errorCreate,\n\t\tproduct: createdProduct,\n\t} = productCreate;\n\n\tconst userLogin = useSelector((state) => state.userLogin);\n\tconst { userInfo } = userLogin;\n\n\tconst userDetails = useSelector((state) => state.userDetails);\n\tconst { error: userLoginError } = userDetails;\n\n\t// fetch user login info\n\tuseEffect(() => {\n\t\tuserInfo\n\t\t\t? userInfo.isSocialLogin\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\n\t\t\t\t: dispatch(getUserDetails('profile'))\n\t\t\t: dispatch(getUserDetails('profile'));\n\t}, [userInfo, dispatch]);\n\n\t// refresh token for expired access tokens\n\tuseEffect(() => {\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\n\t\t\tuser && dispatch(refreshLogin(user.email));\n\t\t}\n\t}, [userLoginError, dispatch, userInfo]);\n\n\tuseEffect(() => {\n\t\tif (!userInfo.isAdmin) history.push('/login');\n\t\tdispatch({ type: PRODUCT_CREATE_RESET }); //reset the new product detail\n\t\tif (successCreate)\n\t\t\thistory.push(`/admin/product/${createdProduct._id}/edit`);\n\t\telse dispatch(listProducts('', pageNumber, 10)); // 3rd parameter is the no of products to be listed per page\n\t}, [\n\t\tdispatch,\n\t\thistory,\n\t\tuserInfo,\n\t\tsuccessDelete,\n\t\tsuccessCreate,\n\t\tcreatedProduct,\n\t\tpageNumber,\n\t]);\n\n\t// delete product after confirming\n\tconst handleDelete = (id) => {\n\t\tif (window.confirm('Are you sure you wanna delete this product?'))\n\t\t\tdispatch(deleteProduct(id));\n\t};\n\t// create a new dummy product\n\tconst handleCreateProduct = () => {\n\t\tdispatch(createProduct());\n\t};\n\treturn (\n\t\t<>\n\t\t\t<Row className='align-items-center'>\n\t\t\t\t<Col>\n\t\t\t\t\t<h1>Products</h1>\n\t\t\t\t</Col>\n\t\t\t\t<Col style={{ display: 'flex', justifyContent: 'flex-end' }}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName='my-3'\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tpadding: '0.5em 1em',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={handleCreateProduct}>\n\t\t\t\t\t\t<i className='fas fa-plus' /> Create Product\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t{errorDelete && (\n\t\t\t\t<Message dismissible variant='danger' duration={10}>\n\t\t\t\t\t{errorDelete}\n\t\t\t\t</Message>\n\t\t\t)}\n\t\t\t{errorCreate && (\n\t\t\t\t<Message dismissible variant='danger' duration={10}>\n\t\t\t\t\t{errorCreate}\n\t\t\t\t</Message>\n\t\t\t)}\n\t\t\t{loading || loadingCreate || loadingDelete ? (\n\t\t\t\t<Loader />\n\t\t\t) : error ? (\n\t\t\t\t<Message dismissible variant='danger' duration={10}>\n\t\t\t\t\t{error}\n\t\t\t\t</Message>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tstriped\n\t\t\t\t\t\tbordered\n\t\t\t\t\t\tresponsive\n\t\t\t\t\t\tclassName='table-sm text-center'>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>ID</th>\n\t\t\t\t\t\t\t\t<th>NAME</th>\n\t\t\t\t\t\t\t\t<th>PRICE</th>\n\t\t\t\t\t\t\t\t<th>CATEGORY</th>\n\t\t\t\t\t\t\t\t<th>BRAND</th>\n\t\t\t\t\t\t\t\t<th>ACTION</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{products &&\n\t\t\t\t\t\t\t\tproducts.map((product) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<tr key={product._id}>\n\t\t\t\t\t\t\t\t\t\t\t<td>{product._id}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>{product.name}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{product.price &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.price.toLocaleString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'en-IN',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'INR',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>{product.category}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>{product.brand}</td>\n\n\t\t\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'space-around',\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/admin/product/${product._id}/edit`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='link'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit' />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDelete(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproduct._id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='danger'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.9em',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-trash'\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</Table>\n\t\t\t\t\t<Paginate pages={pages} page={page} isAdmin={true} />\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default ProductListPage;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Form, Button, Image, FloatingLabel, Row, Col } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { listProductDetails, updateProduct } from \"../actions/productActions\";\nimport { PRODUCT_UPDATE_RESET } from \"../constants/productConstants\";\nimport axios from \"axios\";\nimport Loader from \"../components/Loader\";\nimport Message from \"../components/Message\";\nimport { refreshLogin, getUserDetails } from \"../actions/userActions\";\n\nimport FormContainer from \"../components/FormContainer\";\n\nconst ProductEditPage = ({ match, history }) => {\n  // all variable for stroing product details\n  const productId = match.params.id;\n  const [name, setName] = useState(\"\");\n  const [brand, setBrand] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [price, setPrice] = useState(0.0);\n  const [countInStock, setCountInStock] = useState(0);\n\n  // to upload product image\n  const [uploading, setUploading] = useState(false);\n  const [errorImageUpload, setErrorImageUpload] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const productDetails = useSelector((state) => state.productDetails);\n  const { loading, product, error } = productDetails;\n\n  const productUpdate = useSelector((state) => state.productUpdate);\n  const {\n    loading: loadingUpdate,\n    success: successUpdate,\n    error: errorUpdate,\n  } = productUpdate;\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const userDetails = useSelector((state) => state.userDetails);\n  const { error: userLoginError } = userDetails;\n\n  // fetch user login details\n  useEffect(() => {\n    userInfo\n      ? userInfo.isSocialLogin\n        ? dispatch(getUserDetails(userInfo.id))\n        : dispatch(getUserDetails(\"profile\"))\n      : dispatch(getUserDetails(\"profile\"));\n  }, [userInfo, dispatch]);\n\n  // fetch new access tokens if user details fail, using the refresh token\n  useEffect(() => {\n    if (userLoginError && userInfo && !userInfo.isSocialLogin) {\n      const user = JSON.parse(localStorage.getItem(\"userInfo\"));\n      user && dispatch(refreshLogin(user.email));\n    }\n  }, [userLoginError, dispatch, userInfo]);\n\n  useEffect(() => {\n    dispatch(listProductDetails(productId));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // update the product details in state\n  useEffect(() => {\n    if (successUpdate) {\n      dispatch({ type: PRODUCT_UPDATE_RESET });\n      history.push(\"/admin/productlist\");\n    } else {\n      if (!product || product._id !== productId) {\n        dispatch(listProductDetails(productId));\n      } else {\n        setName(product.name);\n        setPrice(product.price);\n        setImage(product.image);\n        setBrand(product.brand);\n        setCategory(product.category);\n        setDescription(product.description);\n        setCountInStock(product.countInStock);\n      }\n    }\n  }, [product, dispatch, productId, history, successUpdate]);\n\n  // submit the product details\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(\n      updateProduct({\n        _id: productId,\n        name,\n        brand,\n        price,\n        category,\n        description,\n        countInStock,\n        image,\n      })\n    );\n  };\n\n  // for image input, use a ref\n  const inputFile = useRef(null);\n\n  // click the above ref, to handle the overlay div above the product image\n  const handleImageClick = () => {\n    inputFile.current.click();\n  };\n\n  // submit file to aws bucket, get the url\n  const handleFileUpload = async (e) => {\n    const file = e.target.files[0];\n    const formData = new FormData();\n    formData.append(\"image\", file);\n    setUploading(true);\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      };\n\n      const { data } = await axios.post(\"/api/upload\", formData, config);\n      setImage(data);\n      setUploading(false);\n    } catch (error) {\n      setErrorImageUpload(\"Please choose a valid image\");\n      setUploading(false);\n    }\n  };\n\n  return (\n    <>\n      <Link to=\"/admin/productlist\">\n        <Button variant=\"outline-primary\" className=\"mt-3\">\n          Go Back\n        </Button>\n      </Link>\n      <FormContainer style={{ marginTop: \"-2em\" }}>\n        <h1>Edit Product</h1>\n        {loadingUpdate ? (\n          <Loader />\n        ) : errorUpdate ? (\n          <Message dismissible variant=\"danger\" duration={10}>\n            {errorUpdate}\n          </Message>\n        ) : (\n          <>\n            {loading ? (\n              <Loader />\n            ) : (\n              <Form onSubmit={handleSubmit}>\n                {error && (\n                  <Message dismissible variant=\"danger\" duration={10}>\n                    {error}\n                  </Message>\n                )}\n                <Form.Group controlId=\"name\">\n                  <FloatingLabel\n                    controlId=\"nameinput\"\n                    label=\"Name\"\n                    className=\"mb-3\"\n                  >\n                    <Form.Control\n                      size=\"lg\"\n                      placeholder=\"Enter Name\"\n                      type=\"text\"\n                      value={name}\n                      onChange={(e) => setName(e.target.value)}\n                    />\n                  </FloatingLabel>\n                </Form.Group>\n                <Form.Group controlId=\"price\">\n                  <FloatingLabel\n                    controlId=\"priceinput\"\n                    label=\"Price\"\n                    className=\"mb-3\"\n                  >\n                    <Form.Control\n                      size=\"lg\"\n                      placeholder=\"Enter price\"\n                      type=\"number\"\n                      value={price}\n                      min=\"0\"\n                      max=\"1000\"\n                      step=\"0.1\"\n                      onChange={(e) => setPrice(e.target.value)}\n                    />\n                  </FloatingLabel>\n                </Form.Group>\n                {errorImageUpload && (\n                  <Message dismissible variant=\"danger\" duration={10}>\n                    {errorImageUpload}\n                  </Message>\n                )}\n                {uploading ? (\n                  <div>Uploading...</div>\n                ) : (\n                  <Form.Group controlId=\"image\">\n                    <Row>\n                      <Col md={9}>\n                        <FloatingLabel\n                          controlId=\"imageinput\"\n                          label=\"Image URL\"\n                          className=\"mb-3\"\n                        >\n                          <Form.Control\n                            size=\"lg\"\n                            placeholder=\"Enter image URL\"\n                            type=\"text\"\n                            value={image}\n                            onChange={(e) => setImage(e.target.value)}\n                          />\n                        </FloatingLabel>\n                      </Col>\n                      <Col md={3}>\n                        <input\n                          accept=\"image/*\"\n                          type=\"file\"\n                          id=\"file\"\n                          ref={inputFile}\n                          onChange={handleFileUpload}\n                          style={{ display: \"none\" }}\n                        />\n                        <div\n                          className=\"profile-page-image\"\n                          style={{\n                            alignSelf: \"center\",\n                          }}\n                        >\n                          <Image\n                            src={image}\n                            alt={name}\n                            title=\"Click to input file\"\n                            style={{\n                              width: \"100%\",\n                              border: \"1px solid #ced4da\",\n                              marginBottom: \"1em\",\n                              cursor: \"pointer\",\n                              borderRadius: \"0.25rem\",\n                            }}\n                          />\n                          <div\n                            className=\"image-overlay-product\"\n                            onClick={handleImageClick}\n                          >\n                            Click to upload image\n                          </div>\n                        </div>\n                      </Col>\n                    </Row>\n                  </Form.Group>\n                )}\n                <Form.Group controlId=\"brand\">\n                  <FloatingLabel\n                    controlId=\"brandinput\"\n                    label=\"Brand\"\n                    className=\"mb-3\"\n                  >\n                    <Form.Control\n                      size=\"lg\"\n                      placeholder=\"Enter brand\"\n                      type=\"text\"\n                      value={brand}\n                      onChange={(e) => setBrand(e.target.value)}\n                    />\n                  </FloatingLabel>\n                </Form.Group>\n                <Form.Group controlId=\"category\">\n                  <FloatingLabel\n                    controlId=\"categoryinput\"\n                    label=\"Category\"\n                    className=\"mb-3\"\n                  >\n                    <Form.Control\n                      size=\"lg\"\n                      placeholder=\"Enter category\"\n                      type=\"text\"\n                      value={category}\n                      onChange={(e) => setCategory(e.target.value)}\n                    />\n                  </FloatingLabel>\n                </Form.Group>\n                <Form.Group controlId=\"description\">\n                  <FloatingLabel\n                    controlId=\"descinput\"\n                    label=\"Description\"\n                    className=\"mb-3\"\n                  >\n                    <Form.Control\n                      size=\"lg\"\n                      placeholder=\"Enter description URL\"\n                      type=\"text\"\n                      value={description}\n                      onChange={(e) => setDescription(e.target.value)}\n                    />\n                  </FloatingLabel>\n                </Form.Group>\n                <Form.Group controlId=\"countInStock\">\n                  <FloatingLabel\n                    controlId=\"countinstockinput\"\n                    label=\"CountInStock\"\n                    className=\"mb-3\"\n                  >\n                    <Form.Control\n                      size=\"lg\"\n                      placeholder=\"Enter Count In Stock\"\n                      type=\"number\"\n                      min=\"0\"\n                      max=\"1000\"\n                      value={countInStock}\n                      onChange={(e) => setCountInStock(e.target.value)}\n                    />\n                  </FloatingLabel>\n                </Form.Group>\n                <div className=\"d-flex\">\n                  <Button type=\"submit\" className=\"my-1 ms-auto\">\n                    Update Product\n                  </Button>\n                </div>\n              </Form>\n            )}\n          </>\n        )}\n      </FormContainer>\n    </>\n  );\n};\n\nexport default ProductEditPage;\n","import React, { useEffect } from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Table, Button, Row, Col } from 'react-bootstrap';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport Paginate from '../components/Paginate';\nimport { refreshLogin } from '../actions/userActions';\nimport { listAllOrders } from '../actions/orderActions';\nimport getDateString from '../utils/getDateString';\n\nconst ProductListPage = ({ history, match }) => {\n\tconst pageNumber = match.params.pageNumber || 1; // to fetch various pages of orders\n\tconst dispatch = useDispatch();\n\tconst orderListAll = useSelector((state) => state.orderListAll); // to avoid blank screen display\n\tconst { loading, orders, error, page, pages, total } = orderListAll;\n\n\tconst userLogin = useSelector((state) => state.userLogin);\n\tconst { userInfo } = userLogin;\n\n\tconst userDetails = useSelector((state) => state.userDetails);\n\tconst { error: userLoginError } = userDetails;\n\n\t// refresh access tokens aif user details are failed\n\tuseEffect(() => {\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\n\t\t\tuser && dispatch(refreshLogin(user.email));\n\t\t}\n\t}, [userLoginError, dispatch, userInfo]);\n\n\t// get all orders by pagenumber\n\tuseEffect(() => {\n\t\tif (userInfo && userInfo.isAdmin) dispatch(listAllOrders(pageNumber));\n\t\telse history.push('/login');\n\t}, [dispatch, history, userInfo, pageNumber]);\n\n\treturn (\n\t\t<>\n\t\t\t<Row className='align-items-center'>\n\t\t\t\t<Col>\n\t\t\t\t\t<h1>All Orders ({`${total || 0}`})</h1>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t{loading ? (\n\t\t\t\t<Loader />\n\t\t\t) : error ? (\n\t\t\t\t<Message dismissible variant='danger' duration={10}>\n\t\t\t\t\t{error}\n\t\t\t\t</Message>\n\t\t\t) : (\n\t\t\t\t<Table\n\t\t\t\t\tstriped\n\t\t\t\t\tbordered\n\t\t\t\t\tresponsive\n\t\t\t\t\tclassName='table-sm text-center'>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>ID</th>\n\t\t\t\t\t\t\t<th>USER</th>\n\t\t\t\t\t\t\t<th>TOTAL</th>\n\t\t\t\t\t\t\t<th>DATE</th>\n\t\t\t\t\t\t\t<th>PAID</th>\n\t\t\t\t\t\t\t<th>DELIVERED</th>\n\t\t\t\t\t\t\t<th>ACTION</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{orders &&\n\t\t\t\t\t\t\torders.map((order) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<tr key={order._id}>\n\t\t\t\t\t\t\t\t\t\t<td>{order._id}</td>\n\t\t\t\t\t\t\t\t\t\t<td>{order.user && order.user.name}</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{order.totalPrice.toLocaleString(\n\t\t\t\t\t\t\t\t\t\t\t\t'en-IN',\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'INR',\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{getDateString(order.createdAt)}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{order.isPaid ? (\n\t\t\t\t\t\t\t\t\t\t\t\tgetDateString(order.paidAt)\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'red',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\n\t\t\t\t\t\t\t\t\t\t\t\tgetDateString(order.deliveredAt)\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'red',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-around',\n\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/order/${order._id}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='link'\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'>\n\t\t\t\t\t\t\t\t\t\t\t\t\tView Details\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t)}\n\t\t\t<Paginate\n\t\t\t\tpages={pages}\n\t\t\t\tpage={page}\n\t\t\t\tisAdmin={true}\n\t\t\t\tforOrders={true}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default ProductListPage;\n","export default __webpack_public_path__ + \"static/media/404Error.0ed04e00.png\";","import React from 'react';\nimport errorImg from '../assets/404Error.png';\nimport { Link } from 'react-router-dom';\nimport '../styles/error-page.css';\n\n// 404 page\nconst ErrorPage = () => {\n\treturn (\n\t\t<div className='text-center'>\n\t\t\t<img className='error-img' alt='error' src={errorImg} />\n\t\t\t<p className='mb-0 mt-3 text-error'>\n\t\t\t\t<i className='far fa-frown' /> Looks like this page does not\n\t\t\t\texist.\n\t\t\t</p>\n\t\t\t<p className='mt-0 text-error'>\n\t\t\t\tGo Back to the <Link to='/'>Home Page</Link>\n\t\t\t</p>\n\t\t</div>\n\t);\n};\n\nexport default ErrorPage;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit https://cra.link/PWA'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://cra.link/PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' },\n\t})\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null &&\n\t\t\t\t\tcontentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then((registration) => {\n\t\t\t\tregistration.unregister();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t}\n}\n","import React, { useState, useEffect } from 'react';\nimport { ToastContainer, Toast } from 'react-bootstrap';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport './styles/update-toast.css';\n\nconst ServiceWorkerWrapper = () => {\n\tconst [showReload, setShowReload] = useState(false);\n\tconst [waitingWorker, setWaitingWorker] = useState(null);\n\n\tconst onSWUpdate = (registration) => {\n\t\tsetShowReload(true);\n\t\tsetWaitingWorker(registration.waiting);\n\t};\n\n\t// register the service worker on page load\n\tuseEffect(() => {\n\t\tserviceWorkerRegistration.register({ onUpdate: onSWUpdate });\n\t}, []);\n\n\t// skip waiting and install new updates on page reload\n\tconst reloadPage = () => {\n\t\twaitingWorker?.postMessage({ type: 'SKIP_WAITING' });\n\t\tsetShowReload(false);\n\t\twindow.location.reload(true);\n\t};\n\n\treturn (\n\t\t<ToastContainer className='update-toast' onClick={reloadPage}>\n\t\t\t<Toast show={showReload} onClose={reloadPage} bg='dark'>\n\t\t\t\t<Toast.Header>\n\t\t\t\t\t<strong className='me-auto text-black'>\n\t\t\t\t\t\tNew Version Available\n\t\t\t\t\t</strong>\n\t\t\t\t</Toast.Header>\n\t\t\t\t<Toast.Body className='text-white'>\n\t\t\t\t\tReload to see whats new!\n\t\t\t\t</Toast.Body>\n\t\t\t</Toast>\n\t\t</ToastContainer>\n\t);\n};\n\nexport default ServiceWorkerWrapper;\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\n\nimport HomePage from \"./pages/HomePage\";\nimport ProductPage from \"./pages/ProductPage\";\nimport CartPage from \"./pages/CartPage\";\nimport LoginPage from \"./pages/LoginPage\";\nimport RegisterPage from \"./pages/RegisterPage\";\nimport ProfilePage from \"./pages/ProfilePage\";\nimport ConfirmPage from \"./pages/ConfirmPage\";\nimport ShippingPage from \"./pages/ShippingPage\";\nimport PaymentPage from \"./pages/PaymentPage\";\nimport PlaceOrderPage from \"./pages/PlaceOrderPage\";\nimport OrderPage from \"./pages/OrderPage\";\nimport PasswordResetPage from \"./pages/PasswordResetPage\";\nimport UserListPage from \"./pages/UserListPage\";\nimport UserEditPage from \"./pages/UserEditPage\";\nimport ProductListPage from \"./pages/ProductListPage\";\nimport ProductEditPage from \"./pages/ProductEditPage\";\nimport OrderListPage from \"./pages/OrderListPage\";\nimport ErrorPage from \"./pages/ErrorPage\";\n\n// for showing the 'new update available' banner and to register the service worker\nimport ServiceWorkerWrapper from \"./ServiceWorkerWrapper\";\n\nconst App = () => {\n  return (\n    <Router>\n      <Header />\n      <ServiceWorkerWrapper />\n\n      <main className=\"py-2\">\n        <Container>\n          <Switch>\n            <Route path=\"/\" component={HomePage} exact />\n            <Route path=\"/search/:keyword\" component={HomePage} exact />\n            <Route path=\"/page/:pageNumber\" component={HomePage} exact />\n            <Route\n              path=\"/search/:keyword/page/:pageNumber\"\n              exact\n              component={HomePage}\n            />\n            <Route path=\"/login\" component={LoginPage} />\n            <Route path=\"/register\" component={RegisterPage} />\n            <Route\n              path=\"/user/password/reset/:token\"\n              component={PasswordResetPage}\n            />\n            <Route path=\"/profile\" component={ProfilePage} />\n            <Route path=\"/product/:id\" component={ProductPage} />\n            <Route path=\"/cart/:id?\" component={CartPage} />\n            <Route path=\"/user/confirm/:token\" component={ConfirmPage} exact />\n            <Route path=\"/shipping\" component={ShippingPage} />\n            <Route path=\"/payment\" component={PaymentPage} />\n            <Route path=\"/placeorder\" component={PlaceOrderPage} />\n            <Route path=\"/order/:id\" component={OrderPage} />\n            <Route path=\"/admin/userlist\" component={UserListPage} exact />\n            <Route\n              path=\"/admin/userlist/:pageNumber\"\n              component={UserListPage}\n              exact\n            />\n            <Route path=\"/admin/user/:id/edit\" component={UserEditPage} />\n            <Route\n              path=\"/admin/productlist\"\n              exact\n              component={ProductListPage}\n            />\n            <Route\n              path=\"/admin/productlist/:pageNumber\"\n              component={ProductListPage}\n              exact\n            />\n            <Route path=\"/admin/product/:id/edit\" component={ProductEditPage} />\n            <Route path=\"/admin/orderlist\" component={OrderListPage} exact />\n            <Route\n              path=\"/admin/orderlist/:pageNumber\"\n              component={OrderListPage}\n              exact\n            />\n            <Route component={ErrorPage} />\n          </Switch>\n        </Container>\n      </main>\n      <Footer />\n    </Router>\n  );\n};\n\nexport default App;\n","import {\n\tPRODUCT_LIST_REQUEST,\n\tPRODUCT_LIST_SUCCESS,\n\tPRODUCT_LIST_FAILURE,\n\tPRODUCT_DETAILS_FAILURE,\n\tPRODUCT_DETAILS_REQUEST,\n\tPRODUCT_DETAILS_SUCCESS,\n\tPRODUCT_DELETE_FAILURE,\n\tPRODUCT_DELETE_REQUEST,\n\tPRODUCT_DELETE_SUCCESS,\n\tPRODUCT_CREATE_SUCCESS,\n\tPRODUCT_CREATE_FAILURE,\n\tPRODUCT_CREATE_REQUEST,\n\tPRODUCT_CREATE_RESET,\n\tPRODUCT_UPDATE_SUCCESS,\n\tPRODUCT_UPDATE_FAILURE,\n\tPRODUCT_UPDATE_REQUEST,\n\tPRODUCT_UPDATE_RESET,\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\n\tPRODUCT_CREATE_REVIEW_FAILURE,\n\tPRODUCT_CREATE_REVIEW_REQUEST,\n\tPRODUCT_CREATE_REVIEW_RESET,\n\tPRODUCT_TOP_RATED_SUCCESS,\n\tPRODUCT_TOP_RATED_FAILURE,\n\tPRODUCT_TOP_RATED_REQUEST,\n} from '../constants/productConstants';\n\n// list products based on keyword and paginated page number\nexport const productListReducer = (state = { products: [] }, action) => {\n\tswitch (action.type) {\n\t\tcase PRODUCT_LIST_REQUEST:\n\t\t\treturn { loading: true, products: [] };\n\n\t\tcase PRODUCT_LIST_SUCCESS:\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\tproducts: action.payload.products,\n\t\t\t\tpage: action.payload.page,\n\t\t\t\tpages: action.payload.pages,\n\t\t\t};\n\n\t\tcase PRODUCT_LIST_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\n\t\tdefault:\n\t\t\treturn { state };\n\t}\n};\n\n// details about a particular product\nexport const productDetailsReducer = (\n\tstate = { product: { reviews: [] } },\n\taction\n) => {\n\tswitch (action.type) {\n\t\tcase PRODUCT_DETAILS_REQUEST:\n\t\t\treturn { loading: true, ...state };\n\t\tcase PRODUCT_DETAILS_SUCCESS:\n\t\t\treturn { loading: false, product: action.payload };\n\t\tcase PRODUCT_DETAILS_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\nexport const productDeleteReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase PRODUCT_DELETE_REQUEST:\n\t\t\treturn { loading: true };\n\t\tcase PRODUCT_DELETE_SUCCESS:\n\t\t\treturn { loading: false, success: true };\n\t\tcase PRODUCT_DELETE_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\nexport const productCreateReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase PRODUCT_CREATE_REQUEST:\n\t\t\treturn { loading: true };\n\t\tcase PRODUCT_CREATE_SUCCESS:\n\t\t\treturn { loading: false, success: true, product: action.payload };\n\t\tcase PRODUCT_CREATE_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\t\tcase PRODUCT_CREATE_RESET:\n\t\t\treturn {};\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\nexport const productCreateReviewReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase PRODUCT_CREATE_REVIEW_REQUEST:\n\t\t\treturn { loading: true };\n\t\tcase PRODUCT_CREATE_REVIEW_SUCCESS:\n\t\t\treturn { loading: false, success: true };\n\t\tcase PRODUCT_CREATE_REVIEW_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\t\tcase PRODUCT_CREATE_REVIEW_RESET:\n\t\t\treturn {};\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\nexport const productUpdateReducer = (state = { product: {} }, action) => {\n\tswitch (action.type) {\n\t\tcase PRODUCT_UPDATE_REQUEST:\n\t\t\treturn { loading: true };\n\t\tcase PRODUCT_UPDATE_SUCCESS:\n\t\t\treturn { loading: false, success: true, product: action.payload };\n\t\tcase PRODUCT_UPDATE_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\t\tcase PRODUCT_UPDATE_RESET:\n\t\t\treturn { product: {} };\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\n// fetching top rated products\nexport const productTopRatedReducer = (state = { products: [] }, action) => {\n\tswitch (action.type) {\n\t\tcase PRODUCT_TOP_RATED_REQUEST:\n\t\t\treturn { loading: true, products: [] };\n\t\tcase PRODUCT_TOP_RATED_SUCCESS:\n\t\t\treturn { loading: false, products: action.payload };\n\t\tcase PRODUCT_TOP_RATED_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport {\n\tproductListReducer,\n\tproductDetailsReducer,\n\tproductDeleteReducer,\n\tproductCreateReducer,\n\tproductCreateReviewReducer,\n\tproductUpdateReducer,\n\tproductTopRatedReducer,\n} from './reducers/productReducers';\n\nimport { cartReducer } from './reducers/cartReducers';\n\nimport {\n\tuserLoginReducer,\n\tuserLoginRefreshReducer,\n\tuserRegisterReducer,\n\tuserSendEmailVerficationReducer,\n\tuserConfirmReducer,\n\tuserResetPasswordReducer,\n\tuserDetailsReducer,\n\tuserProfileUpdateReducer,\n\tuserListReducer,\n\tuserDeleteReducer,\n\tuserUpdateReducer,\n} from './reducers/userReducers';\n\nimport {\n\torderCreateReducer,\n\torderDetailsReducer,\n\torderPayReducer,\n\torderDeliverReducer,\n\torderListUserReducer,\n\torderListAllReducer,\n} from './reducers/orderReducers';\n\n// combine all the above reducers to the store\nconst reducer = combineReducers({\n\tproductList: productListReducer,\n\tproductDetails: productDetailsReducer,\n\tproductDelete: productDeleteReducer,\n\tproductCreate: productCreateReducer,\n\tproductCreateReview: productCreateReviewReducer,\n\tproductUpdate: productUpdateReducer,\n\tproductTopRated: productTopRatedReducer,\n\tcart: cartReducer,\n\tuserLogin: userLoginReducer,\n\tuserLoginRefresh: userLoginRefreshReducer,\n\tuserRegister: userRegisterReducer,\n\tuserSendEmailVerfication: userSendEmailVerficationReducer,\n\tuserConfirm: userConfirmReducer,\n\tuserResetPassword: userResetPasswordReducer,\n\tuserDetails: userDetailsReducer,\n\tuserProfileUpdate: userProfileUpdateReducer,\n\tuserList: userListReducer,\n\tuserDelete: userDeleteReducer,\n\tuserUpdate: userUpdateReducer,\n\torderCreate: orderCreateReducer,\n\torderDetails: orderDetailsReducer,\n\torderPay: orderPayReducer,\n\torderDeliver: orderDeliverReducer,\n\torderListUser: orderListUserReducer,\n\torderListAll: orderListAllReducer,\n});\n\n// get a few cart items from the local storage\nconst cartItemsFromLocalStorage = localStorage.getItem('cartItems')\n\t? JSON.parse(localStorage.getItem('cartItems'))\n\t: [];\n\n// get the user info from local storage\nconst userInfoFromLocalStorage = localStorage.getItem('userInfo')\n\t? JSON.parse(localStorage.getItem('userInfo'))\n\t: null;\n\n// get the shipping address from local storage\nconst shippingAddressFromLocalStorage = localStorage.getItem('shippingAddress')\n\t? JSON.parse(localStorage.getItem('shippingAddress'))\n\t: {};\n\n// get refresh token from the local storage\nconst tokenInfoFromLocalStoage = localStorage.getItem('refreshToken')\n\t? localStorage.getItem('refreshToken')\n\t: null;\n\n// set the initial state based on above local storage values\nconst initialState = {\n\tcart: {\n\t\tcartItems: [...cartItemsFromLocalStorage],\n\t\tshippingAddress: shippingAddressFromLocalStorage,\n\t},\n\tuserLogin: {\n\t\tuserInfo: userInfoFromLocalStorage,\n\t},\n\tuserLoginRefresh: {\n\t\ttokenInfo: tokenInfoFromLocalStoage,\n\t},\n};\n\n// user redux thunk for making async calls\nconst middleware = [thunk];\n\n// create the redux store\nconst store = createStore(\n\treducer,\n\tinitialState,\n\tcomposeWithDevTools(applyMiddleware(...middleware))\n);\n\nexport default store;\n","import {\n\tCART_ADD_ITEM,\n\tCART_REMOVE_ITEM,\n\tCART_SAVE_SHIPPING_ADDRESS,\n\tCART_SAVE_PAYMENT_METHOD,\n\tCART_RESET,\n} from '../constants/cartConstants';\n\nexport const cartReducer = (\n\tstate = { cartItems: [], shippingAddress: {} },\n\taction\n) => {\n\tswitch (action.type) {\n\t\tcase CART_ADD_ITEM:\n\t\t\tconst item = action.payload;\n\n\t\t\t// check if the item exists in the cart\n\t\t\tconst existingItem = state.cartItems.find(\n\t\t\t\t(ele) => ele.product === item.product\n\t\t\t);\n\t\t\tif (existingItem) {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tcartItems: state.cartItems.map((ele) =>\n\t\t\t\t\t\tele.product === existingItem.product ? item : ele\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tcartItems: [...state.cartItems, item],\n\t\t\t\t};\n\t\t\t}\n\t\tcase CART_REMOVE_ITEM:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcartItems: state.cartItems.filter(\n\t\t\t\t\t(ele) => ele.product !== action.payload\n\t\t\t\t),\n\t\t\t};\n\t\tcase CART_SAVE_SHIPPING_ADDRESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tshippingAddress: action.payload,\n\t\t\t};\n\t\tcase CART_SAVE_PAYMENT_METHOD:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpaymentMethod: action.payload,\n\t\t\t};\n\t\tcase CART_RESET: {\n\t\t\treturn {\n\t\t\t\tcartItems: [],\n\t\t\t\tshippingAddress: action.payload,\n\t\t\t};\n\t\t}\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n","import {\n\tUSER_LOGIN_FAILURE,\n\tUSER_LOGIN_REQUEST,\n\tUSER_LOGIN_SUCCESS,\n\tUSER_LOGOUT,\n\tUSER_REGISTER_FAILURE,\n\tUSER_REGISTER_SUCCESS,\n\tUSER_REGISTER_REQUEST,\n\tUSER_RESET_PASSWORD_FAILURE,\n\tUSER_RESET_PASSWORD_SUCCESS,\n\tUSER_RESET_PASSWORD_REQUEST,\n\tUSER_EMAIL_VERIFICATION_REQUEST,\n\tUSER_EMAIL_VERIFICATION_SUCCESS,\n\tUSER_EMAIL_VERIFICATION_FAILURE,\n\tUSER_CONFIRM_REQUEST,\n\tUSER_CONFIRM_SUCCESS,\n\tUSER_CONFIRM_FAILURE,\n\tUSER_DETAILS_FAILURE,\n\tUSER_DETAILS_SUCCESS,\n\tUSER_DETAILS_REQUEST,\n\tUSER_DETAILS_RESET,\n\tUSER_PROFILE_UPDATE_REQUEST,\n\tUSER_PROFILE_UPDATE_SUCCESS,\n\tUSER_PROFILE_UPDATE_FAILURE,\n\tUSER_PROFILE_UPDATE_RESET,\n\tUSER_LOGIN_REFRESH_REQUEST,\n\tUSER_LOGIN_REFRESH_SUCCESS,\n\tUSER_LOGIN_REFRESH_FAILURE,\n\tUSER_LIST_REQUEST,\n\tUSER_LIST_SUCCESS,\n\tUSER_LIST_FAILURE,\n\tUSER_LIST_RESET,\n\tUSER_DELETE_REQUEST,\n\tUSER_DELETE_SUCCESS,\n\tUSER_DELETE_FAILURE,\n\tUSER_UPDATE_REQUEST,\n\tUSER_UPDATE_SUCCESS,\n\tUSER_UPDATE_FAILURE,\n\tUSER_UPDATE_RESET,\n} from '../constants/userConstants';\n\nexport const userLoginReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase USER_LOGIN_REQUEST:\n\t\t\treturn { ...state, loading: true };\n\t\tcase USER_LOGIN_SUCCESS:\n\t\t\treturn { loading: false, userInfo: action.payload };\n\t\tcase USER_LOGIN_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\t\tcase USER_LOGOUT:\n\t\t\treturn {};\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\n// use refresh token to obtain new access token for the logged in user\nexport const userLoginRefreshReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase USER_LOGIN_REFRESH_REQUEST:\n\t\t\treturn { ...state, loading: true };\n\t\tcase USER_LOGIN_REFRESH_SUCCESS:\n\t\t\treturn { loading: false, tokenInfo: action.payload };\n\t\tcase USER_LOGIN_REFRESH_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\n// sending an email for account verification\nexport const userSendEmailVerficationReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase USER_EMAIL_VERIFICATION_REQUEST:\n\t\t\treturn { isLoading: true };\n\t\tcase USER_EMAIL_VERIFICATION_SUCCESS:\n\t\t\treturn { isLoading: true, emailSent: action.payload };\n\t\tcase USER_EMAIL_VERIFICATION_FAILURE:\n\t\t\treturn { isLoading: true, hasError: action.payload };\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\n// update user account to confirmed\nexport const userConfirmReducer = (state = { isConfirmed: false }, action) => {\n\tswitch (action.type) {\n\t\tcase USER_CONFIRM_REQUEST:\n\t\t\treturn { ...state, loading: true };\n\t\tcase USER_CONFIRM_SUCCESS:\n\t\t\treturn { loading: false, isConfirmed: action.payload };\n\t\tcase USER_CONFIRM_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\n// reset the user password\nexport const userResetPasswordReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase USER_RESET_PASSWORD_REQUEST:\n\t\t\treturn { ...state, loading: true };\n\t\tcase USER_RESET_PASSWORD_SUCCESS:\n\t\t\treturn { loading: false, resetPassword: action.payload };\n\t\tcase USER_RESET_PASSWORD_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\t\tdefault: {\n\t\t\treturn { ...state };\n\t\t}\n\t}\n};\n\n// register user using email and password\nexport const userRegisterReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase USER_REGISTER_REQUEST:\n\t\t\treturn { ...state, loading: true };\n\t\tcase USER_REGISTER_SUCCESS:\n\t\t\treturn { loading: false, userInfo: action.payload };\n\t\tcase USER_REGISTER_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\n// fetch user details\nexport const userDetailsReducer = (state = { user: {} }, action) => {\n\tswitch (action.type) {\n\t\tcase USER_DETAILS_REQUEST:\n\t\t\treturn { ...state, loading: true };\n\t\tcase USER_DETAILS_SUCCESS:\n\t\t\treturn { loading: false, user: action.payload };\n\t\tcase USER_DETAILS_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\t\tcase USER_DETAILS_RESET:\n\t\t\treturn { user: {} };\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\n// update user profile, not in admin view\nexport const userProfileUpdateReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase USER_PROFILE_UPDATE_REQUEST:\n\t\t\treturn { loading: true };\n\t\tcase USER_PROFILE_UPDATE_SUCCESS:\n\t\t\treturn { loading: false, success: true, userInfo: action.payload };\n\t\tcase USER_PROFILE_UPDATE_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\t\tcase USER_PROFILE_UPDATE_RESET:\n\t\t\treturn {};\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\n// list all users for the admin view\nexport const userListReducer = (state = { users: [] }, action) => {\n\tswitch (action.type) {\n\t\tcase USER_LIST_REQUEST:\n\t\t\treturn { loading: true };\n\t\tcase USER_LIST_SUCCESS:\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\tusers: action.payload.users,\n\t\t\t\tpage: action.payload.page,\n\t\t\t\tpages: action.payload.pages,\n\t\t\t\ttotal: action.payload.total,\n\t\t\t};\n\t\tcase USER_LIST_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\t\tcase USER_LIST_RESET:\n\t\t\treturn { users: [] };\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\nexport const userDeleteReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase USER_DELETE_REQUEST:\n\t\t\treturn { loading: true };\n\t\tcase USER_DELETE_SUCCESS:\n\t\t\treturn { loading: false, success: true };\n\t\tcase USER_DELETE_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\n// update user from the admin panel view\nexport const userUpdateReducer = (state = { user: {} }, action) => {\n\tswitch (action.type) {\n\t\tcase USER_UPDATE_REQUEST:\n\t\t\treturn { loading: true };\n\t\tcase USER_UPDATE_SUCCESS:\n\t\t\treturn { loading: false, success: true };\n\t\tcase USER_UPDATE_FAILURE:\n\t\t\treturn { loading: false, error: action.payload };\n\t\tcase USER_UPDATE_RESET:\n\t\t\treturn { user: {} };\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n","import {\n\tORDER_CREATE_REQUEST,\n\tORDER_CREATE_SUCCESS,\n\tORDER_CREATE_FAILURE,\n\tORDER_CREATE_RESET,\n\tORDER_DETAILS_REQUEST,\n\tORDER_DETAILS_SUCCESS,\n\tORDER_DETAILS_FAILURE,\n\tORDER_PAY_REQUEST,\n\tORDER_PAY_SUCCESS,\n\tORDER_PAY_FAILURE,\n\tORDER_PAY_RESET,\n\tORDER_DELIVER_REQUEST,\n\tORDER_DELIVER_SUCCESS,\n\tORDER_DELIVER_FAILURE,\n\tORDER_DELIVER_RESET,\n\tORDER_USER_LIST_REQUEST,\n\tORDER_USER_LIST_SUCCESS,\n\tORDER_USER_LIST_FAILURE,\n\tORDER_USER_LIST_RESET,\n\tORDER_ALL_LIST_REQUEST,\n\tORDER_ALL_LIST_SUCCESS,\n\tORDER_ALL_LIST_FAILURE,\n} from '../constants/orderConstants';\n\n// create an order\nexport const orderCreateReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase ORDER_CREATE_REQUEST:\n\t\t\treturn {\n\t\t\t\tloading: true,\n\t\t\t};\n\t\tcase ORDER_CREATE_SUCCESS:\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\tsuccess: true,\n\t\t\t\torder: action.payload,\n\t\t\t};\n\t\tcase ORDER_CREATE_FAILURE:\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\terror: action.payload,\n\t\t\t};\n\t\tcase ORDER_CREATE_RESET:\n\t\t\treturn {};\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\n// get order details\nexport const orderDetailsReducer = (\n\tstate = { loading: true, orderItems: [], shippingAddress: {} },\n\taction\n) => {\n\tswitch (action.type) {\n\t\tcase ORDER_DETAILS_REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true,\n\t\t\t};\n\t\tcase ORDER_DETAILS_SUCCESS:\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\torder: action.payload,\n\t\t\t};\n\t\tcase ORDER_DETAILS_FAILURE:\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\terror: action.payload,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\n// update order payment options\nexport const orderPayReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase ORDER_PAY_REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true,\n\t\t\t};\n\t\tcase ORDER_PAY_SUCCESS:\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\tsuccess: true,\n\t\t\t};\n\t\tcase ORDER_PAY_FAILURE:\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\terror: action.payload,\n\t\t\t};\n\t\tcase ORDER_PAY_RESET:\n\t\t\treturn {};\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\n// update order to be delivered or not\nexport const orderDeliverReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase ORDER_DELIVER_REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true,\n\t\t\t};\n\t\tcase ORDER_DELIVER_SUCCESS:\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\tsuccess: true,\n\t\t\t};\n\t\tcase ORDER_DELIVER_FAILURE:\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\terror: action.payload,\n\t\t\t};\n\t\tcase ORDER_DELIVER_RESET:\n\t\t\treturn {};\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\n// reducer to list orders of the particular user\nexport const orderListUserReducer = (state = { orders: [] }, action) => {\n\tswitch (action.type) {\n\t\tcase ORDER_USER_LIST_REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true,\n\t\t\t};\n\t\tcase ORDER_USER_LIST_SUCCESS:\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\torders: action.payload,\n\t\t\t};\n\t\tcase ORDER_USER_LIST_FAILURE:\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\terror: action.payload,\n\t\t\t};\n\t\tcase ORDER_USER_LIST_RESET:\n\t\t\treturn { orders: [] };\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n\n// reducer to list all orders for the admin panel view\nexport const orderListAllReducer = (state = { orders: [] }, action) => {\n\tswitch (action.type) {\n\t\tcase ORDER_ALL_LIST_REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true,\n\t\t\t};\n\t\tcase ORDER_ALL_LIST_SUCCESS:\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\torders: action.payload.orders,\n\t\t\t\tpage: action.payload.page,\n\t\t\t\tpages: action.payload.pages,\n\t\t\t\ttotal: action.payload.total,\n\t\t\t};\n\t\tcase ORDER_ALL_LIST_FAILURE:\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\terror: action.payload,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn { ...state };\n\t}\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from './store';\nimport { HelmetProvider } from 'react-helmet-async';\nimport './bootstrap.min.css';\nimport './index.css';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<React.StrictMode>\n\t\t\t<HelmetProvider>\n\t\t\t\t<App />\n\t\t\t</HelmetProvider>\n\t\t</React.StrictMode>\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}