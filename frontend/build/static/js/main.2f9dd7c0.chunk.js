(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{125:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),r=a(18),n=a.n(r),i=a(4),o=a(9),l=a(12),d=a(145),j=a(11),b=a(153),p=a(160),u=a(152);const h="USER_LOGIN_REQUEST",m="USER_LOGIN_SUCCESS",O="USER_LOGIN_FAILURE",g="USER_LOGIN_REFRESH_REQUEST",x="USER_LOGIN_REFRESH_SUCCESS",y="USER_LOGIN_REFRESH_FAILURE",f="USER_LOGOUT",S="USER_REGISTER_REQUEST",v="USER_REGISTER_SUCCESS",E="USER_REGISTER_FAILURE",I="USER_RESET_PASSWORD_REQUEST",N="USER_RESET_PASSWORD_SUCCESS",C="USER_RESET_PASSWORD_FAILURE",L="USER_EMAIL_VERIFICATION_REQUEST",w="USER_EMAIL_VERIFICATION_SUCCESS",R="USER_EMAIL_VERIFICATION_FAILURE",k="USER_CONFIRM_REQUEST",T="USER_CONFIRM_SUCCESS",_="USER_CONFIRM_FAILURE",A="USER_DETAILS_REQUEST",D="USER_DETAILS_SUCCESS",U="USER_DETAILS_FAILURE",P="USER_DETAILS_RESET",z="USER_PROFILE_UPDATE_REQUEST",F="USER_PROFILE_UPDATE_SUCCESS",G="USER_PROFILE_UPDATE_FAILURE",B="USER_PROFILE_UPDATE_RESET",M="USER_LIST_REQUEST",q="USER_LIST_SUCCESS",J="USER_LIST_FAILURE",W="USER_DELETE_REQUEST",V="USER_DELETE_SUCCESS",Q="USER_DELETE_FAILURE",Y="USER_UPDATE_REQUEST",H="USER_UPDATE_SUCCESS",K="USER_UPDATE_FAILURE",X="USER_UPDATE_RESET",Z="ORDER_CREATE_REQUEST",$="ORDER_CREATE_SUCCESS",ee="ORDER_CREATE_FAILURE",te="ORDER_CREATE_RESET",ae="ORDER_DETAILS_REQUEST",se="ORDER_DETAILS_SUCCESS",ce="ORDER_DETAILS_FAILURE",re="ORDER_PAY_REQUEST",ne="ORDER_PAY_SUCCESS",ie="ORDER_PAY_FAILURE",oe="ORDER_PAY_RESET",le="ORDER_DELIVER_REQUEST",de="ORDER_DELIVER_SUCCESS",je="ORDER_DELIVER_FAILURE",be="ORDER_DELIVER_RESET",pe="ORDER_USER_LIST_REQUEST",ue="ORDER_USER_LIST_SUCCESS",he="ORDER_USER_LIST_FAILURE",me="ORDER_USER_LIST_RESET",Oe="ORDER_ALL_LIST_REQUEST",ge="ORDER_ALL_LIST_SUCCESS",xe="ORDER_ALL_LIST_FAILURE";var ye=a(7),fe=a.n(ye);const Se=e=>async(t,a)=>{try{t({type:g});const{userLogin:{userInfo:s}}=a();if(s.isSocialLogin)t({type:x,payload:null});else{const a={headers:{"Content-Type":"application/json"}},{data:c}=await fe.a.post("/api/users/refresh",{email:e,token:s.refreshToken},a);if(c.success){t({type:x,payload:c});const e={...s,accessToken:c.accessToken,refreshToken:s.refreshToken};localStorage.setItem("userInfo",JSON.stringify(e)),t({type:m,payload:e})}else c.success||(localStorage.removeItem("userInfo"),localStorage.setItem("redirectLogin","true"),t({type:f}))}}catch(s){t({type:y,payload:s.response&&s.response.data.message?s.response.data.message:s.message})}},ve=e=>async(t,a)=>{try{t({type:A});const{userLogin:{userInfo:s}}=a();if(s.isSocialLogin){const a={headers:{"Content-Type":"application/json"}};let{data:s}=await fe.a.post("/api/users/passport/data/",{id:e},a);t({type:D,payload:{...s,isSocialLogin:!0}})}else{const a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.accessToken)}},{data:c}=await fe.a.get("/api/users/".concat(e),a);t({type:D,payload:{...c,isSocialLogin:!1}})}}catch(s){t({type:U,payload:s.response&&s.response.data.message?s.response.data.message:s.message})}},Ee=e=>async(t,a)=>{try{t({type:z});const{userLogin:{userInfo:s}}=a(),c=s.isSocialLogin?{headers:{Authorization:"SocialLogin ".concat(s.id)}}:{headers:{Authorization:"Bearer ".concat(s.accessToken)}},r=s.isSocialLogin,{data:n}=await fe.a.put("/api/users/profile",e,c);t({type:F,payload:{...n,isSocialLogin:r}}),t({type:m,payload:{...n,isSocialLogin:r}}),localStorage.setItem("userInfo",JSON.stringify({...n,isSocialLogin:r}))}catch(s){t({type:G,payload:s.response&&s.response.data.message?s.response.data.message:s.message})}};var Ie=a(154),Ne=a(159),Ce=a(0);var Le=e=>{let{history:t}=e;const[a,c]=Object(s.useState)("");return Object(Ce.jsx)(Ie.a,{onSubmit:e=>{e.preventDefault(),a.trim()?t.push("/search/".concat(a)):t.push("/")},className:"d-flex",children:Object(Ce.jsxs)(Ne.a,{className:"mt-2",children:[Object(Ce.jsx)(Ie.a.Control,{type:"text",style:{border:"1px solid #2c3e50",borderRight:"none"},name:"keyword",className:"mr-sm-2 ml-sm-4",onChange:e=>c(e.target.value),placeholder:"Search Products...",value:a}),Object(Ce.jsx)(Ne.a.Text,{style:{background:"white",border:"1px solid #2c3e50",borderLeft:"none"},children:Object(Ce.jsx)("button",{"aria-label":"search",style:{margin:"0",border:"0",outline:"0",background:"transparent",padding:"0"},type:"submit",children:Object(Ce.jsx)("i",{style:{color:"#95a5a6"},className:"fas fa-search"})})})]})})};a(125);var we=()=>{const e=Object(i.b)(),t=Object(i.c)((e=>e.userLogin)),a=Object(i.c)((e=>e.cart)),{userInfo:c}=t,{cartItems:r}=a,[n,o]=Object(s.useState)(!1),[h,m]=Object(s.useState)(!1),[O,g]=Object(s.useState)(0);Object(s.useEffect)((()=>{g(r.reduce(((e,t)=>e+t.qty),0))}),[r]);const x=()=>{e((e=>{localStorage.removeItem("userInfo"),localStorage.removeItem("redirectLogin"),localStorage.removeItem("cartItems"),e({type:f}),e({type:P}),e({type:te}),e({type:me})})),window.location.href="/"};return Object(Ce.jsxs)("header",{children:[Object(Ce.jsx)("section",{className:"navbar-dropdown-cover",style:{display:window.innerHeight>430&&(n||h)?"block":"none",minWidth:"100%",height:"100%",zIndex:"100",position:"absolute"},onClick:()=>{o(!1),m(!1)}}),Object(Ce.jsx)(b.a,{bg:"primary",variant:"dark",expand:"lg",children:Object(Ce.jsxs)(d.a,{children:[Object(Ce.jsx)(j.LinkContainer,{to:"/",children:Object(Ce.jsx)(b.a.Brand,{children:"SHOPYAS"})}),Object(Ce.jsx)(l.d,{render:e=>{let{history:t}=e;return Object(Ce.jsx)("div",{className:"d-none d-md-block",children:Object(Ce.jsx)(Le,{history:t})})}}),Object(Ce.jsxs)(p.a,{className:"ms-auto nav-mobile",style:c?{justifyContent:"space-between"}:{justifyContent:"space-evenly"},children:[c&&c.isAdmin&&Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(j.LinkContainer,{className:"d-block d-md-none",to:"/admin/userlist",children:Object(Ce.jsx)(p.a.Link,{children:Object(Ce.jsx)("i",{className:"fas fa-users"})})}),Object(Ce.jsx)(j.LinkContainer,{className:"d-block d-md-none",to:"/admin/orderlist",children:Object(Ce.jsx)(p.a.Link,{children:Object(Ce.jsx)("i",{className:"fas fa-user-shield"})})}),Object(Ce.jsx)(j.LinkContainer,{className:"d-block d-md-none",to:"/admin/productlist",children:Object(Ce.jsx)(p.a.Link,{children:Object(Ce.jsx)("i",{className:"fas fa-shopping-bag"})})})]}),Object(Ce.jsx)(j.LinkContainer,{to:"/cart",children:Object(Ce.jsxs)(p.a.Link,{children:[O?Object(Ce.jsx)("div",{className:"nav-cart-size",children:Object(Ce.jsx)("span",{style:O>10?{fontSize:"0.6em"}:{fontSize:"0.7em"},children:O})}):"",Object(Ce.jsx)("i",{className:"fas fa-shopping-cart navbar-icons"})," ",!c||!c.isAdmin||window.innerWidth>=430?"Cart":""]})}),c&&c.isAdmin&&Object(Ce.jsxs)(u.a,{className:"d-none d-md-block",title:"Admin",id:"adminMenu",show:h,onClick:e=>{h?m(!1):(m(!0),o(!1))},children:[Object(Ce.jsx)(j.LinkContainer,{to:"/admin/userlist",children:Object(Ce.jsx)(u.a.Item,{children:"Users"})}),Object(Ce.jsx)(j.LinkContainer,{to:"/admin/productlist",children:Object(Ce.jsx)(u.a.Item,{children:"Products"})}),Object(Ce.jsx)(j.LinkContainer,{to:"/admin/orderlist",children:Object(Ce.jsx)(u.a.Item,{children:"Orders"})})]}),c&&Object(Ce.jsxs)(p.a.Link,{className:"d-block d-md-none",onClick:x,children:[Object(Ce.jsx)("i",{className:"fas fa-sign-out-alt navbar-icons"})," ",!(c&&c.isAdmin)&&"Logout"]}),c?Object(Ce.jsxs)("div",{className:"nav-avatar-container",children:[Object(Ce.jsx)(j.LinkContainer,{to:"/profile",className:"d-block d-md-none",children:Object(Ce.jsx)(p.a.Link,{children:Object(Ce.jsx)("img",{src:c.avatar,className:"nav-avatar",alt:c.name})})}),Object(Ce.jsx)("img",{src:c.avatar,className:"nav-avatar d-none d-md-block",alt:c.name}),Object(Ce.jsxs)(u.a,{className:"d-none d-md-block",title:c.name,id:c.id,show:n,onClick:e=>{n?o(!1):(o(!0),m(!1))},children:[Object(Ce.jsx)(j.LinkContainer,{to:"/profile",children:Object(Ce.jsx)(u.a.Item,{children:"Profile"})}),Object(Ce.jsx)(u.a.Item,{onClick:x,children:"Logout"})]})]}):Object(Ce.jsx)(j.LinkContainer,{to:"/login",variant:"primary",children:Object(Ce.jsxs)(p.a.Link,{children:[Object(Ce.jsx)("i",{className:"fas fa-user navbar-icons"})," Sign In"]})})]})]})})]})};a(128);var Re=()=>Object(Ce.jsx)(d.a,{children:Object(Ce.jsxs)("footer",{className:"footer-container",children:[Object(Ce.jsxs)("div",{className:"footer-icons",children:[Object(Ce.jsx)("a",{href:"https://github.com","aria-label":"github account",target:"_blank",rel:"noopener noreferrer",children:Object(Ce.jsx)("i",{className:"fab fa-github footer-icon"})}),Object(Ce.jsx)("a",{href:"https://www.linkedin.com","aria-label":"linkedin account",target:"_blank",rel:"noopener noreferrer",children:Object(Ce.jsx)("i",{className:"fab fa-linkedin-in footer-icon"})}),Object(Ce.jsx)("a",{href:"https://twitter.com","aria-label":"twitter account",target:"_blank",rel:"noopener noreferrer",children:Object(Ce.jsx)("i",{className:"fab fa-twitter footer-icon"})}),Object(Ce.jsx)("a",{href:" ","aria-label":"developer portfolio",target:"_blank",rel:"noopener noreferrer",children:Object(Ce.jsx)("i",{className:"fas fa-globe-asia footer-icon"})})]}),Object(Ce.jsx)("div",{className:"footer-copyright",children:"\xa92022 SHOPYAS"})]})});const ke=e=>{let{value:t,text:a,color:s}=e;return Object(Ce.jsxs)("div",{className:"rating",children:[[1,2,3,4,5].map(((e,a)=>Object(Ce.jsx)("span",{children:Object(Ce.jsx)("i",{style:{color:s,fontSize:"0.9em"},className:t>=e?"fas fa-star":t>=e-.5?"fas fa-star-half-alt":"far fa-star",title:"".concat(t," Stars")})},a))),Object(Ce.jsx)("span",{style:{fontSize:"0.9em"},children:a&&a})]})};ke.defaultProps={color:"#f8e825"};var Te=ke,_e=a(155);a(129);var Ae=e=>{let{product:t}=e;return Object(Ce.jsxs)(_e.a,{className:"mt-3 p-0",children:[Object(Ce.jsx)(o.Link,{to:"/product/".concat(t._id),children:Object(Ce.jsx)(_e.a.Img,{loading:"lazy",className:"product-image",src:t.image,variant:"top",alt:t.name})}),Object(Ce.jsxs)(_e.a.Body,{children:[Object(Ce.jsx)(o.Link,{to:"/product/".concat(t._id),style:{color:"dimgray",textDecoration:"none"},children:Object(Ce.jsx)(_e.a.Title,{className:"product-title",as:"p",children:Object(Ce.jsx)("strong",{children:t.name})})}),Object(Ce.jsx)(_e.a.Text,{as:"div",children:t&&t.rating&&Object(Ce.jsx)(Te,{value:t.rating,text:"".concat(t.numReviews," Review").concat(t.numReviews>1?"s":"")})}),Object(Ce.jsx)(_e.a.Text,{as:"h4",children:t.price&&t.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})})]})]})},De=a(161);var Ue=e=>{let{pages:t,page:a,isAdmin:s=!1,keyword:c="",forOrders:r=!1,forUsers:n=!1}=e;return t>1&&Object(Ce.jsx)(De.a,{children:[...Array(t).keys()].map((e=>Object(Ce.jsx)(j.LinkContainer,{to:s?r?"/admin/orderlist/".concat(e+1):n?"/admin/userlist/".concat(e+1):"/admin/productlist/".concat(e+1):c?"/search/".concat(c,"/page/").concat(e+1):"/page/".concat(e+1),children:Object(Ce.jsx)(De.a.Item,{active:e+1===Number(a),children:e+1})},e+1)))})},Pe=a(147),ze=a(84),Fe=a(158),Ge=a(87),Be=a(146),Me=a(157);const qe=e=>{let{variant:t,duration:a,children:c,dismissible:r}=e;const[n,i]=Object(s.useState)(!0);return Object(s.useEffect)((()=>{i(!0)}),[]),Object(s.useEffect)((()=>{a&&setTimeout((()=>i(!1)),1e3*a)}),[a]),Object(Ce.jsx)(Me.a,{onClose:()=>i(!1),dismissible:r,className:"alert-custom",style:n?{display:"block"}:{display:"none"},variant:t,children:c})};qe.defaultProps={variant:"info",dismissible:!1};var Je=qe;const We="PRODUCT_LIST_REQUEST",Ve="PRODUCT_LIST_SUCCESS",Qe="PRODUCT_LIST_FAILURE",Ye="PRODUCT_DETAILS_REQUEST",He="PRODUCT_DETAILS_SUCCESS",Ke="PRODUCT_DETAILS_FAILURE",Xe="PRODUCT_DELETE_REQUEST",Ze="PRODUCT_DELETE_SUCCESS",$e="PRODUCT_DELETE_FAILURE",et="PRODUCT_CREATE_REQUEST",tt="PRODUCT_CREATE_SUCCESS",at="PRODUCT_CREATE_FAILURE",st="PRODUCT_CREATE_RESET",ct="PRODUCT_UPDATE_REQUEST",rt="PRODUCT_UPDATE_SUCCESS",nt="PRODUCT_UPDATE_FAILURE",it="PRODUCT_UPDATE_RESET",ot="PRODUCT_CREATE_REVIEW_REQUEST",lt="PRODUCT_CREATE_REVIEW_SUCCESS",dt="PRODUCT_CREATE_REVIEW_FAILURE",jt="PRODUCT_CREATE_REVIEW_RESET",bt="PRODUCT_TOP_RATED_REQUEST",pt="PRODUCT_TOP_RATED_SUCCESS",ut="PRODUCT_TOP_RATED_FAILURE",ht=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return async s=>{try{s({type:We});const{data:c}=await fe.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t,"&pageSize=").concat(a));s({type:Ve,payload:c})}catch(c){s({type:Qe,payload:c.response&&c.response.data.message?c.response.data.message:c.message})}}},mt=e=>async t=>{try{t({type:Ye});const{data:a}=await fe.a.get("/api/products/".concat(e));t({type:He,payload:a})}catch(a){t({type:Ke,payload:a.response&&a.response.data.message?a.response.data.message:a.message})}};a(130),a(131);var Ot=e=>{let{type:t}=e;const a="skeleton ".concat(t);return Object(Ce.jsx)("div",{className:a})};var gt=()=>Object(Ce.jsx)("div",{className:"shimmer-wrapper",children:Object(Ce.jsx)("div",{className:"shimmer"})});var xt=()=>Object(Ce.jsxs)("div",{style:{position:"relative",overflow:"hidden"},children:[Object(Ce.jsx)(Ot,{type:"box"}),Object(Ce.jsx)(gt,{})]});var yt=()=>{const e=Object(i.b)(),t=Object(i.c)((e=>e.productTopRated)),{error:a,loading:c,products:r}=t;return Object(s.useEffect)((()=>{e((async e=>{try{e({type:bt});const{data:t}=await fe.a.get("/api/products/top");e({type:pt,payload:t})}catch(a){e({type:ut,payload:a.response&&a.response.data.message?a.response.data.message:a.message})}}))}),[e]),Object(Ce.jsxs)(Ce.Fragment,{children:[c&&Object(Ce.jsx)(xt,{}),a&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",children:a}),Object(Ce.jsx)(Fe.a,{style:{marginTop:"0.5em"},pause:"hover",className:"bg-primary",indicators:!1,interval:1e4,children:r&&r.map((e=>Object(Ce.jsx)(Ge.a,{children:Object(Ce.jsxs)(o.Link,{to:"/product/".concat(e._id),children:[Object(Ce.jsx)(Be.a,{src:e.image,alt:e.name,fluid:!0}),Object(Ce.jsxs)(Fe.a.Caption,{className:"carousel-caption",children:[e.name," (",e.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"}),")"]})]})},e._id)))})]})},ft=a(65);const St=e=>{let{title:t,description:a,keywords:s}=e;return Object(Ce.jsxs)(ft.a,{children:[Object(Ce.jsx)("title",{children:t}),Object(Ce.jsx)("meta",{name:"description",content:a}),Object(Ce.jsx)("meta",{name:"keywords",content:s})]})};St.defaultProps={title:"Welcome to Kosells",keywords:"Electronics, Kosells, Ecommerce, Rajat",description:"Buy the best products at the lowest prices"};var vt=St;var Et=()=>Object(Ce.jsxs)("div",{className:"skeleton-product-wrapper",children:[Object(Ce.jsx)(Ot,{type:"box"}),Object(Ce.jsx)(Ot,{type:"text"}),Object(Ce.jsx)(Ot,{type:"text"}),Object(Ce.jsx)(gt,{})]});var It=e=>{let{match:t,history:a}=e;const c=t.params.keyword,r=Number(t.params.pageNumber)||1,[n,l]=Object(s.useState)(!1),[d,j]=Object(s.useState)(null),[b,p]=Object(s.useState)(!1),u=Object(i.b)(),h=Object(i.c)((e=>e.productList));let{loading:m,error:O,pages:g}=h;const x=Object(i.c)((e=>e.userLogin)),{userInfo:y}=x,f=Object(i.c)((e=>e.userDetails)),{error:S}=f;return Object(s.useEffect)((()=>{y&&y.isSocialLogin?u(ve(y.id)):u(ve("profile"))}),[y,u]),Object(s.useEffect)((()=>{if(S&&y&&!y.isSocialLogin){const e=JSON.parse(localStorage.getItem("userInfo"));u(Se(null===e||void 0===e?void 0:e.email))}}),[S,u,y]),Object(s.useEffect)((()=>{d&&(d.length?p(!0):p(!1))}),[d]),Object(s.useEffect)((()=>{h&&h.products&&j([...h.products])}),[h]),Object(s.useEffect)((()=>{u(ht(c,r))}),[u,c,r]),Object(s.useEffect)((()=>{l("true"===localStorage.getItem("promptEmailVerfication"))}),[]),Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(vt,{}),c?Object(Ce.jsx)(o.Link,{className:"btn btn-outline btn-outline-primary my-2",to:"/",children:"Go Back"}):window.innerWidth>430&&Object(Ce.jsx)(yt,{}),Object(Ce.jsx)("div",{className:"d-block d-md-none",children:Object(Ce.jsx)(Le,{history:a})}),n?Object(Ce.jsx)(Je,{dismissible:!0,variant:"info",duration:10,children:"Account Created! Please check your email to verify your account and start shopping."}):null,O?Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:O}):!m&&d?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(Pe.a,{children:d.length?d.map((e=>Object(Ce.jsx)(ze.a,{sm:12,md:6,lg:4,xl:3,children:Object(Ce.jsx)(Ae,{product:e})},e._id))):c&&!b&&Object(Ce.jsxs)(ze.a,{className:"text-center",children:[Object(Ce.jsxs)("div",{children:[Object(Ce.jsx)("i",{className:"far fa-frown"})," No items found for this search query"]}),"Go Back to the"," ",Object(Ce.jsx)(o.Link,{to:"/",children:"Home Page"})]})}),Object(Ce.jsx)(Ue,{className:"mt-auto text-center",page:r,keyword:c||"",pages:g})]}):m&&d&&0===d.length&&Object(Ce.jsx)(Pe.a,{children:[1,2,3,4].map((e=>Object(Ce.jsx)(ze.a,{sm:12,md:6,lg:4,xl:3,children:Object(Ce.jsx)("div",{children:Object(Ce.jsx)(Et,{})})},e)))})]})},Nt=a(162),Ct=a(86),Lt=a(85);var wt=e=>{let{src:t,alt:a,title:c,width:r,height:n,magnifierHeight:i=200,magnifieWidth:o=200,zoomLevel:l=1.5}=e;const[[d,j],b]=Object(s.useState)([0,0]),[[p,u],h]=Object(s.useState)([0,0]),[m,O]=Object(s.useState)(!1);return Object(Ce.jsxs)("div",{style:{position:"relative",height:n,width:r},children:[Object(Ce.jsx)(Be.a,{className:"product-image",src:t,style:{height:n,width:r},fluid:!0,title:c,onMouseEnter:e=>{const t=e.currentTarget,{width:a,height:s}=t.getBoundingClientRect();h([a,s]),O(!0)},onMouseMove:e=>{const t=e.currentTarget,{top:a,left:s}=t.getBoundingClientRect(),c=e.pageX-s-window.pageXOffset,r=e.pageY-a-window.pageYOffset;b([c,r])},onMouseLeave:()=>{O(!1)},alt:a}),Object(Ce.jsx)("div",{style:{display:m?"":"none",position:"absolute",pointerEvents:"none",height:"".concat(i,"px"),width:"".concat(o,"px"),top:"".concat(j-i/2.5,"px"),left:"".concat(d-o/2.5,"px"),opacity:"1",border:"1px solid lightgray",backgroundColor:"white",backgroundImage:"url('".concat(t,"')"),backgroundRepeat:"no-repeat",borderRadius:"50%",backgroundSize:"".concat(p*l,"px ").concat(u*l,"px"),backgroundPositionX:"".concat(-d*l+o/2,"px"),backgroundPositionY:"".concat(-j*l+i/2,"px")}})]})},Rt=a(148);a(132);var kt=()=>Object(Ce.jsx)(Rt.a,{animation:"border",role:"status",variant:"primary",className:"loader"});const Tt=(e,t)=>async(a,s)=>{try{a({type:re});const{userLogin:{userInfo:c}}=s(),r=c.isSocialLogin?{headers:{"Content-Type":"application/json",Authorization:"SocialLogin ".concat(c.id)}}:{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.accessToken)}},{data:n}=await fe.a.put("/api/orders/".concat(e,"/pay"),t,r);a({type:ne,payload:n})}catch(c){a({type:ie,payload:c.response&&c.response.data.message?c.response.data.message:c.message})}},_t=()=>async(e,t)=>{try{e({type:pe});const{userLogin:{userInfo:a}}=t(),s=a.isSocialLogin?{headers:{Authorization:"SocialLogin ".concat(a.id)}}:{headers:{Authorization:"Bearer ".concat(a.accessToken)}},{data:c}=await fe.a.get("/api/orders/myorders",s);e({type:ue,payload:c})}catch(a){e({type:he,payload:a.response&&a.response.data.message?a.response.data.message:a.message})}};var At=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a=new Date(e).toLocaleTimeString("en",{timeStyle:"short",hour12:!0,timeZone:"IST"});let s="";return t&&(s+="".concat(a," ")),s+new Date(e).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})};a(133);var Dt=e=>{let{history:t,match:a}=e;const[c,r]=Object(s.useState)(1),[n,l]=Object(s.useState)(0),[d,j]=Object(s.useState)(""),[b,p]=Object(s.useState)([]),[u,h]=Object(s.useState)(!1),[m,O]=Object(s.useState)(!1),g=Object(i.b)(),x=Object(i.c)((e=>e.userLogin)),{userInfo:y}=x,f=Object(i.c)((e=>e.productDetails)),{loading:S,product:v,error:E}=f,I=Object(i.c)((e=>e.userDetails)),{error:N}=I,C=Object(i.c)((e=>e.productCreateReview)),{loading:L,success:w,error:R}=C,k=Object(i.c)((e=>e.orderListUser)),{orders:T}=k;Object(s.useEffect)((()=>{y&&y.isSocialLogin?g(ve(y.id)):g(ve("profile"))}),[y,g]),Object(s.useEffect)((()=>{if(N&&y&&!y.isSocialLogin){const e=JSON.parse(localStorage.getItem("userInfo"));e&&g(Se(e.email))}}),[N,g,y]),Object(s.useEffect)((()=>{g(_t())}),[g]),Object(s.useEffect)((()=>{w&&(window.alert("Review Submitted!!"),l(0),j(""),g({type:jt})),g(mt(a.params.id))}),[a,g,w]),Object(s.useEffect)((()=>{if(v&&v.reviews&&y){let e=0;for(let t of v.reviews)if(t.user===y.id){e=1;break}O(!e)}else O(!0)}),[v,y]),Object(s.useEffect)((()=>{if(T&&T.length){let e=0;for(let t of T)for(let s of t.orderItems)if(s.product.toString()===a.params.id){e=1;break}h(!!e)}else h(!1)}),[T]),Object(s.useEffect)((()=>{if(v&&v.reviews){const e=v.reviews.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)));p(e)}}),[v]);return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(o.Link,{className:"btn btn-outline-primary my-2",to:"/",children:"Go Back"}),!v||v._id&&v._id===a.params.id?E?Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:E}):v?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(vt,{title:"".concat(v.name)}),Object(Ce.jsxs)(Pe.a,{children:[Object(Ce.jsx)(ze.a,{md:6,children:Object(Ce.jsx)(wt,{src:v.image,alt:v.name,title:v.name})}),Object(Ce.jsx)(ze.a,{md:3,children:Object(Ce.jsxs)(Nt.a,{variant:"flush",children:[Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsx)("h3",{children:v.name})}),Object(Ce.jsx)(Nt.a.Item,{children:v&&v.rating&&Object(Ce.jsx)(Te,{value:v.rating,text:"".concat(v.numReviews," Review").concat(v.numReviews>1?"s":"")})}),Object(Ce.jsxs)(Nt.a.Item,{children:[Object(Ce.jsx)("strong",{children:"Price: "}),v.price&&v.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})]}),Object(Ce.jsxs)(Nt.a.Item,{children:[Object(Ce.jsx)("strong",{children:"Description:"})," ",v.description]})]})}),Object(Ce.jsx)(ze.a,{md:3,children:Object(Ce.jsxs)(_e.a,{children:[Object(Ce.jsx)(Nt.a,{variant:"flush",children:Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsxs)(Pe.a,{children:[Object(Ce.jsx)(ze.a,{children:Object(Ce.jsx)("strong",{children:"Price: "})}),Object(Ce.jsx)(ze.a,{children:v.price&&v.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})})]})})}),Object(Ce.jsxs)(Nt.a,{variant:"flush",children:[Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsxs)(Pe.a,{children:[Object(Ce.jsx)(ze.a,{children:Object(Ce.jsx)("strong",{children:"Status: "})}),Object(Ce.jsx)(ze.a,{children:v.countInStock>0?"In Stock":"Out of Stock"})]})}),v.countInStock>0&&Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsxs)(Pe.a,{children:[Object(Ce.jsx)(ze.a,{children:Object(Ce.jsx)("strong",{children:"Qty:"})}),Object(Ce.jsx)(ze.a,{children:Object(Ce.jsx)(Ie.a.Control,{as:"select",value:c,onChange:e=>r(e.target.value),children:[...Array(v.countInStock).keys()].map((e=>Object(Ce.jsx)("option",{value:e+1,children:e+1},e+1)))})})]})}),Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsx)(Pe.a,{children:Object(Ce.jsx)(Ct.a,{onClick:e=>{t.push("/cart/".concat(a.params.id,"?qty=").concat(c))},type:"button",className:"btn-block btn-lg",disabled:v.countInStock<=0,children:"Add To Cart"})})})]})]})})]}),Object(Ce.jsx)(Pe.a,{children:Object(Ce.jsxs)(ze.a,{md:6,children:[Object(Ce.jsx)("h2",{className:"mt-3",children:"Reviews"}),(!v.reviews||!v.reviews.length)&&Object(Ce.jsx)(Je,{variant:"secondary",children:"No Reviews Yet"}),Object(Ce.jsxs)(Nt.a,{variant:"flush",children:[b.map((e=>Object(Ce.jsxs)(Nt.a.Item,{children:[Object(Ce.jsxs)("div",{children:[Object(Ce.jsx)("img",{src:e.avatar,alt:e.name,className:"review-avatar"}),Object(Ce.jsx)("strong",{children:e.name})]}),Object(Ce.jsx)(Te,{value:e.rating}),Object(Ce.jsx)("p",{style:{margin:"0",fontSize:"1.1em"},children:e.review}),Object(Ce.jsx)("small",{style:{fontSize:"0.9em"},children:At(e.createdAt,!1)})]},e._id))),u&&!m&&Object(Ce.jsx)(Je,{dismissible:!0,children:"You have already reviewed this product"}),u&&m&&Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("h2",{children:"Write a Customer Review"}),R&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"info",duration:10,children:R}),L&&Object(Ce.jsx)(kt,{}),Object(Ce.jsxs)(Ie.a,{onSubmit:e=>{g(((e,t)=>async(a,s)=>{try{a({type:ot});const{userLogin:{userInfo:c}}=s(),r=c.isSocialLogin?{headers:{"Content-Type":"application/json",Authorization:"SocialLogin ".concat(c.id)}}:{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.accessToken)}};await fe.a.post("/api/products/".concat(e,"/reviews"),t,r),a({type:lt})}catch(E){a({type:dt,payload:E.response&&E.response.data.message?E.response.data.message:E.message})}})(a.params.id,{rating:n,review:d}))},children:[Object(Ce.jsx)(Ie.a.Group,{controlId:"rating",children:Object(Ce.jsxs)(Ie.a.Control,{as:"select",value:n,onChange:e=>l(e.target.value),children:[Object(Ce.jsx)("option",{default:!0,children:"Choose Rating"}),Object(Ce.jsx)("option",{value:"1",children:"1 - Bad"}),Object(Ce.jsx)("option",{value:"2",children:"2 - Poor"}),Object(Ce.jsx)("option",{value:"3",children:"3 - Fair"}),Object(Ce.jsx)("option",{value:"4",children:"4 - Good"}),Object(Ce.jsx)("option",{value:"5",children:"5 - Excellent"})]})}),Object(Ce.jsx)(Ie.a.Group,{controlId:"comment",children:Object(Ce.jsx)(Lt.a,{controlId:"commenttext",label:"Comment",className:"my-3",children:Object(Ce.jsx)(Ie.a.Control,{as:"textarea",placeholder:"Leave a comment here",row:"3",onChange:e=>j(e.target.value),value:d})})}),Object(Ce.jsx)("div",{className:"d-grid",children:Object(Ce.jsx)(Ct.a,{type:"submit",children:"Submit Review"})})]})]})]})]})})]}):"":Object(Ce.jsx)(kt,{})]})},Ut=a(149);const Pt="CART_ADD_ITEM",zt="CART_REMOVE_ITEM",Ft="CART_RESET",Gt="CART_SAVE_SHIPPING_ADDRESS",Bt="CART_SAVE_PAYMENT_METHOD",Mt=(e,t)=>async(a,s)=>{try{const{data:c}=await fe.a.get("/api/products/".concat(e));a({type:Pt,payload:{product:c._id,name:c.name,image:c.image,price:c.price,countInStock:c.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(s().cart.cartItems))}catch(c){console.error(c)}},qt=e=>async t=>{try{t({type:Bt,payload:e}),localStorage.setItem("paymentMethod",JSON.stringify(e))}catch(a){console.log(a)}};var Jt=e=>{let{match:t,location:a,history:c}=e;const[r,n]=Object(s.useState)(0),l=t.params.id,d=a.search?Number(a.search.split("=")[1]):1,j=Object(i.b)(),b=Object(i.c)((e=>e.cart)),{cartItems:p}=b,u=Object(i.c)((e=>e.userLogin)),{userInfo:h}=u,m=Object(i.c)((e=>e.userDetails)),{error:O}=m;Object(s.useEffect)((()=>{h&&h.isSocialLogin?j(ve(h.id)):j(ve("profile"))}),[h,j]),Object(s.useEffect)((()=>{p&&n(p.reduce(((e,t)=>e+t.qty),0))}),[p]),Object(s.useEffect)((()=>{if(O&&h&&!h.isSocialLogin){const e=JSON.parse(localStorage.getItem("userInfo"));e&&j(Se(e.email))}}),[O,j,h]),Object(s.useEffect)((()=>{l&&j(Mt(l,d))}),[j,l,d]);const g=e=>{j((e=>async(t,a)=>{try{t({type:zt,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems))}catch(O){console.log(O)}})(e))};return Object(Ce.jsxs)(Pe.a,{children:[Object(Ce.jsx)(vt,{title:"My Cart | Kosells"}),Object(Ce.jsxs)(ze.a,{md:8,children:[Object(Ce.jsx)("h1",{children:"Shopping Cart."}),p.length?Object(Ce.jsx)(Nt.a,{variant:"flush",children:p.map((e=>Object(Ce.jsxs)(Nt.a.Item,{children:[Object(Ce.jsxs)(Pe.a,{style:{display:"flex",alignItems:"center"},children:[Object(Ce.jsx)(ze.a,{md:2,children:Object(Ce.jsx)(Be.a,{className:"product-image",src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(Ce.jsx)(ze.a,{md:4,children:Object(Ce.jsx)(o.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(Ce.jsxs)(ze.a,{md:3,className:"d-none d-md-flex",style:{alignItems:"center",justifyContent:"space-evenly"},children:[e.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"eur"}),Object(Ce.jsxs)("div",{children:[Object(Ce.jsx)("i",{style:{fontSize:"0.7em"},className:"fas fa-times"})," ",e.qty]})]}),Object(Ce.jsxs)(ze.a,{md:3,className:"d-none d-md-flex",style:{alignItems:"center",justifyContent:"space-between"},children:[Object(Ce.jsxs)(Ut.a,{"aria-label":"Addtocart",children:[Object(Ce.jsx)(Ct.a,{style:{outline:"none",borderRight:"1px solid white"},disabled:e.qty>=e.countInStock,onClick:()=>{j(Mt(e.product,Number(e.qty+1)))},variant:"primary",children:Object(Ce.jsx)("i",{className:"fas fa-plus"})}),Object(Ce.jsx)(Ct.a,{style:{outline:"none",borderLeft:"1px solid white"},variant:"primary",disabled:1===e.qty,onClick:()=>{j(Mt(e.product,Number(e.qty-1)))},children:Object(Ce.jsx)("i",{className:"fas fa-minus"})})]}),Object(Ce.jsx)(Ct.a,{type:"button",onClick:()=>g(e.product),children:Object(Ce.jsx)("i",{className:"fas fa-trash"})})]}),Object(Ce.jsxs)(ze.a,{className:"d-flex d-md-none mt-2",style:{alignItems:"center",justifyContent:"space-between"},children:[Object(Ce.jsxs)("div",{className:"d-flex",style:{fontSize:"1.2em",width:"50%"},children:[e.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"eur"}),Object(Ce.jsxs)("div",{className:"ms-1",children:[Object(Ce.jsx)("i",{style:{fontSize:"0.7em"},className:"fas fa-times"})," ",e.qty]})]}),Object(Ce.jsxs)("div",{className:"d-flex",style:{alignItems:"center",justifyContent:"space-between",width:"50%"},children:[Object(Ce.jsx)(Ct.a,{type:"button",onClick:()=>g(e.product),children:Object(Ce.jsx)("i",{className:"fas fa-trash"})}),Object(Ce.jsx)(Ct.a,{style:{outline:"none",borderRight:"1px solid white"},disabled:e.qty>=e.countInStock,onClick:()=>{j(Mt(e.product,Number(e.qty+1)))},variant:"primary",children:Object(Ce.jsx)("i",{className:"fas fa-plus"})}),Object(Ce.jsx)(Ct.a,{style:{outline:"none",borderLeft:"1px solid white"},variant:"primary",disabled:1===e.qty,onClick:()=>{j(Mt(e.product,Number(e.qty-1)))},children:Object(Ce.jsx)("i",{className:"fas fa-minus"})})]})]})]}),Object(Ce.jsx)(Pe.a,{children:Object(Ce.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[Object(Ce.jsxs)(Ct.a,{onClick:()=>{j(Mt(e.product,Number(2.5*e.qty)))},children:["3 month"," "]}),Object(Ce.jsxs)(Ct.a,{onClick:()=>{j(Mt(e.product,Number(5*e.qty)))},children:["6 month"," "]}),Object(Ce.jsxs)(Ct.a,{onClick:()=>{j(Mt(e.product,Number(7*e.qty)))},children:["9 month"," "]})]})})]},e.product)))}):Object(Ce.jsxs)(Je,{children:["Your Cart is empty. ",Object(Ce.jsx)(o.Link,{to:"/",children:"Go Back."})," "]})]}),Object(Ce.jsx)(ze.a,{md:4,className:"mt-3",children:Object(Ce.jsx)(Nt.a,{children:Object(Ce.jsxs)(_e.a,{variant:"flush",children:[Object(Ce.jsxs)(Nt.a.Item,{children:[Object(Ce.jsxs)("h2",{className:"text-center",children:["Subtotal (",r,") Item",r>1&&"s"]}),Object(Ce.jsx)("strong",{children:p.reduce(((e,t)=>e+t.qty*t.price),0).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"eur"})})]}),Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsx)("div",{className:"d-grid",children:Object(Ce.jsx)(Ct.a,{type:"button",size:"lg",disabled:!p.length,onClick:e=>{c.push("/login?redirect=shipping")},children:"Proceed to checkout"})})})]})})})]})};var Wt=e=>{let{children:t}=e;return Object(Ce.jsx)(d.a,{children:Object(Ce.jsx)(Pe.a,{className:"justify-content-md-center",children:Object(Ce.jsx)(ze.a,{xs:12,md:6,children:t})})})};a.p,a.p,a(134);a(82);var Vt=e=>{let{location:t,history:a}=e;const[c,r]=Object(s.useState)(""),[n,o]=Object(s.useState)(!1),[l,d]=Object(s.useState)(!1),[j,b]=Object(s.useState)(!1),[p,u]=Object(s.useState)(!1),[g,y]=Object(s.useState)("password"),[f,S]=Object(s.useState)(""),[v,E]=Object(s.useState)(""),I=Object(i.b)(),N=t.search?t.search.split("=")[1]:"",C=Object(i.c)((e=>e.userLogin)),{loading:L,userInfo:w,error:R}=C,k=JSON.parse(localStorage.getItem("userInfo"));Object(s.useEffect)((()=>{!t.search.includes("success")&&w&&a.push(N)}),[a,N,t,w]),Object(s.useEffect)((()=>{if(t.search.includes("login=failed")){switch(t.search.split("&")[1].split("=")[1]){case"0":r("It looks like you had registered using a Google Account");break;case"1":r("It looks like you had registered using a Github Account");break;case"2":r("It looks like you had registered using a Twitter Account");break;case"3":r("It looks like you had registered using a LinkedIn Account");break;default:return}}}),[t.search]),Object(s.useEffect)((()=>{const e=localStorage.getItem("redirectLogin");o(!(!e||"true"!==e))}),[]),Object(s.useEffect)((()=>{if(window.location.search.includes("success")){const e=window.location.search.split("&"),t="success"===e[0].split("=")[1],s=e[1].split("=")[1];t&&fe.a.post("/api/users/passport/data",{id:s}).then((e=>{let{data:t}=e;const{id:s,email:c,name:r,isAdmin:n,isConfirmed:i,avatar:o}=t,l={id:s,email:c,name:r,isAdmin:n,isConfirmed:i,avatar:o,isSocialLogin:!0};I({type:m,payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),localStorage.removeItem("promptEmailVerfication"),a.push("/shipping")}))}}),[I,a,N]),Object(s.useEffect)((()=>{k&&k.email&&"true"===localStorage.getItem("fillEmailOnLoginPage")&&(localStorage.removeItem("fillEmailOnLoginPage"),S(k.email))}),[k]);const T=e=>{e.preventDefault(),e.stopPropagation(),y("password"===g?"text":"password")},_=e=>{e.preventDefault(),I(((e,t)=>async a=>{try{a({type:h});const s={headers:{"Content-Type":"application/json"}},{data:c}=await fe.a.post("/api/users/login",{email:e,password:t},s);a({type:m,payload:{...c,isSocialLogin:!1}}),a({type:x,payload:c.refreshToken}),localStorage.setItem("refreshToken",c.refreshToken),localStorage.setItem("userInfo",JSON.stringify({...c,isSocialLogin:!1})),localStorage.removeItem("promptEmailVerfication")}catch(R){a({type:O,payload:R.response&&R.response.data.message?R.response.data.message:R.message})}})(f,v))},A=async e=>{e.preventDefault(),b(!0);const{data:t}=await fe.a.post("/api/users/reset",{email:f},{headers:{"Content-Type":"application/json"}});t&&(b(!1),u(!0),localStorage.setItem("EcommerceUserName",t.name))};return l?Object(Ce.jsx)(Ce.Fragment,{children:Object(Ce.jsx)(Wt,{children:Object(Ce.jsxs)("div",{className:"form-inner-container",children:[Object(Ce.jsx)("div",{className:"form-heading",children:Object(Ce.jsx)("h1",{style:{background:"ghostwhite",boxShadow:"0px -1px 5px 0px rgba(0, 0, 0, 0.2)",WebkitBoxShadow:"0px -1px 5px 0px rgba(0, 0, 0, 0.2)",MozBoxShadow:"0px -1px 5px 0px rgba(0, 0, 0, 0.2)",cursor:"default"},children:"Reset Password"})}),j?Object(Ce.jsx)(kt,{}):p?Object(Ce.jsx)(_e.a,{children:Object(Ce.jsxs)(_e.a.Body,{className:"pl-0",children:[Object(Ce.jsx)(_e.a.Title,{children:"Email Sent"}),Object(Ce.jsx)(_e.a.Text,{children:"Please use the link sent to your email and reset your password right away!"})]})}):Object(Ce.jsxs)(Ie.a,{onSubmit:A,children:[Object(Ce.jsx)(Ie.a.Group,{controlId:"email",children:Object(Ce.jsx)(Lt.a,{controlId:"emailinput",label:"Email address",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter Email Address",type:"email",value:f,onChange:e=>S(e.target.value)})})}),Object(Ce.jsxs)(ze.a,{style:{display:"flex"},children:[Object(Ce.jsx)(Ct.a,{type:"button",variant:"link",className:"remember-password",style:{marginTop:"-1em",padding:"0"},onClick:()=>d(!1),children:"I remember my password"}),Object(Ce.jsx)(Ct.a,{type:"submit",className:"ms-auto",style:{padding:"0.5em 1em",width:"8rem"},children:"Submit"})]})]})]})})}):Object(Ce.jsx)(Ce.Fragment,{children:Object(Ce.jsxs)(Wt,{children:[c&&Object(Ce.jsx)(Je,{variant:"danger",dismissible:!0,children:c}),Object(Ce.jsxs)("div",{className:"form-inner-container",children:[Object(Ce.jsxs)("div",{className:"form-heading",children:[Object(Ce.jsx)("h1",{style:{background:"ghostwhite",boxShadow:"0px 0px 9px 0px rgba(0, 0, 0, 0.2)",WebkitBoxShadow:"0px 0px 9px 0px rgba(0, 0, 0, 0.2)",MozBoxShadow:"0px 0px 9px 0px rgba(0, 0, 0, 0.2)"},children:"Sign In"}),Object(Ce.jsx)("h1",{onClick:()=>a.push("/register"),children:"Sign Up"})]}),R&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:R}),n&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"info",duration:10,children:"Your session has expired. Please login again."}),L?Object(Ce.jsx)(kt,{}):Object(Ce.jsx)(Ce.Fragment,{children:Object(Ce.jsxs)(Ie.a,{onSubmit:_,children:[Object(Ce.jsx)(Ie.a.Group,{controlId:"email",children:Object(Ce.jsx)(Lt.a,{controlId:"emailinput",label:"Email address",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{required:!0,size:"lg",placeholder:"Enter Email Address",type:"email",value:f,onChange:e=>S(e.target.value)})})}),Object(Ce.jsx)(Ie.a.Group,{children:Object(Ce.jsx)(Ne.a,{children:Object(Ce.jsxs)(Lt.a,{controlId:"passwordinput",label:"Password",style:{display:"flex",width:"100%"},className:"mb-3",children:[Object(Ce.jsx)(Ie.a.Control,{required:!0,size:"lg",type:g,placeholder:"Enter your password",value:v,style:{borderRight:"none"},onChange:e=>E(e.target.value)}),Object(Ce.jsx)("div",{className:"input-group-append",children:Object(Ce.jsx)(Ne.a.Text,{onClick:T,style:{fontSize:"1rem",height:"100%",marginLeft:"-0.5em",background:"transparent",borderLeft:"none"},children:"text"===g?Object(Ce.jsx)("i",{className:"far fa-eye-slash"}):Object(Ce.jsx)("i",{className:"far fa-eye"})})})]})})}),Object(Ce.jsxs)(ze.a,{style:{display:"flex"},children:[Object(Ce.jsx)(Ct.a,{type:"button",variant:"link",style:{marginTop:"-1em",padding:"0"},onClick:()=>d(!0),children:"Forgot Password?"}),Object(Ce.jsx)(Ct.a,{type:"submit",className:"ms-auto",style:{padding:"0.5em 1em",width:"8rem"},children:"Login"})]})]})})]})]})})};var Qt=e=>{let{location:t,history:a}=e;const[c,r]=Object(s.useState)("password"),[n,o]=Object(s.useState)("password"),[l,d]=Object(s.useState)(""),[j,b]=Object(s.useState)(""),[p,u]=Object(s.useState)(""),[h,m]=Object(s.useState)(""),[O,g]=Object(s.useState)(null),x=Object(i.b)(),y=t.search?t.search.split("=")[1]:"",f=Object(i.c)((e=>e.userRegister)),{loading:I,userInfo:N,error:C}=f;Object(s.useEffect)((()=>{N&&(localStorage.setItem("promptEmailVerfication","true"),a.push(y))}),[a,y,N]);return Object(Ce.jsx)(Wt,{children:Object(Ce.jsxs)("div",{className:"form-inner-container",children:[Object(Ce.jsxs)("div",{className:"form-heading",children:[Object(Ce.jsx)("h1",{onClick:()=>a.push("/login"),children:"Sign In"}),Object(Ce.jsx)("h1",{style:{background:"ghostwhite",boxShadow:"0px 0px 9px 0px rgba(0, 0, 0, 0.2)",WebkitBoxShadow:"0px 0px 9px 0px rgba(0, 0, 0, 0.2)",MozBoxShadow:"0px 0px 9px 0px rgba(0, 0, 0, 0.2)"},onClick:()=>a.push("/register"),children:"Sign Up"})]}),O&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"warning",duration:5,children:O}),I?Object(Ce.jsx)(kt,{}):Object(Ce.jsxs)(Ie.a,{onSubmit:e=>{e.preventDefault(),p!==h?g("Passwords do not match. Please retry."):x(((e,t,a)=>async s=>{try{s({type:S});const c={headers:{"Content-Type":"application/json"}},{data:r}=await fe.a.post("/api/users/",{name:e,email:t,password:a},c);s({type:v,payload:r})}catch(C){s({type:E,payload:C.response&&C.response.data.message?C.response.data.message:C.message})}})(l,j,p))},children:[Object(Ce.jsx)(Ie.a.Group,{controlId:"name",className:"mb-2",children:Object(Ce.jsx)(Lt.a,{controlId:"nameinput",label:"Name",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter Name",type:"text",value:l,onChange:e=>d(e.target.value)})})}),Object(Ce.jsx)(Ie.a.Group,{controlId:"email",className:"my-2",children:Object(Ce.jsx)(Lt.a,{controlId:"emailinput",label:"Email Address",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter Email Address",type:"email",value:j,onChange:e=>b(e.target.value)})})}),Object(Ce.jsx)(Ie.a.Group,{children:Object(Ce.jsx)(Ne.a,{children:Object(Ce.jsxs)(Lt.a,{controlId:"passwordinput",label:"Password",style:{display:"flex",width:"100%"},className:"mb-3",children:[Object(Ce.jsx)(Ie.a.Control,{size:"lg",type:c,placeholder:"Enter your password",value:p,style:{borderRight:"none"},onChange:e=>u(e.target.value)}),Object(Ce.jsx)("div",{className:"input-group-append",children:Object(Ce.jsx)(Ne.a.Text,{onClick:e=>{e.preventDefault(),e.stopPropagation(),r("password"===c?"text":"password")},style:{fontSize:"1rem",height:"100%",marginLeft:"-0.5em",background:"transparent",borderLeft:"none"},children:"text"===c?Object(Ce.jsx)("i",{className:"far fa-eye-slash"}):Object(Ce.jsx)("i",{className:"far fa-eye"})})})]})})}),Object(Ce.jsx)(Ie.a.Group,{children:Object(Ce.jsx)(Ne.a,{children:Object(Ce.jsxs)(Lt.a,{controlId:"confirmpasswordinput",label:"Confirm password",style:{display:"flex",width:"100%"},className:"mb-3",children:[Object(Ce.jsx)(Ie.a.Control,{size:"lg",type:n,placeholder:"Confirm your password",value:h,style:{borderRight:"none"},onChange:e=>m(e.target.value)}),Object(Ce.jsx)("div",{className:"input-group-append",children:Object(Ce.jsx)(Ne.a.Text,{onClick:e=>{e.preventDefault(),e.stopPropagation(),o("password"===n?"text":"password")},style:{fontSize:"1rem",height:"100%",marginLeft:"-0.5em",background:"transparent",borderLeft:"none"},children:"text"===n?Object(Ce.jsx)("i",{className:"far fa-eye-slash"}):Object(Ce.jsx)("i",{className:"far fa-eye"})})})]})})}),Object(Ce.jsx)(Pe.a,{children:Object(Ce.jsx)(ze.a,{style:{display:"flex"},children:Object(Ce.jsx)(Ct.a,{type:"submit",className:"ms-auto",style:{padding:"0.5em 1em",width:"8rem"},children:"Register"})})})]})]})})},Yt=a(150);a(135);var Ht=e=>{let{history:t}=e;const a=Object(s.useRef)(null),[c,r]=Object(s.useState)(!1),[n,l]=Object(s.useState)("password"),[d,b]=Object(s.useState)("password"),[p,u]=Object(s.useState)(""),[h,m]=Object(s.useState)(""),[O,g]=Object(s.useState)(""),[x,y]=Object(s.useState)(""),[f,S]=Object(s.useState)(""),[v,E]=Object(s.useState)(null),[I,N]=Object(s.useState)([]),[C,k]=Object(s.useState)(!1),[T,_]=Object(s.useState)(""),A=Object(i.b)(),D=Object(i.c)((e=>e.userDetails)),{loading:U,user:P,error:z}=D,F=Object(i.c)((e=>e.userLogin)),{userInfo:G}=F,M=Object(i.c)((e=>e.userProfileUpdate)),{success:q}=M,J=Object(i.c)((e=>e.orderListUser)),{loading:W,orders:V,error:Q}=J,Y=Object(i.c)((e=>e.userSendEmailVerfication)),{emailSent:H,hasError:K}=Y;Object(s.useEffect)((()=>{if(z&&G&&!G.isSocialLogin){const e=JSON.parse(localStorage.getItem("userInfo"));e&&A(Se(e.email))}}),[z,A,G]),Object(s.useEffect)((()=>{V&&V.length&&N([...V])}),[V]),Object(s.useEffect)((()=>{G&&(p&&G.name!==p||h&&G.email!==h?r(!0):r(!(!x&&!f)))}),[p,h,x,f,G]),Object(s.useEffect)((()=>{A(_t())}),[A]),Object(s.useEffect)((()=>{G?P&&P.name&&!q?(u(P.name),m(P.email),g(P.avatar)):(A(_t()),A({type:B}),G&&G.isSocialLogin?A(ve(G.id)):A(ve("profile")),q&&(G.isSocialLogin?A(ve(G.id)):A(ve("profile")))):t.push("/login")}),[t,G,P,A,q,W]);return Object(Ce.jsxs)(Pe.a,{className:"mt-2",children:[Object(Ce.jsx)(vt,{title:"My Profile | Kosells"}),G&&!G.isConfirmed?Object(Ce.jsxs)(Ce.Fragment,{children:[H&&Object(Ce.jsx)(Je,{variant:"success",dismissible:!0,children:"A verification link has been sent your mail!"}),K&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",children:K}),Object(Ce.jsx)(_e.a,{style:{margin:"0"},className:"mb-3",children:Object(Ce.jsxs)(_e.a.Body,{className:"ps-0 ",children:[Object(Ce.jsx)(_e.a.Title,{style:{fontWeight:"bold"},children:"Account Not Verified"}),Object(Ce.jsxs)(_e.a.Text,{children:["".concat(G.name,", ")," your account is not yet verfied. Please"," ",Object(Ce.jsx)(Ct.a,{variant:"link",className:"p-0",style:{fontSize:"0.9em",margin:"0 0 0.1em 0",focus:"none"},onClick:()=>A((e=>async t=>{try{t({type:L});const a={headers:{"Content-Type":"application/json"}},{data:s}=await fe.a.post("/api/users/confirm",{email:e},a);t({type:w,payload:s})}catch(z){t({type:R,payload:z.response&&z.response.data.message?z.response.data.message:z.message})}})(G.email)),children:"click here"})," ","to send a verfication email."]})]})})]}):null,Object(Ce.jsxs)(ze.a,{md:3,style:G&&!G.isConfirmed?{opacity:"0.5",pointerEvents:"none"}:{opacity:"1",pointerEvents:""},children:[Object(Ce.jsx)("h2",{className:"text-center",children:"My Profile"}),v&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"warning",duration:8,children:v}),z&&"Not authorised. Token failed"!==z&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:z}),q&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"success",duration:8,children:"Profile Updated!"}),U?Object(Ce.jsx)(kt,{}):Object(Ce.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap"},children:[T&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:T}),C?Object(Ce.jsx)(kt,{}):Object(Ce.jsxs)("div",{className:"profile-page-image",style:{alignSelf:"center"},children:[Object(Ce.jsx)(Be.a,{src:O,alt:p,style:{height:"5em",width:"5em",marginBottom:"1em",border:"1px solid #ced4da",borderRadius:"50%",cursor:"pointer"}}),Object(Ce.jsx)("div",{className:"image-overlay",onClick:()=>{a.current.click()},children:"Click to upload image"})]}),Object(Ce.jsx)("input",{type:"file",accept:"image/*",id:"file",ref:a,onChange:async e=>{const t=e.target.files[0],a=new FormData;a.append("image",t),k(!0);try{const e={headers:{"Content-Type":"multipart/form-data"}},{data:t}=await fe.a.post("/api/upload",a,e);g(t),A(Ee({id:P.id,avatar:t})),k(!1)}catch(z){_("Please choose a valid image"),k(!1)}},style:{display:"none"}}),Object(Ce.jsxs)(Ie.a,{onSubmit:e=>{e.preventDefault(),x!==f?E("Passwords do not match. Please retry."):A(Ee({id:P.id,name:p,email:h,avatar:O,password:x,confirmPassword:f}))},children:[Object(Ce.jsx)(Ie.a.Group,{controlId:"name",children:Object(Ce.jsx)(Lt.a,{controlId:"nameinput",label:"Name",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter Name",type:"text",value:p,onChange:e=>u(e.target.value)})})}),Object(Ce.jsx)(Ie.a.Group,{controlId:"email",className:"my-2",style:G&&G.isSocialLogin?{pointerEvents:"none",opacity:"0.8"}:{},children:Object(Ce.jsx)(Lt.a,{controlId:"emailinput",label:"Email",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter Email Address",type:"email",value:h,onChange:e=>m(e.target.value)})})}),G&&!G.isSocialLogin&&Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(Ie.a.Group,{children:Object(Ce.jsx)(Ne.a,{className:"d-block",children:Object(Ce.jsxs)(Lt.a,{controlId:"passwordinput",label:"Password",style:{display:"flex"},className:"mb-3",children:[Object(Ce.jsx)(Ie.a.Control,{size:"lg",type:n,placeholder:"Enter your password",value:x,style:{borderRight:"none",width:"100%"},onChange:e=>y(e.target.value)}),Object(Ce.jsx)("div",{className:"input-group-append",children:Object(Ce.jsx)(Ne.a.Text,{onClick:e=>{e.preventDefault(),e.stopPropagation(),l("password"===n?"text":"password")},style:{fontSize:"1rem",height:"100%",marginLeft:"-0.5em",background:"transparent",borderLeft:"none"},children:"text"===n?Object(Ce.jsx)("i",{className:"far fa-eye-slash"}):Object(Ce.jsx)("i",{className:"far fa-eye"})})})]})})}),Object(Ce.jsx)(Ie.a.Group,{children:Object(Ce.jsx)(Ne.a,{className:"d-block",children:Object(Ce.jsxs)(Lt.a,{controlId:"confirmpasswordinput",label:"Confirm Password",style:{display:"flex"},className:"mb-3",children:[Object(Ce.jsx)(Ie.a.Control,{size:"lg",type:d,placeholder:"Confirm password",value:f,style:{borderRight:"none"},onChange:e=>S(e.target.value)}),Object(Ce.jsx)("div",{className:"input-group-append",children:Object(Ce.jsx)(Ne.a.Text,{onClick:e=>{e.preventDefault(),e.stopPropagation(),b("password"===d?"text":"password")},style:{fontSize:"1rem",height:"100%",marginLeft:"-0.5em",background:"transparent",borderLeft:"none"},children:"text"===d?Object(Ce.jsx)("i",{className:"far fa-eye-slash"}):Object(Ce.jsx)("i",{className:"far fa-eye"})})})]})})})]}),Object(Ce.jsx)("div",{className:"d-grid mb-3",children:Object(Ce.jsx)(Ct.a,{type:"submit",disabled:!c,style:{padding:"0.5em 1em"},children:"Update Profile"})})]})]})]}),Object(Ce.jsx)(ze.a,{md:9,style:G&&!G.isConfirmed?{opacity:"0.5",pointerEvents:"none"}:{opacity:"1",pointerEvents:""},children:I.length?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("h2",{className:"text-center",children:"My Orders"}),W?Object(Ce.jsx)(kt,{}):Q?Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:Q}):Object(Ce.jsxs)(Yt.a,{striped:!0,bordered:!0,responsive:!0,className:"table-sm text-center",children:[Object(Ce.jsx)("thead",{children:Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("th",{children:"DATE"}),Object(Ce.jsx)("th",{children:"TOTAL"}),Object(Ce.jsx)("th",{children:"PAID"}),Object(Ce.jsx)("th",{children:"DELIVERED"}),Object(Ce.jsx)("th",{children:"ACTION"})]})}),Object(Ce.jsx)("tbody",{children:V.map(((e,t)=>Object(Ce.jsxs)("tr",{style:{textAlign:"center",padding:"0"},children:[Object(Ce.jsx)("td",{children:At(e.createdAt)}),Object(Ce.jsx)("td",{children:e.totalPrice.toLocaleString("en-IN",{maximumFractionDigits:0,style:"currency",currency:"INR"})}),Object(Ce.jsx)("td",{children:e.isPaid?At(e.paidAt):Object(Ce.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Ce.jsx)("td",{children:e.isDelivered?At(e.deliveredAt):Object(Ce.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Ce.jsx)("td",{children:Object(Ce.jsx)(j.LinkContainer,{to:"/order/".concat(e._id),children:Object(Ce.jsx)(Ct.a,{variant:"link",className:"btn-sm",style:{margin:"0"},children:"Details"})})})]},t)))})]})]}):Object(Ce.jsx)(_e.a,{style:{border:"none",margin:"0 auto"},children:Object(Ce.jsxs)(_e.a.Body,{children:[Object(Ce.jsx)(_e.a.Title,{children:"No Orders Yet!"}),Object(Ce.jsxs)(_e.a.Text,{children:["Details about all your orders will show up here."," ",Object(Ce.jsx)(o.Link,{to:"/",children:"Continue Shopping"})]})]})})})]})};var Kt=e=>{let{match:t,history:a}=e;const c=Object(i.b)(),r=Object(i.c)((e=>e.userConfirm)),{loading:n,error:l,isConfirmed:d}=r,j=Object(i.c)((e=>e.userLogin)),{userInfo:b}=j,[p,u]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{u(!!b)}),[]),Object(s.useEffect)((()=>{c(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async(a,s)=>{try{a({type:k});const{data:s}=await fe.a.get("/api/users/confirm/".concat(e));localStorage.removeItem("promptEmailVerfication"),a({type:T,payload:!0}),t&&(a({type:m,payload:s}),a({type:x,payload:s.refreshToken}),localStorage.setItem("refreshToken",s.refreshToken),localStorage.setItem("userInfo",JSON.stringify(s))),localStorage.removeItem("promptEmailVerfication")}catch(l){a({type:_,payload:l.response&&l.response.data.message?l.response.data.message:l.message})}}}(t.params.token,p))}),[c,t,p]),n||!d&&!l?Object(Ce.jsx)(kt,{}):l?(setTimeout((()=>{a.push("/login")}),1e4),Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:"Verfication Failed. Please try to login again."})):d?(localStorage.setItem("fillEmailOnLoginPage","true"),Object(Ce.jsxs)(_e.a,{style:{border:"none",margin:"0 auto"},children:[Object(Ce.jsx)(vt,{title:"Confirm Password | Kosells"}),Object(Ce.jsxs)(_e.a.Body,{children:[Object(Ce.jsx)(_e.a.Title,{children:"Account Confirmed"}),Object(Ce.jsx)(_e.a.Text,{children:u?"Your account has been successfully verified! Go on and shop for the best deals of the day!":"Your account has been successfully verified! Please\n\t\t\t\t\t\tlogin and start exploring the best deals on all your\n\t\t\t\t\t\tfavorite products."}),u?null:Object(Ce.jsx)(o.Link,{to:"/login",children:"Login"})]})]})):void 0};a(136);var Xt=e=>{let{step1:t,step2:a,step3:s,step4:c}=e;return Object(Ce.jsxs)(p.a,{className:"status-bar",children:[Object(Ce.jsxs)("div",{className:"status-checkpoint",children:[Object(Ce.jsx)("div",{className:"circle",style:t?{background:"#2c3e50"}:{background:""}}),t?Object(Ce.jsx)(j.LinkContainer,{to:"/login",children:Object(Ce.jsx)(p.a.Link,{children:"Sign In"})}):Object(Ce.jsx)(p.a.Link,{disabled:!0,children:"Sign In"})]}),Object(Ce.jsx)("div",{className:"connection"}),Object(Ce.jsxs)("div",{className:"status-checkpoint",children:[Object(Ce.jsx)("div",{className:"circle",style:t&&a?{background:"#2c3e50"}:{background:""}}),a?Object(Ce.jsx)(j.LinkContainer,{to:"/shipping",children:Object(Ce.jsx)(p.a.Link,{children:"Shipping"})}):Object(Ce.jsx)(p.a.Link,{disabled:!0,children:"Shipping"})]}),Object(Ce.jsx)("div",{className:"connection"}),Object(Ce.jsxs)("div",{className:"status-checkpoint",children:[Object(Ce.jsx)("div",{className:"circle",style:t&&a&&s?{background:"#2c3e50"}:{background:""}}),s?Object(Ce.jsx)(j.LinkContainer,{to:"/payment",children:Object(Ce.jsx)(p.a.Link,{children:"Payment"})}):Object(Ce.jsx)(p.a.Link,{disabled:!0,children:"Payment"})]}),Object(Ce.jsx)("div",{className:"connection"}),Object(Ce.jsxs)("div",{className:"status-checkpoint",children:[Object(Ce.jsx)("div",{className:"circle",style:t&&a&&s&&c?{background:"#2c3e50"}:{background:""}}),c?Object(Ce.jsx)(j.LinkContainer,{to:"/placeorder",children:Object(Ce.jsx)(p.a.Link,{children:"Place Order"})}):Object(Ce.jsx)(p.a.Link,{disabled:!0,children:"Place Order"})]})]})};var Zt=e=>{let{history:t}=e;const a=Object(i.b)(),c=Object(i.c)((e=>e.cart)),{cartItems:r,shippingAddress:n}=c,o=Object(i.c)((e=>e.userLogin)),{userInfo:l}=o,d=Object(i.c)((e=>e.userDetails)),{error:j}=d,[b,p]=Object(s.useState)(n.address),[u,h]=Object(s.useState)(n.city),[m,O]=Object(s.useState)(n.postalCode),[g,x]=Object(s.useState)(n.country);Object(s.useEffect)((()=>{l&&l.isSocialLogin?a(ve(l.id)):a(ve("profile"))}),[l,a]),Object(s.useEffect)((()=>{if(j&&l&&!l.isSocialLogin){const e=JSON.parse(localStorage.getItem("userInfo"));e&&a(Se(e.email))}}),[j,a,l]),Object(s.useEffect)((()=>{r.length&&l||t.push("/")}),[r,t,l]);return Object(Ce.jsxs)(Wt,{children:[Object(Ce.jsx)(Xt,{step1:!0,step2:!0}),Object(Ce.jsx)("h1",{children:"Shipping Address"}),Object(Ce.jsxs)(Ie.a,{onSubmit:e=>{var s;e.preventDefault(),a((s={address:b,city:u,postalCode:m,country:g},async e=>{try{e({type:Gt,payload:s}),localStorage.setItem("shippingAddress",JSON.stringify(s))}catch(j){console.log(j)}})),t.push("/payment")},children:[Object(Ce.jsx)(Ie.a.Group,{controlId:"address",children:Object(Ce.jsx)(Lt.a,{controlId:"addressinput",label:"Address",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter address",type:"text",value:b,required:!0,onChange:e=>p(e.target.value)})})}),Object(Ce.jsx)(Ie.a.Group,{controlId:"city",children:Object(Ce.jsx)(Lt.a,{controlId:"cityinput",label:"City",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter City",type:"text",value:u,required:!0,onChange:e=>h(e.target.value)})})}),Object(Ce.jsx)(Ie.a.Group,{controlId:"postalCode",children:Object(Ce.jsx)(Lt.a,{controlId:"postalcodeinput",label:"Postal Code",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter Postal Code",type:"text",value:m,required:!0,onChange:e=>O(e.target.value)})})}),Object(Ce.jsx)(Ie.a.Group,{controlId:"country",children:Object(Ce.jsx)(Lt.a,{controlId:"countryinput",label:"Country",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter Country",type:"text",value:g,required:!0,onChange:e=>x(e.target.value)})})}),Object(Ce.jsx)("div",{className:"d-flex",children:Object(Ce.jsx)(Ct.a,{type:"submit",className:"ms-auto",style:{padding:"0.5em 1em",width:"8rem"},children:"Continue"})})]})]})};var $t=e=>{let{history:t}=e;const a=Object(i.b)(),c=Object(i.c)((e=>e.cart)),{shippingAddress:r}=c,[n,o]=Object(s.useState)("Credit/Debit Card"),l=Object(i.c)((e=>e.userLogin)),{userInfo:d}=l,j=Object(i.c)((e=>e.userDetails)),{error:b}=j;Object(s.useEffect)((()=>{d&&d.isSocialLogin?a(ve(d.id)):a(ve("profile"))}),[d,a]),Object(s.useEffect)((()=>{if(b&&d&&!d.isSocialLogin){const e=JSON.parse(localStorage.getItem("userInfo"));e&&a(Se(e.email))}}),[b,a,d]),Object(s.useEffect)((()=>{r||t.push("/shipping")}),[]);return Object(Ce.jsxs)(Wt,{children:[Object(Ce.jsx)(Xt,{step1:!0,step2:!0,step3:!0}),Object(Ce.jsxs)("div",{style:{display:"flex",flexFlow:"column nowrap",alignItems:"center"},children:[Object(Ce.jsx)("h1",{children:"Payment Method"}),Object(Ce.jsxs)(Ie.a,{onSubmit:e=>{e.preventDefault(),a(qt(n)),t.push("/placeorder")},children:[Object(Ce.jsx)(Ie.a.Group,{children:Object(Ce.jsx)(ze.a,{children:Object(Ce.jsx)(Ie.a.Check,{inline:!0,type:"radio",label:"Credit/Debit Card",id:"Credit/Debit Card",name:"paymentMethod",value:"Credit/Debit Card",checked:"Credit/Debit Card"===n,onChange:e=>{o(e.target.value)}})})}),Object(Ce.jsx)("div",{className:"d-grid",children:Object(Ce.jsx)(Ct.a,{type:"submit",className:"my-3",size:"lg",children:"Continue"})})]})]})]})};var ea=e=>{let{history:t}=e;const a=Object(i.b)(),c=Object(i.c)((e=>e.cart)),{cartItems:r,shippingAddress:n,paymentMethod:l}=c,d=Object(i.c)((e=>e.orderCreate)),{order:j,loading:b,success:p,error:u}=d,h=Object(i.c)((e=>e.userLogin)),{userInfo:m}=h,O=Object(i.c)((e=>e.userDetails)),{error:g}=O;Object(s.useEffect)((()=>{m&&m.isSocialLogin?a(ve(m.id)):a(ve("profile"))}),[m,a]),Object(s.useEffect)((()=>{if(g&&m&&!m.isSocialLogin){const e=JSON.parse(localStorage.getItem("userInfo"));e&&a(Se(e.email))}}),[g,a,m]),Object(s.useEffect)((()=>{p&&(localStorage.removeItem("cartItems"),a({type:Ft,payload:n}),t.push("/order/".concat(j._id)))}),[p,t]),c.itemsPrice=r.reduce(((e,t)=>e+t.price*t.qty),0),c.shippingPrice=c.itemsPrice>8e3?2:1,c.taxPrice=.18*c.itemsPrice,c.totalPrice=c.itemsPrice+c.taxPrice+c.shippingPrice;return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(Xt,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(Ce.jsx)(Pe.a,{children:b?Object(Ce.jsx)(kt,{}):Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(ze.a,{md:8,children:Object(Ce.jsxs)(Nt.a,{variant:"flush",children:[Object(Ce.jsxs)(Nt.a.Item,{children:[Object(Ce.jsx)("h2",{children:"Shipping"}),Object(Ce.jsxs)("p",{children:[Object(Ce.jsx)("strong",{children:"Address: "})," ",n.address,","," ",n.city,"-",n.postalCode,","," ",n.country]})]}),Object(Ce.jsxs)(Nt.a.Item,{children:[Object(Ce.jsx)("h2",{children:"Payment Method"}),Object(Ce.jsxs)("p",{children:[Object(Ce.jsx)("strong",{children:"Method: "})," ",l]})]}),Object(Ce.jsxs)(Nt.a.Item,{children:[Object(Ce.jsx)("h2",{children:"Cart Items"}),0!==r.length?Object(Ce.jsx)(Nt.a,{variant:"flush",children:r.map(((e,t)=>Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsxs)(Pe.a,{children:[Object(Ce.jsx)(ze.a,{md:2,children:Object(Ce.jsx)(Be.a,{className:"product-image",src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(Ce.jsx)(ze.a,{children:Object(Ce.jsx)(o.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(Ce.jsxs)(ze.a,{md:4,children:[e.qty," x ",e.price," ="," ",(e.qty*e.price).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"eur"})]})]})},t)))}):Object(Ce.jsx)(Je,{children:"Your cart is empty"})]})]})}),Object(Ce.jsx)(ze.a,{md:4,children:Object(Ce.jsx)(_e.a,{children:Object(Ce.jsxs)(Nt.a,{variant:"flush",children:[Object(Ce.jsx)(Nt.a.Item,{className:"text-center",children:Object(Ce.jsx)("h2",{className:"text-center",children:"Order Summary"})}),Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsxs)(Pe.a,{children:[Object(Ce.jsx)(ze.a,{children:Object(Ce.jsx)("strong",{children:"Subtotal"})}),Object(Ce.jsx)(ze.a,{children:Number(c.itemsPrice).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"eur"})})]})}),Object(Ce.jsx)(Nt.a.Item,{}),Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsxs)(Pe.a,{children:[Object(Ce.jsx)(ze.a,{children:Object(Ce.jsx)("strong",{children:"Tax"})}),Object(Ce.jsx)(ze.a,{children:Number(c.taxPrice).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"eur"})})]})}),Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsxs)(Pe.a,{children:[Object(Ce.jsx)(ze.a,{children:Object(Ce.jsx)("strong",{children:"Total"})}),Object(Ce.jsx)(ze.a,{children:Number(c.totalPrice).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"eur"})})]})}),u&&Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:u})}),Object(Ce.jsx)(Nt.a.Item,{className:"d-grid gap-2",children:Object(Ce.jsx)(Ct.a,{type:"button",size:"lg",disabled:!r.length,onClick:e=>{e.preventDefault(),a((e=>async(t,a)=>{try{t({type:Z});const{userLogin:{userInfo:s}}=a(),c=s.isSocialLogin?{headers:{"Content-Type":"application/json",Authorization:"SocialLogin ".concat(s.id)}}:{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.accessToken)}},{data:r}=await fe.a.post("/api/orders/",e,c);t({type:$,payload:r})}catch(u){t({type:ee,payload:u.response&&u.response.data.message?u.response.data.message:u.message})}})({orderItems:r,shippingAddress:n,paymentMethod:l,itemsPrice:c.itemsPrice,shippingPrice:c.shippingPrice,taxPrice:c.taxPrice,totalPrice:c.totalPrice}))},children:"Place Order"})})]})})})]})})]})},ta=a(90),aa=a(53),sa=a(91);var ca=e=>{let{price:t,orderID:a}=e;const[c,r]=Object(s.useState)(""),n=Object(i.b)(),[o,l]=Object(s.useState)(""),d=Object(aa.useStripe)(),j=Object(aa.useElements)(),b=Object(i.c)((e=>e.userLogin)),{userInfo:p}=b;Object(s.useEffect)((()=>{p&&t&&(async()=>{const{data:e}=await fe.a.post("/api/orders/stripe-payment",{price:t,email:p.email},{headers:{"Content-Type":"application/json"}});l(e.clientSecret)})()}),[t,p]);return Object(Ce.jsxs)(Ie.a,{id:"payment-form",onSubmit:async e=>{if(e.preventDefault(),d&&j)if(o){const e=await d.confirmBancontactPayment(o,{payment_method:{billing_details:{name:p.name,email:p.email}},return_url:"https://bzshop.herokuapp.com/cart"});console.log(e.error),e.error?r(e.error.message):(n(qt("Stripe")),n(Tt(a,{...e.paymentIntent,paymentMode:"stripe"})))}else window.location.reload()},children:[c&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",children:c}),Object(Ce.jsx)(Ie.a.Group,{style:{margin:"1em 0",fontSize:"1em"},children:Object(Ce.jsx)(aa.CardElement,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}},id:"card-element"})}),Object(Ce.jsx)("div",{className:"d-grid",children:Object(Ce.jsx)(Ct.a,{disabled:!d,size:"lg",type:"submit",children:"Pay Now"})})]})};var ra=e=>{let{match:t,history:a}=e;const c=Object(sa.a)("pk_test_51KHpHgB7wulEWrP9e1cdbSu37puyswIF2U5raRzjSPk6JotDTdiIcPQIbnkqtuBwys6aJEoPQ40UAWp4BVOMluMo00smMxYWd0"),[r,n]=Object(s.useState)(!1),l=Object(i.b)(),d=t.params.id,j=Object(i.c)((e=>e.orderDetails)),{loading:b,order:p,error:u}=j,h=Object(i.c)((e=>e.orderPay)),{loading:m,success:O}=h,g=Object(i.c)((e=>e.orderDeliver)),{loading:x,success:y}=g,f=Object(i.c)((e=>e.userLogin)),{userInfo:S}=f,v=Object(i.c)((e=>e.userDetails)),{error:E}=v;Object(s.useEffect)((()=>{if(E&&S&&!S.isSocialLogin){const e=JSON.parse(localStorage.getItem("userInfo"));e&&l(Se(e.email))}}),[E,l,S]),Object(s.useEffect)((()=>{(!p||p._id!==d||O||y)&&(O&&l({type:oe}),y&&l({type:be}),l((e=>async(t,a)=>{try{t({type:ae});const{userLogin:{userInfo:s}}=a(),c=s.isSocialLogin?{headers:{Authorization:"SocialLogin ".concat(s.id)}}:{headers:{Authorization:"Bearer ".concat(s.accessToken)}},{data:r}=await fe.a.get("/api/orders/".concat(e),c);t({type:se,payload:r})}catch(u){t({type:ce,payload:u.response&&u.response.data.message?u.response.data.message:u.message})}})(d)))}),[p,d,l,O,y]),Object(s.useEffect)((()=>{S||a.push("/login"),r||(async()=>{const e=S.isSocialLogin?{headers:{Authorization:"SocialLogin ".concat(S.id)}}:{headers:{Authorization:"Bearer ".concat(S.accessToken)}},{data:t}=await fe.a.get("/api/config/paypal",e),a=document.createElement("script");a.async=!0,a.type="text/javascript",a.src="https://www.paypal.com/sdk/js?client-id=".concat(t,"&currency=USD&disable-funding=credit,card"),a.onload=()=>n(!0),document.body.appendChild(a)})()}),[S,r,a]);return b?Object(Ce.jsx)(kt,{}):u?Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:u}):Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)("h2",{children:["Order ",d]}),Object(Ce.jsx)(Pe.a,{children:b?Object(Ce.jsx)(kt,{}):Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(ze.a,{md:8,children:Object(Ce.jsxs)(Nt.a,{variant:"flush",children:[Object(Ce.jsxs)(Nt.a.Item,{children:[Object(Ce.jsx)("h2",{children:"Payment Method"}),Object(Ce.jsxs)("p",{children:[Object(Ce.jsx)("strong",{children:"Method: "})," ",p.paymentMethod]}),Object(Ce.jsx)("div",{children:p.isPaid?Object(Ce.jsxs)(Je,{variant:"success",children:["Paid at: ",At(p.paidAt)]}):Object(Ce.jsx)(Je,{variant:"danger",children:"Not Paid"})})]}),Object(Ce.jsxs)(Nt.a.Item,{children:[Object(Ce.jsx)("h2",{children:"Cart Items"}),0!==p.orderItems.length?Object(Ce.jsxs)(Nt.a,{variant:"flush",children:[Object(Ce.jsx)("div",{style:{background:"red"}}),p.orderItems.map(((e,t)=>Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsxs)(Pe.a,{children:[Object(Ce.jsx)(ze.a,{md:2,children:Object(Ce.jsx)(Be.a,{className:"product-image",src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(Ce.jsx)(ze.a,{children:Object(Ce.jsx)(o.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(Ce.jsxs)(ze.a,{md:4,children:[e.qty," x ",e.price," ="," ",(e.qty*e.price).toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"eur"})]})]})},t)))]}):Object(Ce.jsx)(Je,{children:"No order"})]})]})}),Object(Ce.jsx)(ze.a,{md:4,children:Object(Ce.jsx)(_e.a,{children:Object(Ce.jsxs)(Nt.a,{variant:"flush",children:[Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsx)("h2",{className:"text-center",children:"Order Summary"})}),u&&Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:u})}),Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsxs)(Pe.a,{children:[Object(Ce.jsx)(ze.a,{children:Object(Ce.jsx)("strong",{children:"Subtotal"})}),Object(Ce.jsx)(ze.a,{children:p.itemsPrice.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"eur"})})]})}),Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsxs)(Pe.a,{children:[Object(Ce.jsx)(ze.a,{children:Object(Ce.jsx)("strong",{children:"Tax"})}),Object(Ce.jsx)(ze.a,{children:p.taxPrice.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"eur"})})]})}),Object(Ce.jsx)(Nt.a.Item,{children:Object(Ce.jsxs)(Pe.a,{children:[Object(Ce.jsx)(ze.a,{children:Object(Ce.jsx)("strong",{children:"Total"})}),Object(Ce.jsx)(ze.a,{children:p.totalPrice.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"eur"})})]})}),!p.isPaid&&Object(Ce.jsx)(Ce.Fragment,{children:"PayPal"===p.paymentMethod?Object(Ce.jsxs)(Nt.a.Item,{children:[m&&Object(Ce.jsx)(kt,{}),r?Object(Ce.jsx)(ta.PayPalButton,{style:{shape:"rect",color:"gold",layout:"vertical",label:"pay"},currency:"USD",amount:Number(p.totalPrice/72).toFixed(2),onSuccess:e=>{l(qt("PayPal")),l(Tt(d,{...e,paymentMode:"paypal"}))}}):Object(Ce.jsx)(kt,{})]}):Object(Ce.jsxs)(Nt.a.Item,{children:[m&&Object(Ce.jsx)(kt,{}),Object(Ce.jsx)(aa.Elements,{stripe:c,children:Object(Ce.jsx)(ca,{price:100*p.totalPrice,orderID:d})})]})}),S&&S.isAdmin&&p.isPaid&&!p.isDelivered&&Object(Ce.jsxs)(Nt.a.Item,{children:[x&&Object(Ce.jsx)(kt,{}),Object(Ce.jsx)("div",{className:"d-grid",children:Object(Ce.jsx)(Ct.a,{type:"button",variant:"info",size:"lg",onClick:()=>{l((e=>async(t,a)=>{try{t({type:le});const{userLogin:{userInfo:s}}=a(),c=s.isSocialLogin?{headers:{Authorization:"SocialLogin ".concat(s.id)}}:{headers:{Authorization:"Bearer ".concat(s.accessToken)}},{data:r}=await fe.a.put("/api/orders/".concat(e,"/deliver"),{},c);t({type:de,payload:r})}catch(u){t({type:je,payload:u.response&&u.response.data.message?u.response.data.message:u.message})}})(d))},children:"Mark as Delivered"})})]})]})})})]})})]})};var na=e=>{let{match:t,history:a}=e;const[c,r]=Object(s.useState)(""),[n,o]=Object(s.useState)("password"),[l,d]=Object(s.useState)("password"),[j,b]=Object(s.useState)(null),[p,u]=Object(s.useState)(""),[h,m]=Object(s.useState)(""),O=Object(i.b)(),g=Object(i.c)((e=>e.userResetPassword)),{loading:x,resetPassword:y,error:f}=g;Object(s.useEffect)((()=>{const e=localStorage.getItem("EcommerceUserName");e&&r(e)}),[]),Object(s.useEffect)((()=>{y&&setTimeout((()=>{a.push("/login")}),1e4)}),[a,y]);return Object(Ce.jsxs)(Wt,{children:[Object(Ce.jsx)("h1",{children:c?"".concat(c,", reset password"):"Reset Password"}),j&&Object(Ce.jsx)(Je,{dismissible:!0,duration:8,variant:"warning",children:j}),y&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"success",duration:8,children:"Password Changed Successfully."}),f&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",children:f}),x?Object(Ce.jsx)(kt,{}):Object(Ce.jsxs)(Ie.a,{onSubmit:e=>{e.preventDefault(),h!==p?b("Passwords do not match. Please retry."):O(((e,t)=>async a=>{try{a({type:I});const s={headers:{"Content-Type":"application/json"}},{data:c}=await fe.a.put("/api/users/reset",{passwordToken:e,password:t},s);a({type:N,payload:c})}catch(f){a({type:C,payload:f.response&&f.response.data.message?f.response.data.message:f.message})}})(t.params.token,h))},style:{width:"33em"},children:[Object(Ce.jsx)(Ie.a.Group,{className:"mb-2",children:Object(Ce.jsxs)(Ne.a,{style:{width:"100%"},children:[Object(Ce.jsx)(Lt.a,{controlId:"passwordinput",label:"Password",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",type:n,placeholder:"Enter your password",value:h,style:{borderRight:"none",width:"205%"},onChange:e=>m(e.target.value)})}),Object(Ce.jsx)("div",{className:"input-group-append",children:Object(Ce.jsx)(Ne.a.Text,{onClick:e=>{e.preventDefault(),e.stopPropagation(),o("password"===n?"text":"password")},style:{paddingLeft:"1em",fontSize:"1rem",width:"17.5%",height:"78%",marginLeft:"15rem",background:"transparent"},children:"text"===n?Object(Ce.jsx)("i",{className:"far fa-eye-slash"}):Object(Ce.jsx)("i",{className:"far fa-eye"})})})]})}),Object(Ce.jsx)(Ie.a.Group,{className:"my-2",children:Object(Ce.jsxs)(Ne.a,{style:{width:"100%"},children:[Object(Ce.jsx)(Lt.a,{controlId:"confirmpasswordinput",label:"Confirm password",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",type:l,placeholder:"Confirm your password",value:p,style:{borderRight:"none",width:"205%"},onChange:e=>u(e.target.value)})}),Object(Ce.jsx)("div",{className:"input-group-append",children:Object(Ce.jsx)(Ne.a.Text,{onClick:e=>{e.preventDefault(),e.stopPropagation(),d("password"===l?"text":"password")},style:{paddingLeft:"1em",fontSize:"1rem",width:"17.5%",height:"78%",marginLeft:"15rem",background:"transparent"},children:"text"===l?Object(Ce.jsx)("i",{className:"far fa-eye-slash"}):Object(Ce.jsx)("i",{className:"far fa-eye"})})})]})}),Object(Ce.jsx)(Ct.a,{type:"submit",style:{padding:"0.5em 1em",width:"8rem"},children:"Submit"})]})]})};var ia=e=>{let{match:t,history:a}=e;const c=t.params.pageNumber||1,r=Object(i.b)(),n=Object(i.c)((e=>e.userList)),{loading:o,users:l,error:d,page:b,pages:p,total:u}=n,h=Object(i.c)((e=>e.userLogin)),{userInfo:m}=h,O=Object(i.c)((e=>e.userDelete)),{success:g}=O,x=Object(i.c)((e=>e.userDetails)),{error:y}=x;Object(s.useEffect)((()=>{if(y&&m&&!m.isSocialLogin){const e=JSON.parse(localStorage.getItem("userInfo"));e&&r(Se(e.email))}}),[y,r,m]),Object(s.useEffect)((()=>{m&&m.isAdmin?r(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return async(t,a)=>{try{t({type:M});const{userLogin:{userInfo:s}}=a(),c=s.isSocialLogin?{headers:{Authorization:"SocialLogin ".concat(s.id)}}:{headers:{Authorization:"Bearer ".concat(s.accessToken)}},{data:r}=await fe.a.get("/api/users?pageNumber=".concat(e),c);t({type:q,payload:r})}catch(d){t({type:J,payload:d.response&&d.response.data.message?d.response.data.message:d.message})}}}(c)):a.push("/login")}),[r,a,m,g,c]);const f=e=>{window.confirm("Are you sure you wanna delete user?")&&r((e=>async(t,a)=>{try{t({type:W});const{userLogin:{userInfo:s}}=a(),c=s.isSocialLogin?{headers:{Authorization:"SocialLogin ".concat(s.id)}}:{headers:{Authorization:"Bearer ".concat(s.accessToken)}};await fe.a.delete("/api/users/".concat(e),c),t({type:V})}catch(d){t({type:Q,payload:d.response&&d.response.data.message?d.response.data.message:d.message})}})(e))};return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)("h1",{children:["Users (","".concat(u||0),")"]}),o?Object(Ce.jsx)(kt,{}):d?Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:d}):Object(Ce.jsxs)(Yt.a,{striped:!0,bordered:!0,responsive:!0,className:"table-sm text-center",children:[Object(Ce.jsx)("thead",{children:Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("th",{children:"ID"}),Object(Ce.jsx)("th",{children:"NAME"}),Object(Ce.jsx)("th",{children:"EMAIL"}),Object(Ce.jsx)("th",{children:"CONFIRMED"}),Object(Ce.jsx)("th",{children:"ADMIN"}),Object(Ce.jsx)("th",{children:"ACTION"})]})}),Object(Ce.jsx)("tbody",{children:l&&l.map((e=>Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("td",{children:e._id}),Object(Ce.jsx)("td",{children:e.name}),Object(Ce.jsx)("td",{children:Object(Ce.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(Ce.jsx)("td",{children:e.isConfirmed?Object(Ce.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(Ce.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Ce.jsx)("td",{children:e.isAdmin?Object(Ce.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(Ce.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Ce.jsxs)("td",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"},children:[Object(Ce.jsx)(j.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(Ce.jsx)(Ct.a,{variant:"link",className:"btn-sm",children:Object(Ce.jsx)("i",{className:"fas fa-edit"})})}),Object(Ce.jsx)(Ct.a,{className:"btn-sm",variant:"danger",onClick:()=>f(e._id),children:Object(Ce.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)))})]}),Object(Ce.jsx)(Ue,{pages:p,page:b,isAdmin:!0,forUsers:!0})]})};var oa=e=>{let{match:t,history:a}=e;const c=t.params.id,[r,n]=Object(s.useState)(""),[l,d]=Object(s.useState)(""),[j,b]=Object(s.useState)(!1),p=Object(i.b)(),u=Object(i.c)((e=>e.userDetails)),{loading:h,user:O,error:g}=u,x=Object(i.c)((e=>e.userUpdate)),{loading:y,error:f,success:S}=x,v=Object(i.c)((e=>e.userLogin)),{userInfo:E}=v;Object(s.useEffect)((()=>{if(g&&E&&!E.isSocialLogin){const e=JSON.parse(localStorage.getItem("userInfo"));e&&p(Se(e.email))}}),[g,p,E]),Object(s.useEffect)((()=>{S?(p({type:X}),a.push("/admin/userlist")):O&&O.name&&O._id===c?(n(O.name),d(O.email),b(O.isAdmin)):p(ve(c))}),[O,p,c,S,a]);return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(o.Link,{to:"/admin/userlist",children:Object(Ce.jsx)(Ct.a,{variant:"outline-primary",className:"my-3",children:"Go Back"})}),Object(Ce.jsxs)(Wt,{children:[O&&Object(Ce.jsx)(vt,{title:"Edit ".concat(O.name," | Kosells")}),Object(Ce.jsx)("h1",{children:"Edit User"}),y?Object(Ce.jsx)(kt,{}):f?Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:f}):Object(Ce.jsx)(Ce.Fragment,{children:h?Object(Ce.jsx)(kt,{}):Object(Ce.jsxs)(Ie.a,{onSubmit:e=>{e.preventDefault(),p((e=>async(t,a)=>{try{t({type:Y});const{userLogin:{userInfo:s}}=a(),c=s.isSocialLogin?{headers:{"Content-Type":"application/json",Authorization:"SocialLogin ".concat(s.id)}}:{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.accessToken)}},r=s.isSocialLogin,{data:n}=await fe.a.put("/api/users/".concat(e._id),e,c);if(t({type:H}),t({type:D,payload:{...n,isSocialLogin:r}}),n.id===s.id){const e={...s,...s,id:n.id,name:n.name,email:n.email,isAdmin:n.isAdmin,isConfirmed:n.isConfirmed};t({type:m,payload:e}),localStorage.setItem("userInfo",JSON.stringify(e))}}catch(g){t({type:K,payload:g.response&&g.response.data.message?g.response.data.message:g.message})}})({_id:c,name:r,email:l,isAdmin:j}))},children:[g&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:g}),Object(Ce.jsxs)(Ie.a.Group,{controlId:"name",className:"mb-2",children:[Object(Ce.jsx)(Ie.a.Label,{children:"Name"}),Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter Name",type:"text",value:r,onChange:e=>n(e.target.value)})]}),Object(Ce.jsxs)(Ie.a.Group,{controlId:"email",className:"my-2",children:[Object(Ce.jsx)(Ie.a.Label,{children:"Email Address"}),Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter Email Address",type:"email",value:l,onChange:e=>d(e.target.value)})]}),Object(Ce.jsx)(Ie.a.Group,{controlId:"isAdmin",className:"my-2",children:Object(Ce.jsx)(Ne.a,{children:Object(Ce.jsx)(Ie.a.Check,{type:"checkbox",label:"Is Admin",size:"lg",style:{borderRight:"none"},checked:j,onChange:e=>b(e.target.checked)})})}),Object(Ce.jsx)(Ct.a,{type:"submit",variant:"dark",className:"my-1",children:"Edit"})]})})]})]})};var la=e=>{let{history:t,match:a}=e;const c=a.params.pageNumber||1,r=Object(i.b)(),n=Object(i.c)((e=>e.productList)),{loading:o,products:l,error:d,pages:b,page:p}=n,u=Object(i.c)((e=>e.productDelete)),{loading:h,success:m,error:O}=u,g=Object(i.c)((e=>e.productCreate)),{loading:x,success:y,error:f,product:S}=g,v=Object(i.c)((e=>e.userLogin)),{userInfo:E}=v,I=Object(i.c)((e=>e.userDetails)),{error:N}=I;Object(s.useEffect)((()=>{E&&E.isSocialLogin?r(ve(E.id)):r(ve("profile"))}),[E,r]),Object(s.useEffect)((()=>{if(N&&E&&!E.isSocialLogin){const e=JSON.parse(localStorage.getItem("userInfo"));e&&r(Se(e.email))}}),[N,r,E]),Object(s.useEffect)((()=>{E.isAdmin||t.push("/login"),r({type:st}),y?t.push("/admin/product/".concat(S._id,"/edit")):r(ht("",c,10))}),[r,t,E,m,y,S,c]);const C=e=>{window.confirm("Are you sure you wanna delete this product?")&&r((e=>async(t,a)=>{try{t({type:Xe});const{userLogin:{userInfo:s}}=a(),c=s.isSocialLogin?{headers:{Authorization:"SocialLogin ".concat(s.id)}}:{headers:{Authorization:"Bearer ".concat(s.accessToken)}},{data:r}=await fe.a.delete("/api/products/".concat(e),c);r&&t({type:Ze})}catch(d){t({type:$e,payload:d.response&&d.response.data.message?d.response.data.message:d.message})}})(e))};return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(Pe.a,{className:"align-items-center",children:[Object(Ce.jsx)(ze.a,{children:Object(Ce.jsx)("h1",{children:"Products"})}),Object(Ce.jsx)(ze.a,{style:{display:"flex",justifyContent:"flex-end"},children:Object(Ce.jsxs)(Ct.a,{className:"my-3",style:{padding:"0.5em 1em"},onClick:()=>{r((async(e,t)=>{try{e({type:et});const{userLogin:{userInfo:a}}=t(),s=a.isSocialLogin?{headers:{"Content-Type":"application/json",Authorization:"SocialLogin ".concat(a.id)}}:{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.accessToken)}},{data:c}=await fe.a.post("/api/products/",{},s);e({type:tt,payload:c})}catch(d){e({type:at,payload:d.response&&d.response.data.message?d.response.data.message:d.message})}}))},children:[Object(Ce.jsx)("i",{className:"fas fa-plus"})," Create Product"]})})]}),O&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:O}),f&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:f}),o||x||h?Object(Ce.jsx)(kt,{}):d?Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:d}):Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)(Yt.a,{striped:!0,bordered:!0,responsive:!0,className:"table-sm text-center",children:[Object(Ce.jsx)("thead",{children:Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("th",{children:"ID"}),Object(Ce.jsx)("th",{children:"NAME"}),Object(Ce.jsx)("th",{children:"PRICE"}),Object(Ce.jsx)("th",{children:"CATEGORY"}),Object(Ce.jsx)("th",{children:"BRAND"}),Object(Ce.jsx)("th",{children:"ACTION"})]})}),Object(Ce.jsx)("tbody",{children:l&&l.map((e=>Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("td",{children:e._id}),Object(Ce.jsx)("td",{children:e.name}),Object(Ce.jsx)("td",{children:e.price&&e.price.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})}),Object(Ce.jsx)("td",{children:e.category}),Object(Ce.jsx)("td",{children:e.brand}),Object(Ce.jsxs)("td",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"},children:[Object(Ce.jsx)(j.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit"),children:Object(Ce.jsx)(Ct.a,{variant:"link",className:"btn-sm",children:Object(Ce.jsx)("i",{className:"fas fa-edit"})})}),Object(Ce.jsx)(Ct.a,{className:"btn-sm",onClick:()=>C(e._id),variant:"danger",children:Object(Ce.jsx)("i",{style:{fontSize:"0.9em",padding:"0"},className:"fas fa-trash"})})]})]},e._id)))})]}),Object(Ce.jsx)(Ue,{pages:b,page:p,isAdmin:!0})]})]})};var da=e=>{let{match:t,history:a}=e;const c=t.params.id,[r,n]=Object(s.useState)(""),[l,d]=Object(s.useState)(""),[j,b]=Object(s.useState)(""),[p,u]=Object(s.useState)(""),[h,m]=Object(s.useState)(""),[O,g]=Object(s.useState)(0),[x,y]=Object(s.useState)(0),[f,S]=Object(s.useState)(!1),[v,E]=Object(s.useState)(""),I=Object(i.b)(),N=Object(i.c)((e=>e.productDetails)),{loading:C,product:L,error:w}=N,R=Object(i.c)((e=>e.productUpdate)),{loading:k,success:T,error:_}=R,A=Object(i.c)((e=>e.userLogin)),{userInfo:D}=A,U=Object(i.c)((e=>e.userDetails)),{error:P}=U;Object(s.useEffect)((()=>{D&&D.isSocialLogin?I(ve(D.id)):I(ve("profile"))}),[D,I]),Object(s.useEffect)((()=>{if(P&&D&&!D.isSocialLogin){const e=JSON.parse(localStorage.getItem("userInfo"));e&&I(Se(e.email))}}),[P,I,D]),Object(s.useEffect)((()=>{I(mt(c))}),[]),Object(s.useEffect)((()=>{T?(I({type:it}),a.push("/admin/productlist")):L&&L._id===c?(n(L.name),g(L.price),m(L.image),d(L.brand),b(L.category),u(L.description),y(L.countInStock)):I(mt(c))}),[L,I,c,a,T]);const z=Object(s.useRef)(null);return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(o.Link,{to:"/admin/productlist",children:Object(Ce.jsx)(Ct.a,{variant:"outline-primary",className:"mt-3",children:"Go Back"})}),Object(Ce.jsxs)(Wt,{style:{marginTop:"-2em"},children:[Object(Ce.jsx)("h1",{children:"Edit Product"}),k?Object(Ce.jsx)(kt,{}):_?Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:_}):Object(Ce.jsx)(Ce.Fragment,{children:C?Object(Ce.jsx)(kt,{}):Object(Ce.jsxs)(Ie.a,{onSubmit:e=>{e.preventDefault(),I((e=>async(t,a)=>{try{t({type:ct});const{userLogin:{userInfo:s}}=a(),c=s.isSocialLogin?{headers:{"Content-Type":"application/json",Authorization:"SocialLogin ".concat(s.id)}}:{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.accessToken)}},{data:r}=await fe.a.put("/api/products/".concat(e._id),e,c);t({type:rt,payload:r})}catch(w){t({type:nt,payload:w.response&&w.response.data.message?w.response.data.message:w.message})}})({_id:c,name:r,brand:l,price:O,category:j,description:p,countInStock:x,image:h}))},children:[w&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:w}),Object(Ce.jsx)(Ie.a.Group,{controlId:"name",children:Object(Ce.jsx)(Lt.a,{controlId:"nameinput",label:"Name",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter Name",type:"text",value:r,onChange:e=>n(e.target.value)})})}),Object(Ce.jsx)(Ie.a.Group,{controlId:"price",children:Object(Ce.jsx)(Lt.a,{controlId:"priceinput",label:"Price",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter price",type:"number",value:O,min:"0",max:"1000",step:"0.1",onChange:e=>g(e.target.value)})})}),v&&Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:v}),f?Object(Ce.jsx)("div",{children:"Uploading..."}):Object(Ce.jsx)(Ie.a.Group,{controlId:"image",children:Object(Ce.jsxs)(Pe.a,{children:[Object(Ce.jsx)(ze.a,{md:9,children:Object(Ce.jsx)(Lt.a,{controlId:"imageinput",label:"Image URL",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter image URL",type:"text",value:h,onChange:e=>m(e.target.value)})})}),Object(Ce.jsxs)(ze.a,{md:3,children:[Object(Ce.jsx)("input",{accept:"image/*",type:"file",id:"file",ref:z,onChange:async e=>{const t=e.target.files[0],a=new FormData;a.append("image",t),S(!0);try{const e={headers:{"Content-Type":"multipart/form-data"}},{data:t}=await fe.a.post("/api/upload",a,e);m(t),S(!1)}catch(w){E("Please choose a valid image"),S(!1)}},style:{display:"none"}}),Object(Ce.jsxs)("div",{className:"profile-page-image",style:{alignSelf:"center"},children:[Object(Ce.jsx)(Be.a,{src:h,alt:r,title:"Click to input file",style:{width:"100%",border:"1px solid #ced4da",marginBottom:"1em",cursor:"pointer",borderRadius:"0.25rem"}}),Object(Ce.jsx)("div",{className:"image-overlay-product",onClick:()=>{z.current.click()},children:"Click to upload image"})]})]})]})}),Object(Ce.jsx)(Ie.a.Group,{controlId:"brand",children:Object(Ce.jsx)(Lt.a,{controlId:"brandinput",label:"Brand",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter brand",type:"text",value:l,onChange:e=>d(e.target.value)})})}),Object(Ce.jsx)(Ie.a.Group,{controlId:"category",children:Object(Ce.jsx)(Lt.a,{controlId:"categoryinput",label:"Category",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter category",type:"text",value:j,onChange:e=>b(e.target.value)})})}),Object(Ce.jsx)(Ie.a.Group,{controlId:"description",children:Object(Ce.jsx)(Lt.a,{controlId:"descinput",label:"Description",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter description URL",type:"text",value:p,onChange:e=>u(e.target.value)})})}),Object(Ce.jsx)(Ie.a.Group,{controlId:"countInStock",children:Object(Ce.jsx)(Lt.a,{controlId:"countinstockinput",label:"CountInStock",className:"mb-3",children:Object(Ce.jsx)(Ie.a.Control,{size:"lg",placeholder:"Enter Count In Stock",type:"number",min:"0",max:"1000",value:x,onChange:e=>y(e.target.value)})})}),Object(Ce.jsx)("div",{className:"d-flex",children:Object(Ce.jsx)(Ct.a,{type:"submit",className:"my-1 ms-auto",children:"Update Product"})})]})})]})]})};var ja=e=>{let{history:t,match:a}=e;const c=a.params.pageNumber||1,r=Object(i.b)(),n=Object(i.c)((e=>e.orderListAll)),{loading:o,orders:l,error:d,page:b,pages:p,total:u}=n,h=Object(i.c)((e=>e.userLogin)),{userInfo:m}=h,O=Object(i.c)((e=>e.userDetails)),{error:g}=O;return Object(s.useEffect)((()=>{if(g&&m&&!m.isSocialLogin){const e=JSON.parse(localStorage.getItem("userInfo"));e&&r(Se(e.email))}}),[g,r,m]),Object(s.useEffect)((()=>{m&&m.isAdmin?r(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return async(t,a)=>{try{t({type:Oe});const{userLogin:{userInfo:s}}=a(),c=s.isSocialLogin?{headers:{Authorization:"SocialLogin ".concat(s.id)}}:{headers:{Authorization:"Bearer ".concat(s.accessToken)}},{data:r}=await fe.a.get("/api/orders?pageNumber=".concat(e),c);t({type:ge,payload:r})}catch(d){t({type:xe,payload:d.response&&d.response.data.message?d.response.data.message:d.message})}}}(c)):t.push("/login")}),[r,t,m,c]),Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(Pe.a,{className:"align-items-center",children:Object(Ce.jsx)(ze.a,{children:Object(Ce.jsxs)("h1",{children:["All Orders (","".concat(u||0),")"]})})}),o?Object(Ce.jsx)(kt,{}):d?Object(Ce.jsx)(Je,{dismissible:!0,variant:"danger",duration:10,children:d}):Object(Ce.jsxs)(Yt.a,{striped:!0,bordered:!0,responsive:!0,className:"table-sm text-center",children:[Object(Ce.jsx)("thead",{children:Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("th",{children:"ID"}),Object(Ce.jsx)("th",{children:"USER"}),Object(Ce.jsx)("th",{children:"TOTAL"}),Object(Ce.jsx)("th",{children:"DATE"}),Object(Ce.jsx)("th",{children:"PAID"}),Object(Ce.jsx)("th",{children:"DELIVERED"}),Object(Ce.jsx)("th",{children:"ACTION"})]})}),Object(Ce.jsx)("tbody",{children:l&&l.map((e=>Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("td",{children:e._id}),Object(Ce.jsx)("td",{children:e.user&&e.user.name}),Object(Ce.jsx)("td",{children:e.totalPrice.toLocaleString("en-IN",{maximumFractionDigits:2,style:"currency",currency:"INR"})}),Object(Ce.jsx)("td",{children:At(e.createdAt)}),Object(Ce.jsx)("td",{children:e.isPaid?At(e.paidAt):Object(Ce.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Ce.jsx)("td",{children:e.isDelivered?At(e.deliveredAt):Object(Ce.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Ce.jsx)("td",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"},children:Object(Ce.jsx)(j.LinkContainer,{to:"/order/".concat(e._id),children:Object(Ce.jsx)(Ct.a,{variant:"link",className:"btn-sm",children:"View Details"})})})]},e._id)))})]}),Object(Ce.jsx)(Ue,{pages:p,page:b,isAdmin:!0,forOrders:!0})]})},ba=a.p+"static/media/404Error.0ed04e00.png";a(137);var pa=()=>Object(Ce.jsxs)("div",{className:"text-center",children:[Object(Ce.jsx)("img",{className:"error-img",alt:"error",src:ba}),Object(Ce.jsxs)("p",{className:"mb-0 mt-3 text-error",children:[Object(Ce.jsx)("i",{className:"far fa-frown"})," Looks like this page does not exist."]}),Object(Ce.jsxs)("p",{className:"mt-0 text-error",children:["Go Back to the ",Object(Ce.jsx)(o.Link,{to:"/",children:"Home Page"})]})]}),ua=a(151),ha=a(156);const ma=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Oa(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t="".concat("","/service-worker.js");ma?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((a=>{const s=a.headers.get("content-type");404===a.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):ga(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ga(t,e)}))}}function ga(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const a=e.installing;null!=a&&(a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}a(138);var xa=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)(null),r=e=>{t(!0),c(e.waiting)};Object(s.useEffect)((()=>{Oa({onUpdate:r})}),[]);const n=()=>{null===a||void 0===a||a.postMessage({type:"SKIP_WAITING"}),t(!1),window.location.reload(!0)};return Object(Ce.jsx)(ua.a,{className:"update-toast",onClick:n,children:Object(Ce.jsxs)(ha.a,{show:e,onClose:n,bg:"dark",children:[Object(Ce.jsx)(ha.a.Header,{children:Object(Ce.jsx)("strong",{className:"me-auto text-black",children:"New Version Available"})}),Object(Ce.jsx)(ha.a.Body,{className:"text-white",children:"Reload to see whats new!"})]})})};var ya=()=>Object(Ce.jsxs)(o.BrowserRouter,{children:[Object(Ce.jsx)(we,{}),Object(Ce.jsx)(xa,{}),Object(Ce.jsx)("main",{className:"py-2",children:Object(Ce.jsx)(d.a,{children:Object(Ce.jsxs)(l.g,{children:[Object(Ce.jsx)(l.d,{path:"/",component:It,exact:!0}),Object(Ce.jsx)(l.d,{path:"/search/:keyword",component:It,exact:!0}),Object(Ce.jsx)(l.d,{path:"/page/:pageNumber",component:It,exact:!0}),Object(Ce.jsx)(l.d,{path:"/search/:keyword/page/:pageNumber",exact:!0,component:It}),Object(Ce.jsx)(l.d,{path:"/login",component:Vt}),Object(Ce.jsx)(l.d,{path:"/register",component:Qt}),Object(Ce.jsx)(l.d,{path:"/user/password/reset/:token",component:na}),Object(Ce.jsx)(l.d,{path:"/profile",component:Ht}),Object(Ce.jsx)(l.d,{path:"/product/:id",component:Dt}),Object(Ce.jsx)(l.d,{path:"/cart/:id?",component:Jt}),Object(Ce.jsx)(l.d,{path:"/user/confirm/:token",component:Kt,exact:!0}),Object(Ce.jsx)(l.d,{path:"/shipping",component:Zt}),Object(Ce.jsx)(l.d,{path:"/payment",component:$t}),Object(Ce.jsx)(l.d,{path:"/placeorder",component:ea}),Object(Ce.jsx)(l.d,{path:"/order/:id",component:ra}),Object(Ce.jsx)(l.d,{path:"/admin/userlist",component:ia,exact:!0}),Object(Ce.jsx)(l.d,{path:"/admin/userlist/:pageNumber",component:ia,exact:!0}),Object(Ce.jsx)(l.d,{path:"/admin/user/:id/edit",component:oa}),Object(Ce.jsx)(l.d,{path:"/admin/productlist",exact:!0,component:la}),Object(Ce.jsx)(l.d,{path:"/admin/productlist/:pageNumber",component:la,exact:!0}),Object(Ce.jsx)(l.d,{path:"/admin/product/:id/edit",component:da}),Object(Ce.jsx)(l.d,{path:"/admin/orderlist",component:ja,exact:!0}),Object(Ce.jsx)(l.d,{path:"/admin/orderlist/:pageNumber",component:ja,exact:!0}),Object(Ce.jsx)(l.d,{component:pa})]})})}),Object(Ce.jsx)(Re,{})]}),fa=a(55),Sa=a(93),va=a(92);const Ea=Object(fa.combineReducers)({productList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We:return{loading:!0,products:[]};case Ve:return{loading:!1,products:t.payload.products,page:t.payload.page,pages:t.payload.pages};case Qe:return{loading:!1,error:t.payload};default:return{state:e}}},productDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:return{loading:!0,...e};case He:return{loading:!1,product:t.payload};case Ke:return{loading:!1,error:t.payload};default:return{...e}}},productDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe:return{loading:!0};case Ze:return{loading:!1,success:!0};case $e:return{loading:!1,error:t.payload};default:return{...e}}},productCreate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case et:return{loading:!0};case tt:return{loading:!1,success:!0,product:t.payload};case at:return{loading:!1,error:t.payload};case st:return{};default:return{...e}}},productCreateReview:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ot:return{loading:!0};case lt:return{loading:!1,success:!0};case dt:return{loading:!1,error:t.payload};case jt:return{};default:return{...e}}},productUpdate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct:return{loading:!0};case rt:return{loading:!1,success:!0,product:t.payload};case nt:return{loading:!1,error:t.payload};case it:return{product:{}};default:return{...e}}},productTopRated:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bt:return{loading:!0,products:[]};case pt:return{loading:!1,products:t.payload};case ut:return{loading:!1,error:t.payload};default:return{...e}}},cart:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pt:const a=t.payload,s=e.cartItems.find((e=>e.product===a.product));return s?{...e,cartItems:e.cartItems.map((e=>e.product===s.product?a:e))}:{...e,cartItems:[...e.cartItems,a]};case zt:return{...e,cartItems:e.cartItems.filter((e=>e.product!==t.payload))};case Gt:return{...e,shippingAddress:t.payload};case Bt:return{...e,paymentMethod:t.payload};case Ft:return{cartItems:[],shippingAddress:t.payload};default:return{...e}}},userLogin:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{...e,loading:!0};case m:return{loading:!1,userInfo:t.payload};case O:return{loading:!1,error:t.payload};case f:return{};default:return{...e}}},userLoginRefresh:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{...e,loading:!0};case x:return{loading:!1,tokenInfo:t.payload};case y:return{loading:!1,error:t.payload};default:return{...e}}},userRegister:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{...e,loading:!0};case v:return{loading:!1,userInfo:t.payload};case E:return{loading:!1,error:t.payload};default:return{...e}}},userSendEmailVerfication:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{isLoading:!0};case w:return{isLoading:!0,emailSent:t.payload};case R:return{isLoading:!0,hasError:t.payload};default:return{...e}}},userConfirm:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isConfirmed:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{...e,loading:!0};case T:return{loading:!1,isConfirmed:t.payload};case _:return{loading:!1,error:t.payload};default:return{...e}}},userResetPassword:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{...e,loading:!0};case N:return{loading:!1,resetPassword:t.payload};case C:return{loading:!1,error:t.payload};default:return{...e}}},userDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{...e,loading:!0};case D:return{loading:!1,user:t.payload};case U:return{loading:!1,error:t.payload};case P:return{user:{}};default:return{...e}}},userProfileUpdate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return{loading:!0};case F:return{loading:!1,success:!0,userInfo:t.payload};case G:return{loading:!1,error:t.payload};case B:return{};default:return{...e}}},userList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return{loading:!0};case q:return{loading:!1,users:t.payload.users,page:t.payload.page,pages:t.payload.pages,total:t.payload.total};case J:return{loading:!1,error:t.payload};case"USER_LIST_RESET":return{users:[]};default:return{...e}}},userDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return{loading:!0};case V:return{loading:!1,success:!0};case Q:return{loading:!1,error:t.payload};default:return{...e}}},userUpdate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return{loading:!0};case H:return{loading:!1,success:!0};case K:return{loading:!1,error:t.payload};case X:return{user:{}};default:return{...e}}},orderCreate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return{loading:!0};case $:return{loading:!1,success:!0,order:t.payload};case ee:return{loading:!1,error:t.payload};case te:return{};default:return{...e}}},orderDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return{...e,loading:!0};case se:return{loading:!1,order:t.payload};case ce:return{loading:!1,error:t.payload};default:return{...e}}},orderPay:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return{...e,loading:!0};case ne:return{loading:!1,success:!0};case ie:return{loading:!1,error:t.payload};case oe:return{};default:return{...e}}},orderDeliver:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return{...e,loading:!0};case de:return{loading:!1,success:!0};case je:return{loading:!1,error:t.payload};case be:return{};default:return{...e}}},orderListUser:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return{...e,loading:!0};case ue:return{loading:!1,orders:t.payload};case he:return{loading:!1,error:t.payload};case me:return{orders:[]};default:return{...e}}},orderListAll:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return{...e,loading:!0};case ge:return{loading:!1,orders:t.payload.orders,page:t.payload.page,pages:t.payload.pages,total:t.payload.total};case xe:return{loading:!1,error:t.payload};default:return{...e}}}}),Ia=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],Na=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,Ca={cart:{cartItems:[...Ia],shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{}},userLogin:{userInfo:Na},userLoginRefresh:{tokenInfo:localStorage.getItem("refreshToken")?localStorage.getItem("refreshToken"):null}},La=[Sa.a];var wa=Object(fa.createStore)(Ea,Ca,Object(va.composeWithDevTools)(Object(fa.applyMiddleware)(...La)));a(139),a(140);n.a.render(Object(Ce.jsx)(i.a,{store:wa,children:Object(Ce.jsx)(c.a.StrictMode,{children:Object(Ce.jsx)(ft.b,{children:Object(Ce.jsx)(ya,{})})})}),document.getElementById("root"))},82:function(e,t,a){}},[[141,1,2]]]);
//# sourceMappingURL=main.2f9dd7c0.chunk.js.map